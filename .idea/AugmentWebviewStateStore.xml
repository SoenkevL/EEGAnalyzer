<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AugmentWebviewStateStore">
    <option name="stateMap">
      <map>
        <entry key="CHAT_STATE" value="eyJjdXJyZW50Q29udmVyc2F0aW9uSWQiOiIzOWZlYWQ5ZC0wZDJhLTRiYjgtOWViYi0yMjJiYWYwOWJiMjUiLCJjb252ZXJzYXRpb25zIjp7IjRlN2FjNjViLTM5ZjctNGU3My04NzQzLWE0ZmI0ZDg0OGFlMiI6eyJpZCI6IjRlN2FjNjViLTM5ZjctNGU3My04NzQzLWE0ZmI0ZDg0OGFlMiIsImNyZWF0ZWRBdElzbyI6IjIwMjUtMDQtMTZUMTk6MDg6NTQuODE2WiIsImxhc3RJbnRlcmFjdGVkQXRJc28iOiIyMDI1LTA0LTE2VDE5OjA4OjU0LjgxNloiLCJjaGF0SGlzdG9yeSI6W10sImZlZWRiYWNrU3RhdGVzIjp7fSwidG9vbFVzZVN0YXRlcyI6e30sImRyYWZ0RXhjaGFuZ2UiOnsicmVxdWVzdF9tZXNzYWdlIjoiIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCJ9XX0sInN0YXR1cyI6ImRyYWZ0In0sInJlcXVlc3RJZHMiOltdLCJpc1Bpbm5lZCI6ZmFsc2UsImlzU2hhcmVhYmxlIjpmYWxzZSwiZXh0cmFEYXRhIjp7Imhhc0RpcnR5RWRpdHMiOmZhbHNlfSwicGVyc29uYVR5cGUiOjB9LCIyMDIzMGQ5OC02ZmUyLTQzZWMtYTRkMS1jZTBkZDkxOWZlYTYiOnsiaWQiOiIyMDIzMGQ5OC02ZmUyLTQzZWMtYTRkMS1jZTBkZDkxOWZlYTYiLCJjcmVhdGVkQXRJc28iOiIyMDI1LTA0LTE2VDE5OjA4OjU0Ljg5NFoiLCJsYXN0SW50ZXJhY3RlZEF0SXNvIjoiMjAyNS0wNC0xNlQxOTowODo1NC44OTRaIiwiY2hhdEhpc3RvcnkiOltdLCJmZWVkYmFja1N0YXRlcyI6e30sInRvb2xVc2VTdGF0ZXMiOnt9LCJkcmFmdEV4Y2hhbmdlIjp7InJlcXVlc3RfbWVzc2FnZSI6IiIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgifV19LCJzdGF0dXMiOiJkcmFmdCJ9LCJyZXF1ZXN0SWRzIjpbXSwiaXNQaW5uZWQiOmZhbHNlLCJpc1NoYXJlYWJsZSI6ZmFsc2UsImV4dHJhRGF0YSI6eyJoYXNEaXJ0eUVkaXRzIjpmYWxzZX0sInBlcnNvbmFUeXBlIjowfSwiMDM3OTQ3NDYtY2Q3NS00NmM5LTkxZTQtYTIwNjJiMzY5ZDU4Ijp7ImlkIjoiMDM3OTQ3NDYtY2Q3NS00NmM5LTkxZTQtYTIwNjJiMzY5ZDU4IiwiY3JlYXRlZEF0SXNvIjoiMjAyNS0wNC0xNlQxOTowOTowMC4xMjBaIiwibGFzdEludGVyYWN0ZWRBdElzbyI6IjIwMjUtMDQtMTZUMTk6MTU6NTAuODE2WiIsImNoYXRIaXN0b3J5IjpbeyJyZXF1ZXN0X2lkIjoiZjljYmU3ZjktZTJhMC00ZjA1LWIyY2EtYjY2Njc0MTUwYzkxIiwidXVpZCI6IjM0ZWZhYzM2LTM1YzAtNGZlZS04YTMzLWY1YWNhMDFhMDQ4ZSIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtY2hlY2twb2ludC1kZWxpbWl0ZXIiLCJzdGF0dXMiOiJzdWNjZXNzIiwiZnJvbVRpbWVzdGFtcCI6MCwidG9UaW1lc3RhbXAiOjE3NDQ4MzA1NDAxMjAsInNlZW5fc3RhdGUiOiJzZWVuIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjdiZTVhMTk0LWU1ODItNDgxNy05Y2M2LTFmOWRmNDczZjlhZiIsInJlcXVlc3RfbWVzc2FnZSI6ImFuYWx5emUgdGhlIGNvbnRlbnRzIG9mIEBndWkgdG8gdW5kZXJzdGFuZCB3aGF0IGl0IGRvZXMgYW5kIGhvdyBpdCB3b3JrcyIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJhbmFseXplIHRoZSBjb250ZW50cyBvZiAifSx7InR5cGUiOiJtZW50aW9uIiwiYXR0cnMiOnsiaWQiOiIvZ3VpIiwibGFiZWwiOiJndWkiLCJkYXRhIjp7ImxhYmVsIjoiZ3VpIiwibmFtZSI6Imd1aSIsImlkIjoiL2d1aSIsImZvbGRlciI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiZ3VpIn0sInR5cGUiOiJpdGVtIn19fSx7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IiB0byB1bmRlcnN0YW5kIHdoYXQgaXQgZG9lcyBhbmQgaG93IGl0IHdvcmtzIn1dfV19LCJtZW50aW9uZWRfaXRlbXMiOlt7ImxhYmVsIjoiZ3VpIiwibmFtZSI6Imd1aSIsImlkIjoiL2d1aSIsImZvbGRlciI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoiZ3VpIn0sInR5cGUiOiJpdGVtIn1dLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFWWjNYUVhkZlo3ZDgxZjExYlRENEFQIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJMaXN0IGFsbCBmaWxlcyBhbmQgZGlyZWN0b3JpZXMgaW4gdGhlIEBndWkgZGlyZWN0b3J5LiBJIHdhbnQgdG8gdW5kZXJzdGFuZCB0aGUgb3ZlcmFsbCBzdHJ1Y3R1cmUgb2YgdGhlIEdVSSBjb21wb25lbnRzLlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSSdsbCBhbmFseXplIHRoZSBjb250ZW50cyBvZiB0aGUgYEBndWlgIGRpcmVjdG9yeSB0byB1bmRlcnN0YW5kIGl0cyBzdHJ1Y3R1cmUsIHB1cnBvc2UsIGFuZCBmdW5jdGlvbmFsaXR5LiBMZXQgbWUgZ2F0aGVyIGluZm9ybWF0aW9uIGFib3V0IGl0LlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJhbmFseXplIHRoZSBjb250ZW50cyBvZiBAZ3VpIHRvIHVuZGVyc3RhbmQgd2hhdCBpdCBkb2VzIGFuZCBob3cgaXQgd29ya3MifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIiLCJmb2xkZXJSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkknbGwgYW5hbHl6ZSB0aGUgY29udGVudHMgb2YgdGhlIGBAZ3VpYCBkaXJlY3RvcnkgdG8gdW5kZXJzdGFuZCBpdHMgc3RydWN0dXJlLCBwdXJwb3NlLCBhbmQgZnVuY3Rpb25hbGl0eS4gTGV0IG1lIGdhdGhlciBpbmZvcm1hdGlvbiBhYm91dCBpdC5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI2NzY4YTc5My01Y2I3LTRiNGMtODVkOC1lNGM0OWE2MmZjYTQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFBc21mRFpoenZYMjVYRWQ5Qmt6ckJDIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJTaG93IG1lIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIGd1aSBkaXJlY3RvcnkuIFdoYXQgc3ViZGlyZWN0b3JpZXMgYW5kIGZpbGVzIGV4aXN0PyBBbHNvLCB3aGF0IGFyZSB0aGUgbWFpbiBjb21wb25lbnRzIG9mIHRoZSBHVUkgYXBwbGljYXRpb24sIHN1Y2ggYXMgdGhlIGRhdGFiYXNlX2hhbmRsZXIsIHBsb3RfZnJhbWUsIGFuZCBzZWxlY3Rpb25fZnJhbWUgbWVudGlvbmVkIGluIGFwcC5weT9cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkkgbmVlZCB0byBnYXRoZXIgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgR1VJIGNvbXBvbmVudHMgdG8gdW5kZXJzdGFuZCBob3cgdGhleSB3b3JrIHRvZ2V0aGVyLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogZ3VpL21ldHJpY3Nfdmlld2VyL2FwcC5weVxuXCJcIlwiXG5NYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuXCJcIlwiXG5cbmltcG9ydCBvc1xuaW1wb3J0IHN5c1xuaW1wb3J0IGN1c3RvbXRraW50ZXIgYXMgY3RrXG5cbmZyb20gLmRhdGFiYXNlX2hhbmRsZXIgaW1wb3J0IERhdGFiYXNlSGFuZGxlclxuZnJvbSAucGxvdF9mcmFtZSBpbXBvcnQgTWV0cmljc1Bsb3RGcmFtZVxuZnJvbSAuc2VsZWN0aW9uX2ZyYW1lIGltcG9ydCBTZWxlY3Rpb25GcmFtZVxuXG5cbmNsYXNzIEFwcChjdGsuQ1RrKTpcbiAgICBcIlwiXCJcbiAgICBNYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgIFwiXCJcIlxuICAgIFxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkYl9wYXRoOiBzdHIpOlxuICAgICAgICBcIlwiXCJcbiAgICAgICAgSW5pdGlhbGl6ZSB0aGUgYXBwbGljYXRpb24uXG4gICAgICAgIFxuICAgICAgICBBcmdzOlxuICAgICAgICAgICAgZGJfcGF0aDogUGF0aCB0byB0aGUgU1FMaXRlIGRhdGFiYXNlIGZpbGVcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIHN1cGVyKCkuX19pbml0X18oKVxuICAgICAgICBcbiAgICAgICAgIyBDb25maWd1cmUgd2luZG93XG4gICAgICAgIHNlbGYudGl0bGUoXCJFRUcgTWV0cmljcyBWaWV3ZXJcIilcbiAgICAgICAgc2VsZi5nZW9tZXRyeShcIjE0MDB4ODAwXCIpICAjIExhcmdlciBkZWZhdWx0IHNpemVcbiAgICAgICAgXG4gICAgICAgICMgQ29uZmlndXJlIGdyaWQgbGF5b3V0IC0gZ2l2ZSBtdWNoIG1vcmUgc3BhY2UgdG8gdGhlIHBsb3RcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkgICAgIyBTZWxlY3Rpb24gcGFuZWxcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgxLCB3ZWlnaHQ9NSkgICAgIyBQbG90IGFyZWEgKHNpZ25pZmljYW50bHkgaW5jcmVhc2VkIHdlaWdodClcbiAgICAgICAgc2VsZi5ncmlkX3Jvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgICAgICAgXG4gICAgICAgICMgSW5pdGlhbGl6ZSBkYXRhYmFzZSBoYW5kbGVyXG4gICAgICAgIHNlbGYuZGJfaGFuZGxlciA9IERhdGFiYXNlSGFuZGxlcihkYl9wYXRoKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgcGxvdCBmcmFtZSB3aXRoIG1vcmUgc3BhY2VcbiAgICAgICAgc2VsZi5wbG90X2ZyYW1lID0gTWV0cmljc1Bsb3RGcmFtZShzZWxmLCB0aXRsZT1cIk1ldHJpY3MgVmlzdWFsaXphdGlvblwiKVxuICAgICAgICBzZWxmLnBsb3RfZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTEsIHBhZHg9KDAsIDEwKSwgcGFkeT0xMCwgc3RpY2t5PVwibnNld1wiKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgc2VsZWN0aW9uIGZyYW1lIHdpdGggbmFycm93ZXIgZml4ZWQgd2lkdGhcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUgPSBTZWxlY3Rpb25GcmFtZShzZWxmLCBzZWxmLmRiX2hhbmRsZXIsIHNlbGYucGxvdF9mcmFtZSwgd2lkdGg9MjUwKVxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZS5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTEwLCBzdGlja3k9XCJuc2V3XCIpXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lLmdyaWRfcHJvcGFnYXRlKEZhbHNlKSAgIyBQcmV2ZW50IHRoZSBmcmFtZSBmcm9tIHJlc2l6aW5nIGJhc2VkIG9uIGNvbnRlbnRcbi4uLlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVlozWFFYZGZaN2Q4MWYxMWJURDRBUCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciIsImZvbGRlclJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiSSBuZWVkIHRvIGdhdGhlciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBHVUkgY29tcG9uZW50cyB0byB1bmRlcnN0YW5kIGhvdyB0aGV5IHdvcmsgdG9nZXRoZXIuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZDEyMjNhZjItYzI1ZC00ZjZmLTg2ZmEtYjRkZjZmN2YzMjRkIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMjZoNFQ4QmplOUJhUFBxeDJQTlY5QSIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiU2hvdyBtZSB0aGUgaW1wbGVtZW50YXRpb24gb2YgRGF0YWJhc2VIYW5kbGVyLCBNZXRyaWNzUGxvdEZyYW1lLCBhbmQgU2VsZWN0aW9uRnJhbWUgY2xhc3NlcyB0aGF0IGFyZSB1c2VkIGluIHRoZSBhcHAucHkgZmlsZS4gSSB3YW50IHRvIHVuZGVyc3RhbmQgd2hhdCBlYWNoIGNvbXBvbmVudCBkb2VzIGFuZCBob3cgdGhleSBpbnRlcmFjdC5cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSBsb29rIGF0IHRoZSBzcGVjaWZpYyBjb21wb25lbnRzIG1lbnRpb25lZCBpbiB0aGUgYXBwLnB5IGZpbGUgdG8gdW5kZXJzdGFuZCB0aGVpciBmdW5jdGlvbmFsaXR5OlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogZ3VpL21ldHJpY3Nfdmlld2VyL2FwcC5weVxuXCJcIlwiXG5NYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuXCJcIlwiXG5cbmltcG9ydCBvc1xuaW1wb3J0IHN5c1xuaW1wb3J0IGN1c3RvbXRraW50ZXIgYXMgY3RrXG5cbmZyb20gLmRhdGFiYXNlX2hhbmRsZXIgaW1wb3J0IERhdGFiYXNlSGFuZGxlclxuZnJvbSAucGxvdF9mcmFtZSBpbXBvcnQgTWV0cmljc1Bsb3RGcmFtZVxuZnJvbSAuc2VsZWN0aW9uX2ZyYW1lIGltcG9ydCBTZWxlY3Rpb25GcmFtZVxuXG5cbmNsYXNzIEFwcChjdGsuQ1RrKTpcbiAgICBcIlwiXCJcbiAgICBNYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgIFwiXCJcIlxuICAgIFxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkYl9wYXRoOiBzdHIpOlxuICAgICAgICBcIlwiXCJcbiAgICAgICAgSW5pdGlhbGl6ZSB0aGUgYXBwbGljYXRpb24uXG4gICAgICAgIFxuICAgICAgICBBcmdzOlxuICAgICAgICAgICAgZGJfcGF0aDogUGF0aCB0byB0aGUgU1FMaXRlIGRhdGFiYXNlIGZpbGVcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIHN1cGVyKCkuX19pbml0X18oKVxuICAgICAgICBcbiAgICAgICAgIyBDb25maWd1cmUgd2luZG93XG4gICAgICAgIHNlbGYudGl0bGUoXCJFRUcgTWV0cmljcyBWaWV3ZXJcIilcbiAgICAgICAgc2VsZi5nZW9tZXRyeShcIjE0MDB4ODAwXCIpICAjIExhcmdlciBkZWZhdWx0IHNpemVcbiAgICAgICAgXG4gICAgICAgICMgQ29uZmlndXJlIGdyaWQgbGF5b3V0IC0gZ2l2ZSBtdWNoIG1vcmUgc3BhY2UgdG8gdGhlIHBsb3RcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkgICAgIyBTZWxlY3Rpb24gcGFuZWxcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgxLCB3ZWlnaHQ9NSkgICAgIyBQbG90IGFyZWEgKHNpZ25pZmljYW50bHkgaW5jcmVhc2VkIHdlaWdodClcbiAgICAgICAgc2VsZi5ncmlkX3Jvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgICAgICAgXG4gICAgICAgICMgSW5pdGlhbGl6ZSBkYXRhYmFzZSBoYW5kbGVyXG4gICAgICAgIHNlbGYuZGJfaGFuZGxlciA9IERhdGFiYXNlSGFuZGxlcihkYl9wYXRoKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgcGxvdCBmcmFtZSB3aXRoIG1vcmUgc3BhY2VcbiAgICAgICAgc2VsZi5wbG90X2ZyYW1lID0gTWV0cmljc1Bsb3RGcmFtZShzZWxmLCB0aXRsZT1cIk1ldHJpY3MgVmlzdWFsaXphdGlvblwiKVxuICAgICAgICBzZWxmLnBsb3RfZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTEsIHBhZHg9KDAsIDEwKSwgcGFkeT0xMCwgc3RpY2t5PVwibnNld1wiKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgc2VsZWN0aW9uIGZyYW1lIHdpdGggbmFycm93ZXIgZml4ZWQgd2lkdGhcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUgPSBTZWxlY3Rpb25GcmFtZShzZWxmLCBzZWxmLmRiX2hhbmRsZXIsIHNlbGYucGxvdF9mcmFtZSwgd2lkdGg9MjUwKVxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZS5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTEwLCBzdGlja3k9XCJuc2V3XCIpXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lLmdyaWRfcHJvcGFnYXRlKEZhbHNlKSAgIyBQcmV2ZW50IHRoZSBmcmFtZSBmcm9tIHJlc2l6aW5nIGJhc2VkIG9uIGNvbnRlbnRcbi4uLlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQXNtZkRaaHp2WDI1WEVkOUJrenJCQyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciIsImZvbGRlclJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIGxvb2sgYXQgdGhlIHNwZWNpZmljIGNvbXBvbmVudHMgbWVudGlvbmVkIGluIHRoZSBhcHAucHkgZmlsZSB0byB1bmRlcnN0YW5kIHRoZWlyIGZ1bmN0aW9uYWxpdHk6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiOTM5N2RkNTgtNmExYi00YjQwLWE2NGEtOTQzNzE5MmE0YjU1IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQXBlV29oY2tEZEpQZWl4YnJNYnBpdCIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiU2hvdyBtZSB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhlIERhdGFiYXNlSGFuZGxlciBjbGFzcyBmcm9tIGd1aS9tZXRyaWNzX3ZpZXdlci9kYXRhYmFzZV9oYW5kbGVyLnB5XCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQgbWUgbG9vayBhdCBlYWNoIGNvbXBvbmVudCBpbmRpdmlkdWFsbHk6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBndWkvbWV0cmljc192aWV3ZXIvYXBwLnB5XG5cIlwiXCJcbk1haW4gYXBwbGljYXRpb24gY2xhc3MgZm9yIHRoZSBFRUcgTWV0cmljcyBWaWV3ZXIuXG5cIlwiXCJcblxuaW1wb3J0IG9zXG5pbXBvcnQgc3lzXG5pbXBvcnQgY3VzdG9tdGtpbnRlciBhcyBjdGtcblxuZnJvbSAuZGF0YWJhc2VfaGFuZGxlciBpbXBvcnQgRGF0YWJhc2VIYW5kbGVyXG5mcm9tIC5wbG90X2ZyYW1lIGltcG9ydCBNZXRyaWNzUGxvdEZyYW1lXG5mcm9tIC5zZWxlY3Rpb25fZnJhbWUgaW1wb3J0IFNlbGVjdGlvbkZyYW1lXG5cblxuY2xhc3MgQXBwKGN0ay5DVGspOlxuICAgIFwiXCJcIlxuICAgIE1haW4gYXBwbGljYXRpb24gY2xhc3MgZm9yIHRoZSBFRUcgTWV0cmljcyBWaWV3ZXIuXG4gICAgXCJcIlwiXG4gICAgXG4gICAgZGVmIF9faW5pdF9fKHNlbGYsIGRiX3BhdGg6IHN0cik6XG4gICAgICAgIFwiXCJcIlxuICAgICAgICBJbml0aWFsaXplIHRoZSBhcHBsaWNhdGlvbi5cbiAgICAgICAgXG4gICAgICAgIEFyZ3M6XG4gICAgICAgICAgICBkYl9wYXRoOiBQYXRoIHRvIHRoZSBTUUxpdGUgZGF0YWJhc2UgZmlsZVxuICAgICAgICBcIlwiXCJcbiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpXG4gICAgICAgIFxuICAgICAgICAjIENvbmZpZ3VyZSB3aW5kb3dcbiAgICAgICAgc2VsZi50aXRsZShcIkVFRyBNZXRyaWNzIFZpZXdlclwiKVxuICAgICAgICBzZWxmLmdlb21ldHJ5KFwiMTQwMHg4MDBcIikgICMgTGFyZ2VyIGRlZmF1bHQgc2l6ZVxuICAgICAgICBcbiAgICAgICAgIyBDb25maWd1cmUgZ3JpZCBsYXlvdXQgLSBnaXZlIG11Y2ggbW9yZSBzcGFjZSB0byB0aGUgcGxvdFxuICAgICAgICBzZWxmLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKSAgICAjIFNlbGVjdGlvbiBwYW5lbFxuICAgICAgICBzZWxmLmdyaWRfY29sdW1uY29uZmlndXJlKDEsIHdlaWdodD01KSAgICAjIFBsb3QgYXJlYSAoc2lnbmlmaWNhbnRseSBpbmNyZWFzZWQgd2VpZ2h0KVxuICAgICAgICBzZWxmLmdyaWRfcm93Y29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgICAgICBcbiAgICAgICAgIyBJbml0aWFsaXplIGRhdGFiYXNlIGhhbmRsZXJcbiAgICAgICAgc2VsZi5kYl9oYW5kbGVyID0gRGF0YWJhc2VIYW5kbGVyKGRiX3BhdGgpXG4gICAgICAgIFxuICAgICAgICAjIENyZWF0ZSBwbG90IGZyYW1lIHdpdGggbW9yZSBzcGFjZVxuICAgICAgICBzZWxmLnBsb3RfZnJhbWUgPSBNZXRyaWNzUGxvdEZyYW1lKHNlbGYsIHRpdGxlPVwiTWV0cmljcyBWaXN1YWxpemF0aW9uXCIpXG4gICAgICAgIHNlbGYucGxvdF9mcmFtZS5ncmlkKHJvdz0wLCBjb2x1bW49MSwgcGFkeD0oMCwgMTApLCBwYWR5PTEwLCBzdGlja3k9XCJuc2V3XCIpXG4gICAgICAgIFxuICAgICAgICAjIENyZWF0ZSBzZWxlY3Rpb24gZnJhbWUgd2l0aCBuYXJyb3dlciBmaXhlZCB3aWR0aFxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZSA9IFNlbGVjdGlvbkZyYW1lKHNlbGYsIHNlbGYuZGJfaGFuZGxlciwgc2VsZi5wbG90X2ZyYW1lLCB3aWR0aD0yNTApXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lLmdyaWQocm93PTAsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9MTAsIHN0aWNreT1cIm5zZXdcIilcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUuZ3JpZF9wcm9wYWdhdGUoRmFsc2UpICAjIFByZXZlbnQgdGhlIGZyYW1lIGZyb20gcmVzaXppbmcgYmFzZWQgb24gY29udGVudFxuLi4uXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDEyNmg0VDhCamU5QmFQUHF4MlBOVjlBIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIiwiZm9sZGVyUm9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJMZXQgbWUgbG9vayBhdCBlYWNoIGNvbXBvbmVudCBpbmRpdmlkdWFsbHk6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMjkzYjYxODctNDIyNy00NWIyLWIyOWQtNDM2NmUwNmM5NGJjIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMjRjV1A2VmdVcXR3OHZIdXVHNXRkVSIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiU2hvdyBtZSB0aGUgY29udGVudCBvZiBndWkvbWV0cmljc192aWV3ZXIvZGF0YWJhc2VfaGFuZGxlci5weVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0IG1lIHRyeSB0byBnZXQgdGhlIHNwZWNpZmljIGltcGxlbWVudGF0aW9uIGZpbGVzOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogZ3VpL21ldHJpY3Nfdmlld2VyL2FwcC5weVxuXCJcIlwiXG5NYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuXCJcIlwiXG5cbmltcG9ydCBvc1xuaW1wb3J0IHN5c1xuaW1wb3J0IGN1c3RvbXRraW50ZXIgYXMgY3RrXG5cbmZyb20gLmRhdGFiYXNlX2hhbmRsZXIgaW1wb3J0IERhdGFiYXNlSGFuZGxlclxuZnJvbSAucGxvdF9mcmFtZSBpbXBvcnQgTWV0cmljc1Bsb3RGcmFtZVxuZnJvbSAuc2VsZWN0aW9uX2ZyYW1lIGltcG9ydCBTZWxlY3Rpb25GcmFtZVxuXG5cbmNsYXNzIEFwcChjdGsuQ1RrKTpcbiAgICBcIlwiXCJcbiAgICBNYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgIFwiXCJcIlxuICAgIFxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkYl9wYXRoOiBzdHIpOlxuICAgICAgICBcIlwiXCJcbiAgICAgICAgSW5pdGlhbGl6ZSB0aGUgYXBwbGljYXRpb24uXG4gICAgICAgIFxuICAgICAgICBBcmdzOlxuICAgICAgICAgICAgZGJfcGF0aDogUGF0aCB0byB0aGUgU1FMaXRlIGRhdGFiYXNlIGZpbGVcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIHN1cGVyKCkuX19pbml0X18oKVxuICAgICAgICBcbiAgICAgICAgIyBDb25maWd1cmUgd2luZG93XG4gICAgICAgIHNlbGYudGl0bGUoXCJFRUcgTWV0cmljcyBWaWV3ZXJcIilcbiAgICAgICAgc2VsZi5nZW9tZXRyeShcIjE0MDB4ODAwXCIpICAjIExhcmdlciBkZWZhdWx0IHNpemVcbiAgICAgICAgXG4gICAgICAgICMgQ29uZmlndXJlIGdyaWQgbGF5b3V0IC0gZ2l2ZSBtdWNoIG1vcmUgc3BhY2UgdG8gdGhlIHBsb3RcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkgICAgIyBTZWxlY3Rpb24gcGFuZWxcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgxLCB3ZWlnaHQ9NSkgICAgIyBQbG90IGFyZWEgKHNpZ25pZmljYW50bHkgaW5jcmVhc2VkIHdlaWdodClcbiAgICAgICAgc2VsZi5ncmlkX3Jvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgICAgICAgXG4gICAgICAgICMgSW5pdGlhbGl6ZSBkYXRhYmFzZSBoYW5kbGVyXG4gICAgICAgIHNlbGYuZGJfaGFuZGxlciA9IERhdGFiYXNlSGFuZGxlcihkYl9wYXRoKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgcGxvdCBmcmFtZSB3aXRoIG1vcmUgc3BhY2VcbiAgICAgICAgc2VsZi5wbG90X2ZyYW1lID0gTWV0cmljc1Bsb3RGcmFtZShzZWxmLCB0aXRsZT1cIk1ldHJpY3MgVmlzdWFsaXphdGlvblwiKVxuICAgICAgICBzZWxmLnBsb3RfZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTEsIHBhZHg9KDAsIDEwKSwgcGFkeT0xMCwgc3RpY2t5PVwibnNld1wiKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgc2VsZWN0aW9uIGZyYW1lIHdpdGggbmFycm93ZXIgZml4ZWQgd2lkdGhcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUgPSBTZWxlY3Rpb25GcmFtZShzZWxmLCBzZWxmLmRiX2hhbmRsZXIsIHNlbGYucGxvdF9mcmFtZSwgd2lkdGg9MjUwKVxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZS5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTEwLCBzdGlja3k9XCJuc2V3XCIpXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lLmdyaWRfcHJvcGFnYXRlKEZhbHNlKSAgIyBQcmV2ZW50IHRoZSBmcmFtZSBmcm9tIHJlc2l6aW5nIGJhc2VkIG9uIGNvbnRlbnRcbi4uLlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQXBlV29oY2tEZEpQZWl4YnJNYnBpdCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciIsImZvbGRlclJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIHRyeSB0byBnZXQgdGhlIHNwZWNpZmljIGltcGxlbWVudGF0aW9uIGZpbGVzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImFhOTRhYTNiLTAwMDgtNDFiNy1iOWRlLTMwNjU5NzZmYjEyNiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTJLVlJ0MXpQUE5YaXFoVzZ1YjYydkEiLCJ0b29sX25hbWUiOiJsYXVuY2gtcHJvY2VzcyIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwiZmluZCBndWkgLXR5cGUgZiB8IHNvcnRcIiwgXCJ3YWl0XCI6IHRydWUsIFwibWF4X3dhaXRfc2Vjb25kc1wiOiAzMH0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSB0cnkgYSBkaWZmZXJlbnQgYXBwcm9hY2ggdG8gZ2V0IHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIEdVSSBjb21wb25lbnRzOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogZ3VpL21ldHJpY3Nfdmlld2VyL2FwcC5weVxuXCJcIlwiXG5NYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuXCJcIlwiXG5cbmltcG9ydCBvc1xuaW1wb3J0IHN5c1xuaW1wb3J0IGN1c3RvbXRraW50ZXIgYXMgY3RrXG5cbmZyb20gLmRhdGFiYXNlX2hhbmRsZXIgaW1wb3J0IERhdGFiYXNlSGFuZGxlclxuZnJvbSAucGxvdF9mcmFtZSBpbXBvcnQgTWV0cmljc1Bsb3RGcmFtZVxuZnJvbSAuc2VsZWN0aW9uX2ZyYW1lIGltcG9ydCBTZWxlY3Rpb25GcmFtZVxuXG5cbmNsYXNzIEFwcChjdGsuQ1RrKTpcbiAgICBcIlwiXCJcbiAgICBNYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgIFwiXCJcIlxuICAgIFxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkYl9wYXRoOiBzdHIpOlxuICAgICAgICBcIlwiXCJcbiAgICAgICAgSW5pdGlhbGl6ZSB0aGUgYXBwbGljYXRpb24uXG4gICAgICAgIFxuICAgICAgICBBcmdzOlxuICAgICAgICAgICAgZGJfcGF0aDogUGF0aCB0byB0aGUgU1FMaXRlIGRhdGFiYXNlIGZpbGVcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIHN1cGVyKCkuX19pbml0X18oKVxuICAgICAgICBcbiAgICAgICAgIyBDb25maWd1cmUgd2luZG93XG4gICAgICAgIHNlbGYudGl0bGUoXCJFRUcgTWV0cmljcyBWaWV3ZXJcIilcbiAgICAgICAgc2VsZi5nZW9tZXRyeShcIjE0MDB4ODAwXCIpICAjIExhcmdlciBkZWZhdWx0IHNpemVcbiAgICAgICAgXG4gICAgICAgICMgQ29uZmlndXJlIGdyaWQgbGF5b3V0IC0gZ2l2ZSBtdWNoIG1vcmUgc3BhY2UgdG8gdGhlIHBsb3RcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkgICAgIyBTZWxlY3Rpb24gcGFuZWxcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgxLCB3ZWlnaHQ9NSkgICAgIyBQbG90IGFyZWEgKHNpZ25pZmljYW50bHkgaW5jcmVhc2VkIHdlaWdodClcbiAgICAgICAgc2VsZi5ncmlkX3Jvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgICAgICAgXG4gICAgICAgICMgSW5pdGlhbGl6ZSBkYXRhYmFzZSBoYW5kbGVyXG4gICAgICAgIHNlbGYuZGJfaGFuZGxlciA9IERhdGFiYXNlSGFuZGxlcihkYl9wYXRoKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgcGxvdCBmcmFtZSB3aXRoIG1vcmUgc3BhY2VcbiAgICAgICAgc2VsZi5wbG90X2ZyYW1lID0gTWV0cmljc1Bsb3RGcmFtZShzZWxmLCB0aXRsZT1cIk1ldHJpY3MgVmlzdWFsaXphdGlvblwiKVxuICAgICAgICBzZWxmLnBsb3RfZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTEsIHBhZHg9KDAsIDEwKSwgcGFkeT0xMCwgc3RpY2t5PVwibnNld1wiKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgc2VsZWN0aW9uIGZyYW1lIHdpdGggbmFycm93ZXIgZml4ZWQgd2lkdGhcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUgPSBTZWxlY3Rpb25GcmFtZShzZWxmLCBzZWxmLmRiX2hhbmRsZXIsIHNlbGYucGxvdF9mcmFtZSwgd2lkdGg9MjUwKVxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZS5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTEwLCBzdGlja3k9XCJuc2V3XCIpXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lLmdyaWRfcHJvcGFnYXRlKEZhbHNlKSAgIyBQcmV2ZW50IHRoZSBmcmFtZSBmcm9tIHJlc2l6aW5nIGJhc2VkIG9uIGNvbnRlbnRcbi4uLlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMjRjV1A2VmdVcXR3OHZIdXVHNXRkVSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciIsImZvbGRlclJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIHRyeSBhIGRpZmZlcmVudCBhcHByb2FjaCB0byBnZXQgdGhlIHN0cnVjdHVyZSBvZiB0aGUgR1VJIGNvbXBvbmVudHM6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMmJiN2NkMGItYzQyYS00NzA1LWFjMWUtZDhlOWFmODc3MDZmIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxWFc3eUNnY3ZURlhrUlFjcktFUnVyRSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJndWkvbWV0cmljc192aWV3ZXIvZGF0YWJhc2VfaGFuZGxlci5weVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IEknbGwgZXhhbWluZSBlYWNoIG9mIHRoZSBrZXkgY29tcG9uZW50cyBvZiB0aGUgR1VJIHRvIHVuZGVyc3RhbmQgaG93IHRoZXkgd29yayB0b2dldGhlci4gTGV0IG1lIGxvb2sgYXQgdGhlIG1haW4gZmlsZXMgaW4gdGhlIG1ldHJpY3Nfdmlld2VyIHBhY2thZ2U6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlIGFyZSB0aGUgcmVzdWx0cyBmcm9tIGV4ZWN1dGluZyB0aGUgY29tbWFuZC5cbiAgICAgICAgPHJldHVybi1jb2RlPlxuICAgICAgICAwXG4gICAgICAgIDwvcmV0dXJuLWNvZGU+XG4gICAgICAgIDxzdGRvdXQ+XG4gICAgICAgIGd1aS9pbnN0YWxsX2RlcGVuZGVuY2llcy5weVxuZ3VpL21ldHJpY3Nfdmlld2VyL2FwcC5weVxuZ3VpL21ldHJpY3Nfdmlld2VyL2RhdGFiYXNlX2hhbmRsZXIucHlcbmd1aS9tZXRyaWNzX3ZpZXdlci9fX2luaXRfXy5weVxuZ3VpL21ldHJpY3Nfdmlld2VyL3Bsb3RfZnJhbWUucHlcbmd1aS9tZXRyaWNzX3ZpZXdlci9fX3B5Y2FjaGVfXy9hcHAuY3B5dGhvbi0zMTMucHljXG5ndWkvbWV0cmljc192aWV3ZXIvX19weWNhY2hlX18vZGF0YWJhc2VfaGFuZGxlci5jcHl0aG9uLTMxMy5weWNcbmd1aS9tZXRyaWNzX3ZpZXdlci9fX3B5Y2FjaGVfXy9fX2luaXRfXy5jcHl0aG9uLTMxMy5weWNcbmd1aS9tZXRyaWNzX3ZpZXdlci9fX3B5Y2FjaGVfXy9wbG90X2ZyYW1lLmNweXRob24tMzEzLnB5Y1xuZ3VpL21ldHJpY3Nfdmlld2VyL19fcHljYWNoZV9fL3NlbGVjdGlvbl9mcmFtZS5jcHl0aG9uLTMxMy5weWNcbmd1aS9tZXRyaWNzX3ZpZXdlci9fX3B5Y2FjaGVfXy91dGlscy5jcHl0aG9uLTMxMy5weWNcbmd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHlcbmd1aS9tZXRyaWNzX3ZpZXdlci91dGlscy5weVxuZ3VpL3Bsb3R0aW5nX29uZXNob3QucHlcbmd1aS9fX3B5Y2FjaGVfXy9tZXRyaWNzX3ZpZXdlci5jcHl0aG9uLTMxMy5weWNcbmd1aS9SRUFETUUubWRcbmd1aS9ydW5fbWV0cmljc192aWV3ZXIucHlcbmd1aS90ZXN0X3N0cnVjdHVyZS5weVxuXG4gICAgICAgIDwvc3Rkb3V0PlxuICAgICAgICA8c3RkZXJyPlxuICAgICAgICBcbiAgICAgICAgPC9zdGRlcnI+IiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMktWUnQxelBQTlhpcWhXNnViNjJ2QSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciIsImZvbGRlclJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NCwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifX19XSwicmVzcG9uc2VfdGV4dCI6Ik5vdyBJJ2xsIGV4YW1pbmUgZWFjaCBvZiB0aGUga2V5IGNvbXBvbmVudHMgb2YgdGhlIEdVSSB0byB1bmRlcnN0YW5kIGhvdyB0aGV5IHdvcmsgdG9nZXRoZXIuIExldCBtZSBsb29rIGF0IHRoZSBtYWluIGZpbGVzIGluIHRoZSBtZXRyaWNzX3ZpZXdlciBwYWNrYWdlOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjNjMTI5YWJiLTEwMjUtNGUwYS1iMmNhLTZiYzFkNWVlZWIwMSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTIzYzhRZ3pLUHFmckh1eUx2eE1GRGEiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwiZ3VpL21ldHJpY3Nfdmlld2VyL3Bsb3RfZnJhbWUucHlcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gZ3VpL21ldHJpY3Nfdmlld2VyL2RhdGFiYXNlX2hhbmRsZXIucHk6XG4gICAgIDFcdFwiXCJcIlxuICAgICAyXHREYXRhYmFzZSBoYW5kbGVyIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgICAzXHRcbiAgICAgNFx0VGhpcyBtb2R1bGUgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgU1FMaXRlIGRhdGFiYXNlXG4gICAgIDVcdGNvbnRhaW5pbmcgRUVHIG1ldHJpY3MgZGF0YS5cbiAgICAgNlx0XCJcIlwiXG4gICAgIDdcdFxuICAgICA4XHRpbXBvcnQgb3NcbiAgICAgOVx0aW1wb3J0IHN5c1xuICAgIDEwXHRmcm9tIHR5cGluZyBpbXBvcnQgTGlzdCwgRGljdCwgQW55LCBPcHRpb25hbFxuICAgIDExXHRpbXBvcnQgcGFuZGFzIGFzIHBkXG4gICAgMTJcdFxuICAgIDEzXHQjIEFkZCB0aGUgcGFyZW50IGRpcmVjdG9yeSB0byB0aGUgcGF0aCBzbyB3ZSBjYW4gaW1wb3J0IGZyb20gT09QX0FuYWx5emVyXG4gICAgMTRcdHN5cy5wYXRoLmFwcGVuZChvcy5wYXRoLmRpcm5hbWUob3MucGF0aC5kaXJuYW1lKG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmFic3BhdGgoX19maWxlX18pKSkpKVxuICAgIDE1XHRmcm9tIE9PUF9BbmFseXplciBpbXBvcnQgQWxjaGVtaXN0XG4gICAgMTZcdFxuICAgIDE3XHRmcm9tIC51dGlscyBpbXBvcnQgTUVUQURBVEFfQ09MVU1OU1xuICAgIDE4XHRcbiAgICAxOVx0XG4gICAgMjBcdGNsYXNzIERhdGFiYXNlSGFuZGxlcjpcbiAgICAyMVx0ICAgIFwiXCJcIlxuICAgIDIyXHQgICAgSGFuZGxlcyBpbnRlcmFjdGlvbnMgd2l0aCB0aGUgU1FMaXRlIGRhdGFiYXNlIGNvbnRhaW5pbmcgRUVHIG1ldHJpY3MuXG4gICAgMjNcdCAgICBcIlwiXCJcbiAgICAyNFx0ICAgIFxuICAgIDI1XHQgICAgZGVmIF9faW5pdF9fKHNlbGYsIGRiX3BhdGg6IHN0cik6XG4gICAgMjZcdCAgICAgICAgXCJcIlwiXG4gICAgMjdcdCAgICAgICAgSW5pdGlhbGl6ZSB0aGUgZGF0YWJhc2UgaGFuZGxlci5cbiAgICAyOFx0ICAgICAgICBcbiAgICAyOVx0ICAgICAgICBBcmdzOlxuICAgIDMwXHQgICAgICAgICAgICBkYl9wYXRoOiBQYXRoIHRvIHRoZSBTUUxpdGUgZGF0YWJhc2UgZmlsZVxuICAgIDMxXHQgICAgICAgIFwiXCJcIlxuICAgIDMyXHQgICAgICAgIHNlbGYuZGJfcGF0aCA9IGRiX3BhdGhcbiAgICAzM1x0ICAgICAgICBzZWxmLmVuZ2luZSA9IEFsY2hlbWlzdC5pbml0aWFsaXplX3RhYmxlcyhkYl9wYXRoKVxuICAgIDM0XHQgICAgICAgIHNlbGYuc2Vzc2lvbiA9IEFsY2hlbWlzdC5TZXNzaW9uKHNlbGYuZW5naW5lKVxuICAgIDM1XHQgICAgICAgIFxuICAgIDM2XHQgICAgZGVmIF9fZGVsX18oc2VsZik6XG4gICAgMzdcdCAgICAgICAgXCJcIlwiQ2xvc2UgdGhlIHNlc3Npb24gd2hlbiB0aGUgb2JqZWN0IGlzIGRlbGV0ZWQuXCJcIlwiXG4gICAgMzhcdCAgICAgICAgaWYgaGFzYXR0cihzZWxmLCAnc2Vzc2lvbicpOlxuICAgIDM5XHQgICAgICAgICAgICBzZWxmLnNlc3Npb24uY2xvc2UoKVxuICAgIDQwXHQgICAgXG4gICAgNDFcdCAgICBkZWYgZ2V0X2V4cGVyaW1lbnRzKHNlbGYpIC0+IExpc3RbRGljdFtzdHIsIEFueV1dOlxuICAgIDQyXHQgICAgICAgIFwiXCJcIlxuICAgIDQzXHQgICAgICAgIEdldCBhbGwgZXhwZXJpbWVudHMgZnJvbSB0aGUgZGF0YWJhc2UuXG4gICAgNDRcdCAgICAgICAgXG4gICAgNDVcdCAgICAgICAgUmV0dXJuczpcbiAgICA0Nlx0ICAgICAgICAgICAgTGlzdCBvZiBkaWN0aW9uYXJpZXMgY29udGFpbmluZyBleHBlcmltZW50IGluZm9ybWF0aW9uXG4gICAgNDdcdCAgICAgICAgXCJcIlwiXG4gICAgNDhcdCAgICAgICAgZXhwZXJpbWVudHMgPSBBbGNoZW1pc3QuZmluZF9lbnRyaWVzKHNlbGYuc2Vzc2lvbiwgQWxjaGVtaXN0LkV4cGVyaW1lbnQpXG4gICAgNDlcdCAgICAgICAgcmV0dXJuIFt7J2lkJzogZXhwLmlkLCAnbmFtZSc6IGV4cC5tZXRyaWNfc2V0X25hbWUsICdydW5fbmFtZSc6IGV4cC5ydW5fbmFtZX0gZm9yIGV4cCBpbiBleHBlcmltZW50c11cbiAgICA1MFx0ICAgIFxuICAgIDUxXHQgICAgZGVmIGdldF9lZWdzX2Zvcl9leHBlcmltZW50KHNlbGYsIGV4cGVyaW1lbnRfaWQ6IHN0cikgLT4gTGlzdFtEaWN0W3N0ciwgQW55XV06XG4gICAgNTJcdCAgICAgICAgXCJcIlwiXG4gICAgNTNcdCAgICAgICAgR2V0IGFsbCBFRUdzIGFzc29jaWF0ZWQgd2l0aCBhIHNwZWNpZmljIGV4cGVyaW1lbnQuXG4gICAgNTRcdCAgICAgICAgXG4gICAgNTVcdCAgICAgICAgQXJnczpcbiAgICA1Nlx0ICAgICAgICAgICAgZXhwZXJpbWVudF9pZDogSUQgb2YgdGhlIGV4cGVyaW1lbnRcbiAgICA1N1x0ICAgICAgICAgICAgXG4gICAgNThcdCAgICAgICAgUmV0dXJuczpcbiAgICA1OVx0ICAgICAgICAgICAgTGlzdCBvZiBkaWN0aW9uYXJpZXMgY29udGFpbmluZyBFRUcgaW5mb3JtYXRpb25cbiAgICA2MFx0ICAgICAgICBcIlwiXCJcbiAgICA2MVx0ICAgICAgICBleHBlcmltZW50ID0gc2VsZi5zZXNzaW9uLmdldChBbGNoZW1pc3QuRXhwZXJpbWVudCwgZXhwZXJpbWVudF9pZClcbiAgICA2Mlx0ICAgICAgICBpZiBub3QgZXhwZXJpbWVudDpcbiAgICA2M1x0ICAgICAgICAgICAgcmV0dXJuIFtdXG4gICAgNjRcdCAgICAgICAgXG4gICAgNjVcdCAgICAgICAgcmV0dXJuIFt7J2lkJzogZWVnLmlkLCAnZmlsZW5hbWUnOiBlZWcuZmlsZW5hbWUsICdmaWxlcGF0aCc6IGVlZy5maWxlcGF0aH0gZm9yIGVlZyBpbiBleHBlcmltZW50LmVlZ3NdXG4gICAgNjZcdCAgICBcbiAgICA2N1x0ICAgIGRlZiBnZXRfbWV0cmljc19kYXRhKHNlbGYsIGV4cGVyaW1lbnRfaWQ6IHN0ciwgZWVnX2lkOiBzdHIpIC0+IHBkLkRhdGFGcmFtZTpcbiAgICA2OFx0ICAgICAgICBcIlwiXCJcbiAgICA2OVx0ICAgICAgICBHZXQgbWV0cmljcyBkYXRhIGZvciBhIHNwZWNpZmljIGV4cGVyaW1lbnQgYW5kIEVFRy5cbiAgICA3MFx0ICAgICAgICBcbiAgICA3MVx0ICAgICAgICBBcmdzOlxuICAgIDcyXHQgICAgICAgICAgICBleHBlcmltZW50X2lkOiBJRCBvZiB0aGUgZXhwZXJpbWVudFxuICAgIDczXHQgICAgICAgICAgICBlZWdfaWQ6IElEIG9mIHRoZSBFRUdcbiAgICA3NFx0ICAgICAgICAgICAgXG4gICAgNzVcdCAgICAgICAgUmV0dXJuczpcbiAgICA3Nlx0ICAgICAgICAgICAgRGF0YUZyYW1lIGNvbnRhaW5pbmcgdGhlIG1ldHJpY3MgZGF0YVxuICAgIDc3XHQgICAgICAgIFwiXCJcIlxuICAgIDc4XHQgICAgICAgIHRhYmxlX25hbWUgPSBmXCJkYXRhX2V4cGVyaW1lbnRfe2V4cGVyaW1lbnRfaWR9XCJcbiAgICA3OVx0ICAgICAgICBcbiAgICA4MFx0ICAgICAgICB0cnk6XG4gICAgODFcdCAgICAgICAgICAgICMgUXVlcnkgdGhlIGRhdGEgZm9yIHRoZSBzcGVjaWZpYyBFRUdcbiAgICA4Mlx0ICAgICAgICAgICAgcXVlcnkgPSBmXCJTRUxFQ1QgKiBGUk9NIHt0YWJsZV9uYW1lfSBXSEVSRSBlZWdfaWQgPSAne2VlZ19pZH0nXCJcbiAgICA4M1x0ICAgICAgICAgICAgZGYgPSBwZC5yZWFkX3NxbF9xdWVyeShxdWVyeSwgc2VsZi5lbmdpbmUpXG4gICAgODRcdCAgICAgICAgICAgIHJldHVybiBkZlxuICAgIDg1XHQgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcbiAgICA4Nlx0ICAgICAgICAgICAgcHJpbnQoZlwiRXJyb3IgcmV0cmlldmluZyBtZXRyaWNzIGRhdGE6IHtlfVwiKVxuICAgIDg3XHQgICAgICAgICAgICByZXR1cm4gcGQuRGF0YUZyYW1lKClcbiAgICA4OFx0ICAgIFxuICAgIDg5XHQgICAgZGVmIGdldF9hdmFpbGFibGVfbWV0cmljcyhzZWxmLCBleHBlcmltZW50X2lkOiBzdHIsIGVlZ19pZDogc3RyKSAtPiBMaXN0W3N0cl06XG4gICAgOTBcdCAgICAgICAgXCJcIlwiXG4gICAgOTFcdCAgICAgICAgR2V0IHRoZSB1bmlxdWUgbWV0cmljIG5hbWVzIGF2YWlsYWJsZSBmb3IgYSBzcGVjaWZpYyBleHBlcmltZW50IGFuZCBFRUcuXG4gICAgOTJcdCAgICAgICAgXG4gICAgOTNcdCAgICAgICAgQXJnczpcbiAgICA5NFx0ICAgICAgICAgICAgZXhwZXJpbWVudF9pZDogSUQgb2YgdGhlIGV4cGVyaW1lbnRcbiAgICA5NVx0ICAgICAgICAgICAgZWVnX2lkOiBJRCBvZiB0aGUgRUVHXG4gICAgOTZcdCAgICAgICAgICAgIFxuICAgIDk3XHQgICAgICAgIFJldHVybnM6XG4gICAgOThcdCAgICAgICAgICAgIExpc3Qgb2YgdW5pcXVlIG1ldHJpYyBuYW1lc1xuICAgIDk5XHQgICAgICAgIFwiXCJcIlxuICAgMTAwXHQgICAgICAgIGRmID0gc2VsZi5nZXRfbWV0cmljc19kYXRhKGV4cGVyaW1lbnRfaWQsIGVlZ19pZClcbiAgIDEwMVx0ICAgICAgICBcbiAgIDEwMlx0ICAgICAgICBpZiAnbWV0cmljJyBpbiBkZi5jb2x1bW5zOlxuICAgMTAzXHQgICAgICAgICAgICByZXR1cm4gZGZbJ21ldHJpYyddLnVuaXF1ZSgpLnRvbGlzdCgpXG4gICAxMDRcdCAgICAgICAgcmV0dXJuIFtdXG4gICAxMDVcdCAgICBcbiAgIDEwNlx0ICAgIGRlZiBnZXRfYXZhaWxhYmxlX2NoYW5uZWxzKHNlbGYsIGV4cGVyaW1lbnRfaWQ6IHN0ciwgZWVnX2lkOiBzdHIpIC0+IExpc3Rbc3RyXTpcbiAgIDEwN1x0ICAgICAgICBcIlwiXCJcbiAgIDEwOFx0ICAgICAgICBHZXQgdGhlIGNoYW5uZWwgbmFtZXMgYXZhaWxhYmxlIGZvciBhIHNwZWNpZmljIGV4cGVyaW1lbnQgYW5kIEVFRy5cbiAgIDEwOVx0ICAgICAgICBcbiAgIDExMFx0ICAgICAgICBBcmdzOlxuICAgMTExXHQgICAgICAgICAgICBleHBlcmltZW50X2lkOiBJRCBvZiB0aGUgZXhwZXJpbWVudFxuICAgMTEyXHQgICAgICAgICAgICBlZWdfaWQ6IElEIG9mIHRoZSBFRUdcbiAgIDExM1x0ICAgICAgICAgICAgXG4gICAxMTRcdCAgICAgICAgUmV0dXJuczpcbiAgIDExNVx0ICAgICAgICAgICAgTGlzdCBvZiBjaGFubmVsIG5hbWVzIHNvcnRlZCBhbHBoYWJldGljYWxseVxuICAgMTE2XHQgICAgICAgIFwiXCJcIlxuICAgMTE3XHQgICAgICAgIGRmID0gc2VsZi5nZXRfbWV0cmljc19kYXRhKGV4cGVyaW1lbnRfaWQsIGVlZ19pZClcbiAgIDExOFx0ICAgICAgICBcbiAgIDExOVx0ICAgICAgICAjIEV4Y2x1ZGUgbWV0YWRhdGEgY29sdW1uc1xuICAgMTIwXHQgICAgICAgIGNoYW5uZWxfY29scyA9IFtjb2wgZm9yIGNvbCBpbiBkZi5jb2x1bW5zIGlmIGNvbCBub3QgaW4gTUVUQURBVEFfQ09MVU1OU11cbiAgIDEyMVx0ICAgICAgICBcbiAgIDEyMlx0ICAgICAgICAjIFNvcnQgY2hhbm5lbHMgYWxwaGFiZXRpY2FsbHlcbiAgIDEyM1x0ICAgICAgICBjaGFubmVsX2NvbHMuc29ydCgpXG4gICAxMjRcdCAgICAgICAgXG4gICAxMjVcdCAgICAgICAgcmV0dXJuIGNoYW5uZWxfY29sc1xuICAgMTI2XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDEyNlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxWFc3eUNnY3ZURlhrUlFjcktFUnVyRSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciIsImZvbGRlclJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NCwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifX19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI0NjM1NGZlMS0yOTMzLTQ5MDYtYWVmYS0wNzgzYTVmZmRjMTYiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE5RkhzQnpzaHdIVEVFQjZUcWY3N29uIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcImd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHlcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gZ3VpL21ldHJpY3Nfdmlld2VyL3Bsb3RfZnJhbWUucHk6XG4gICAgIDFcdFwiXCJcIlxuICAgICAyXHRQbG90IGZyYW1lIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgICAzXHRcbiAgICAgNFx0VGhpcyBtb2R1bGUgcHJvdmlkZXMgdGhlIE1ldHJpY3NQbG90RnJhbWUgY2xhc3MgZm9yIHZpc3VhbGl6aW5nIEVFRyBtZXRyaWNzIGRhdGEuXG4gICAgIDVcdFwiXCJcIlxuICAgICA2XHRcbiAgICAgN1x0ZnJvbSB0eXBpbmcgaW1wb3J0IExpc3QsIERpY3QsIFR1cGxlLCBPcHRpb25hbCwgQW55LCBVbmlvblxuICAgICA4XHRpbXBvcnQgcGFuZGFzIGFzIHBkXG4gICAgIDlcdGltcG9ydCBudW1weSBhcyBucFxuICAgIDEwXHRpbXBvcnQgY3VzdG9tdGtpbnRlciBhcyBjdGtcbiAgICAxMVx0ZnJvbSBtYXRwbG90bGliLmJhY2tlbmRzLmJhY2tlbmRfdGthZ2cgaW1wb3J0IEZpZ3VyZUNhbnZhc1RrQWdnXG4gICAgMTJcdGZyb20gbWF0cGxvdGxpYi5maWd1cmUgaW1wb3J0IEZpZ3VyZVxuICAgIDEzXHRcbiAgICAxNFx0ZnJvbSAudXRpbHMgaW1wb3J0IEFHR1JFR0FUSU9OX0NPTE9SUywgQUdHUkVHQVRJT05fU1RZTEVTXG4gICAgMTVcdFxuICAgIDE2XHRcbiAgICAxN1x0Y2xhc3MgTWV0cmljc1Bsb3RGcmFtZShjdGsuQ1RrRnJhbWUpOlxuICAgIDE4XHQgICAgXCJcIlwiXG4gICAgMTlcdCAgICBBIGZyYW1lIGNvbnRhaW5pbmcgYSBtYXRwbG90bGliIGZpZ3VyZSBmb3IgcGxvdHRpbmcgbWV0cmljcy5cbiAgICAyMFx0ICAgIFwiXCJcIlxuICAgIDIxXHRcbiAgICAyMlx0ICAgIGRlZiBfX2luaXRfXyhzZWxmLCBtYXN0ZXIsIHRpdGxlPVwiTWV0cmljcyBQbG90XCIsICoqa3dhcmdzKTpcbiAgICAyM1x0ICAgICAgICBcIlwiXCJcbiAgICAyNFx0ICAgICAgICBJbml0aWFsaXplIHRoZSBwbG90IGZyYW1lLlxuICAgIDI1XHRcbiAgICAyNlx0ICAgICAgICBBcmdzOlxuICAgIDI3XHQgICAgICAgICAgICBtYXN0ZXI6IFRoZSBwYXJlbnQgd2lkZ2V0XG4gICAgMjhcdCAgICAgICAgICAgIHRpdGxlOiBUaXRsZSBmb3IgdGhlIHBsb3QgZnJhbWVcbiAgICAyOVx0ICAgICAgICAgICAgKiprd2FyZ3M6IEFkZGl0aW9uYWwgYXJndW1lbnRzIGZvciB0aGUgQ1RrRnJhbWUgY29uc3RydWN0b3JcbiAgICAzMFx0ICAgICAgICBcIlwiXCJcbiAgICAzMVx0ICAgICAgICBzdXBlcigpLl9faW5pdF9fKG1hc3RlciwgKiprd2FyZ3MpXG4gICAgMzJcdFxuICAgIDMzXHQgICAgICAgICMgQ29uZmlndXJlIGdyaWQgbGF5b3V0XG4gICAgMzRcdCAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgICAzNVx0ICAgICAgICBzZWxmLmdyaWRfcm93Y29uZmlndXJlKDEsIHdlaWdodD0xKVxuICAgIDM2XHRcbiAgICAzN1x0ICAgICAgICAjIEFkZCB0aXRsZSBsYWJlbFxuICAgIDM4XHQgICAgICAgIHNlbGYudGl0bGVfbGFiZWwgPSBjdGsuQ1RrTGFiZWwoc2VsZiwgdGV4dD10aXRsZSwgZmdfY29sb3I9XCJncmF5MzBcIiwgY29ybmVyX3JhZGl1cz02KVxuICAgIDM5XHQgICAgICAgIHNlbGYudGl0bGVfbGFiZWwuZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9MTAsIHBhZHk9KDEwLCAwKSwgc3RpY2t5PVwiZXdcIilcbiAgICA0MFx0XG4gICAgNDFcdCAgICAgICAgIyBDcmVhdGUgbWF0cGxvdGxpYiBmaWd1cmUgd2l0aCBsYXJnZXIgc2l6ZVxuICAgIDQyXHQgICAgICAgIHNlbGYuZmlndXJlID0gRmlndXJlKGZpZ3NpemU9KDEyLCA3KSwgZHBpPTEwMClcbiAgICA0M1x0ICAgICAgICBzZWxmLnBsb3QgPSBzZWxmLmZpZ3VyZS5hZGRfc3VicGxvdCgxMTEpXG4gICAgNDRcdFxuICAgIDQ1XHQgICAgICAgICMgQ3JlYXRlIGNhbnZhcyBmb3IgdGhlIGZpZ3VyZVxuICAgIDQ2XHQgICAgICAgIHNlbGYuY2FudmFzID0gRmlndXJlQ2FudmFzVGtBZ2coc2VsZi5maWd1cmUsIHNlbGYpXG4gICAgNDdcdCAgICAgICAgc2VsZi5jYW52YXNfd2lkZ2V0ID0gc2VsZi5jYW52YXMuZ2V0X3RrX3dpZGdldCgpXG4gICAgNDhcdCAgICAgICAgc2VsZi5jYW52YXNfd2lkZ2V0LmdyaWQocm93PTEsIGNvbHVtbj0wLCBwYWR4PTEwLCBwYWR5PTEwLCBzdGlja3k9XCJuc2V3XCIpXG4gICAgNDlcdFxuICAgIDUwXHQgICAgICAgICMgQWRkIGludGVyYWN0aXZlIHpvb21pbmcgd2l0aCBtb3VzZSBkcmFnXG4gICAgNTFcdCAgICAgICAgc2VsZi56b29tX3N0YXJ0ID0gTm9uZVxuICAgIDUyXHQgICAgICAgIHNlbGYuY2FudmFzLm1wbF9jb25uZWN0KCdidXR0b25fcHJlc3NfZXZlbnQnLCBzZWxmLm9uX21vdXNlX3ByZXNzKVxuICAgIDUzXHQgICAgICAgIHNlbGYuY2FudmFzLm1wbF9jb25uZWN0KCdidXR0b25fcmVsZWFzZV9ldmVudCcsIHNlbGYub25fbW91c2VfcmVsZWFzZSlcbiAgICA1NFx0ICAgICAgICBzZWxmLmNhbnZhcy5tcGxfY29ubmVjdCgnbW90aW9uX25vdGlmeV9ldmVudCcsIHNlbGYub25fbW91c2VfbW90aW9uKVxuICAgIDU1XHRcbiAgICA1Nlx0ICAgICAgICAjIFN0b3JlIHRoZSBwYXJlbnQgZnJhbWUgZm9yIGNhbGxiYWNrc1xuICAgIDU3XHQgICAgICAgIHNlbGYucGFyZW50X2ZyYW1lID0gbWFzdGVyXG4gICAgNThcdFxuICAgIDU5XHQgICAgICAgICMgSW5pdGlhbGl6ZSB3aXRoIGVtcHR5IHBsb3RcbiAgICA2MFx0ICAgICAgICBzZWxmLnVwZGF0ZV9wbG90KClcbiAgICA2MVx0XG4gICAgNjJcdCAgICBkZWYgdXBkYXRlX3Bsb3QoXG4gICAgNjNcdCAgICAgICAgc2VsZixcbiAgICA2NFx0ICAgICAgICBkYXRhOiBPcHRpb25hbFtwZC5EYXRhRnJhbWVdID0gTm9uZSxcbiAgICA2NVx0ICAgICAgICBtZXRyaWM6IE9wdGlvbmFsW3N0cl0gPSBOb25lLFxuICAgIDY2XHQgICAgICAgIGNoYW5uZWxzOiBPcHRpb25hbFtMaXN0W3N0cl1dID0gTm9uZSxcbiAgICA2N1x0ICAgICAgICB0aXRsZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsXG4gICAgNjhcdCAgICAgICAgeGxhYmVsOiBPcHRpb25hbFtzdHJdID0gTm9uZSxcbiAgICA2OVx0ICAgICAgICB5bGFiZWw6IE9wdGlvbmFsW3N0cl0gPSBOb25lLFxuICAgIDcwXHQgICAgICAgIHRpbWVfd2luZG93OiBPcHRpb25hbFtUdXBsZVtPcHRpb25hbFtmbG9hdF0sIE9wdGlvbmFsW2Zsb2F0XV1dID0gTm9uZSxcbiAgICA3MVx0ICAgICAgICBhZ2dyZWdhdGlvbnM6IE9wdGlvbmFsW0xpc3Rbc3RyXV0gPSBOb25lLFxuICAgIDcyXHQgICAgICAgIGFnZ3JlZ2F0aW9uX29ubHk6IGJvb2wgPSBGYWxzZVxuICAgIDczXHQgICAgKTpcbiAgICA3NFx0ICAgICAgICBcIlwiXCJcbiAgICA3NVx0ICAgICAgICBVcGRhdGUgdGhlIHBsb3Qgd2l0aCBuZXcgZGF0YS5cbiAgICA3Nlx0XG4gICAgNzdcdCAgICAgICAgQXJnczpcbiAgICA3OFx0ICAgICAgICAgICAgZGF0YTogRGF0YUZyYW1lIGNvbnRhaW5pbmcgdGhlIG1ldHJpY3MgZGF0YVxuICAgIDc5XHQgICAgICAgICAgICBtZXRyaWM6IFRoZSBtZXRyaWMgdG8gcGxvdFxuICAgIDgwXHQgICAgICAgICAgICBjaGFubmVsczogTGlzdCBvZiBjaGFubmVscyB0byBwbG90XG4gICAgODFcdCAgICAgICAgICAgIHRpdGxlOiBUaXRsZSBmb3IgdGhlIHBsb3RcbiAgICA4Mlx0ICAgICAgICAgICAgeGxhYmVsOiBMYWJlbCBmb3IgdGhlIHgtYXhpc1xuICAgIDgzXHQgICAgICAgICAgICB5bGFiZWw6IExhYmVsIGZvciB0aGUgeS1heGlzXG4gICAgODRcdCAgICAgICAgICAgIHRpbWVfd2luZG93OiBUdXBsZSBvZiAoc3RhcnRfdGltZSwgZW5kX3RpbWUpIHRvIGZvY3VzIG9uIGEgc3BlY2lmaWMgdGltZSByYW5nZVxuICAgIDg1XHQgICAgICAgICAgICBhZ2dyZWdhdGlvbnM6IExpc3Qgb2YgYWdncmVnYXRpb24gbWV0aG9kcyB0byBhcHBseSBhY3Jvc3MgY2hhbm5lbHMgKG1lYW4sIHN0ZCwgbWVkaWFuKVxuICAgIDg2XHQgICAgICAgICAgICBhZ2dyZWdhdGlvbl9vbmx5OiBJZiBUcnVlLCBvbmx5IHNob3cgYWdncmVnYXRpb25zIHdpdGhvdXQgaW5kaXZpZHVhbCBjaGFubmVsc1xuICAgIDg3XHQgICAgICAgIFwiXCJcIlxuICAgIDg4XHQgICAgICAgIHNlbGYucGxvdC5jbGVhcigpXG4gICAgODlcdFxuICAgIDkwXHQgICAgICAgIGlmIGRhdGEgaXMgTm9uZSBvciBtZXRyaWMgaXMgTm9uZSBvciAobm90IGNoYW5uZWxzIGFuZCBub3QgYWdncmVnYXRpb25zKTpcbiAgICA5MVx0ICAgICAgICAgICAgIyBEaXNwbGF5IGEgbWVzc2FnZSBpZiBubyBkYXRhIGlzIHByb3ZpZGVkXG4gICAgOTJcdCAgICAgICAgICAgIHNlbGYucGxvdC50ZXh0KDAuNSwgMC41LCBcIk5vIGRhdGEgc2VsZWN0ZWRcIixcbiAgICA5M1x0ICAgICAgICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsYWxpZ25tZW50PSdjZW50ZXInLFxuICAgIDk0XHQgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsYWxpZ25tZW50PSdjZW50ZXInLFxuICAgIDk1XHQgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybT1zZWxmLnBsb3QudHJhbnNBeGVzKVxuICAgIDk2XHQgICAgICAgIGVsc2U6XG4gICAgOTdcdCAgICAgICAgICAgICMgRmlsdGVyIGRhdGEgZm9yIHRoZSBzZWxlY3RlZCBtZXRyaWNcbiAgICA5OFx0ICAgICAgICAgICAgbWV0cmljX2RhdGEgPSBkYXRhW2RhdGFbJ21ldHJpYyddID09IG1ldHJpY11cbiAgICA5OVx0XG4gICAxMDBcdCAgICAgICAgICAgIGlmIG1ldHJpY19kYXRhLmVtcHR5OlxuICAgMTAxXHQgICAgICAgICAgICAgICAgc2VsZi5wbG90LnRleHQoMC41LCAwLjUsIGZcIk5vIGRhdGEgZm9yIG1ldHJpYzoge21ldHJpY31cIixcbiAgIDEwMlx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbGFsaWdubWVudD0nY2VudGVyJyxcbiAgIDEwM1x0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWxhbGlnbm1lbnQ9J2NlbnRlcicsXG4gICAxMDRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybT1zZWxmLnBsb3QudHJhbnNBeGVzKVxuICAgMTA1XHQgICAgICAgICAgICBlbHNlOlxuICAgMTA2XHQgICAgICAgICAgICAgICAgIyBTb3J0IGJ5IHN0YXJ0RGF0YVJlY29yZCBpZiBhdmFpbGFibGVcbiAgIDEwN1x0ICAgICAgICAgICAgICAgIGlmICdzdGFydERhdGFSZWNvcmQnIGluIG1ldHJpY19kYXRhLmNvbHVtbnM6XG4gICAxMDhcdCAgICAgICAgICAgICAgICAgICAgbWV0cmljX2RhdGEgPSBtZXRyaWNfZGF0YS5zb3J0X3ZhbHVlcygnc3RhcnREYXRhUmVjb3JkJylcbiAgIDEwOVx0ICAgICAgICAgICAgICAgICAgICB4X3ZhbHVlcyA9IG1ldHJpY19kYXRhWydzdGFydERhdGFSZWNvcmQnXVxuICAgMTEwXHQgICAgICAgICAgICAgICAgICAgIHhfbGFiZWwgPSAnVGltZSAocyknXG4gICAxMTFcdFxuICAgMTEyXHQgICAgICAgICAgICAgICAgICAgICMgQXBwbHkgdGltZSB3aW5kb3cgZmlsdGVyaW5nIGlmIHNwZWNpZmllZFxuICAgMTEzXHQgICAgICAgICAgICAgICAgICAgIGlmIHRpbWVfd2luZG93IGFuZCBhbnkoeCBpcyBub3QgTm9uZSBmb3IgeCBpbiB0aW1lX3dpbmRvdyk6XG4gICAxMTRcdCAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0X3RpbWUsIGVuZF90aW1lID0gdGltZV93aW5kb3dcbiAgIDExNVx0XG4gICAxMTZcdCAgICAgICAgICAgICAgICAgICAgICAgICMgRmlsdGVyIGJ5IHN0YXJ0IHRpbWUgaWYgc3BlY2lmaWVkXG4gICAxMTdcdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIHN0YXJ0X3RpbWUgaXMgbm90IE5vbmU6XG4gICAxMThcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRyaWNfZGF0YSA9IG1ldHJpY19kYXRhW21ldHJpY19kYXRhWydzdGFydERhdGFSZWNvcmQnXSA+PSBzdGFydF90aW1lXVxuICAgMTE5XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbWV0cmljX2RhdGEuZW1wdHk6XG4gICAxMjBcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbG90LnRleHQoMC41LCAwLjUsIGZcIk5vIGRhdGEgaW4gdGhlIHNwZWNpZmllZCB0aW1lIHJhbmdlXCIsXG4gICAxMjFcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsYWxpZ25tZW50PSdjZW50ZXInLFxuICAgMTIyXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWxhbGlnbm1lbnQ9J2NlbnRlcicsXG4gICAxMjNcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm09c2VsZi5wbG90LnRyYW5zQXhlcylcbiAgIDEyNFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4X2xhYmVsID0gJ1RpbWUgKHMpJ1xuICAgMTI1XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGxvdC5zZXRfeGxhYmVsKHhfbGFiZWwpXG4gICAxMjZcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbG90LnNldF95bGFiZWwobWV0cmljIGlmIG1ldHJpYyBlbHNlICdWYWx1ZScpXG4gICAxMjdcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5maWd1cmUudGlnaHRfbGF5b3V0KClcbiAgIDEyOFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbnZhcy5kcmF3KClcbiAgIDEyOVx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgIDEzMFx0XG4gICAxMzFcdCAgICAgICAgICAgICAgICAgICAgICAgICMgRmlsdGVyIGJ5IGVuZCB0aW1lIGlmIHNwZWNpZmllZFxuICAgMTMyXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiBlbmRfdGltZSBpcyBub3QgTm9uZTpcbiAgIDEzM1x0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldHJpY19kYXRhID0gbWV0cmljX2RhdGFbbWV0cmljX2RhdGFbJ3N0YXJ0RGF0YVJlY29yZCddIDw9IGVuZF90aW1lXVxuICAgMTM0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbWV0cmljX2RhdGEuZW1wdHk6XG4gICAxMzVcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbG90LnRleHQoMC41LCAwLjUsIGZcIk5vIGRhdGEgaW4gdGhlIHNwZWNpZmllZCB0aW1lIHJhbmdlXCIsXG4gICAxMzZcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsYWxpZ25tZW50PSdjZW50ZXInLFxuICAgMTM3XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWxhbGlnbm1lbnQ9J2NlbnRlcicsXG4gICAxMzhcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm09c2VsZi5wbG90LnRyYW5zQXhlcylcbiAgIDEzOVx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4X2xhYmVsID0gJ1RpbWUgKHMpJ1xuICAgMTQwXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGxvdC5zZXRfeGxhYmVsKHhfbGFiZWwpXG4gICAxNDFcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbG90LnNldF95bGFiZWwobWV0cmljIGlmIG1ldHJpYyBlbHNlICdWYWx1ZScpXG4gICAxNDJcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5maWd1cmUudGlnaHRfbGF5b3V0KClcbiAgIDE0M1x0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbnZhcy5kcmF3KClcbiAgIDE0NFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgIDE0NVx0XG4gICAxNDZcdCAgICAgICAgICAgICAgICAgICAgICAgICMgVXBkYXRlIHhfdmFsdWVzIGFmdGVyIGZpbHRlcmluZ1xuICAgMTQ3XHQgICAgICAgICAgICAgICAgICAgICAgICB4X3ZhbHVlcyA9IG1ldHJpY19kYXRhWydzdGFydERhdGFSZWNvcmQnXVxuICAgMTQ4XHQgICAgICAgICAgICAgICAgZWxzZTpcbiAgIDE0OVx0ICAgICAgICAgICAgICAgICAgICB4X3ZhbHVlcyA9IHJhbmdlKGxlbihtZXRyaWNfZGF0YSkpXG4gICAxNTBcdCAgICAgICAgICAgICAgICAgICAgeF9sYWJlbCA9ICdTYW1wbGUnXG4gICAxNTFcdFxuICAgMTUyXHQgICAgICAgICAgICAgICAgIyBHZXQgdGhlIGNoYW5uZWwgY29sdW1ucyBmb3IgcGxvdHRpbmdcbiAgIDE1M1x0ICAgICAgICAgICAgICAgIGNoYW5uZWxfY29sdW1ucyA9IFtjb2wgZm9yIGNvbCBpbiBtZXRyaWNfZGF0YS5jb2x1bW5zIGlmIGNvbCBpbiBjaGFubmVsc11cbiAgIDE1NFx0XG4gICAxNTVcdCAgICAgICAgICAgICAgICAjIFBsb3QgZWFjaCBzZWxlY3RlZCBjaGFubmVsIGlmIG5vdCBpbiBhZ2dyZWdhdGlvbl9vbmx5IG1vZGVcbiAgIDE1Nlx0ICAgICAgICAgICAgICAgIGlmIG5vdCBhZ2dyZWdhdGlvbl9vbmx5OlxuICAgMTU3XHQgICAgICAgICAgICAgICAgICAgIGZvciBjaGFubmVsIGluIGNoYW5uZWxzOlxuICAgMTU4XHQgICAgICAgICAgICAgICAgICAgICAgICBpZiBjaGFubmVsIGluIG1ldHJpY19kYXRhLmNvbHVtbnM6XG4gICAxNTlcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBsb3QucGxvdCh4X3ZhbHVlcywgbWV0cmljX2RhdGFbY2hhbm5lbF0sIGxhYmVsPWNoYW5uZWwsIGFscGhhPTAuNylcbiAgIDE2MFx0XG4gICAxNjFcdCAgICAgICAgICAgICAgICAjIENhbGN1bGF0ZSBhbmQgcGxvdCBhZ2dyZWdhdGlvbnMgaWYgcmVxdWVzdGVkXG4gICAxNjJcdCAgICAgICAgICAgICAgICBpZiBhZ2dyZWdhdGlvbnMgYW5kIGNoYW5uZWxfY29sdW1uczpcbiAgIDE2M1x0ICAgICAgICAgICAgICAgICAgICAjIENhbGN1bGF0ZSBhbmQgcGxvdCBlYWNoIHNlbGVjdGVkIGFnZ3JlZ2F0aW9uXG4gICAxNjRcdCAgICAgICAgICAgICAgICAgICAgZm9yIGFnZyBpbiBhZ2dyZWdhdGlvbnM6XG4gICAxNjVcdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIGFnZyA9PSAnbWVhbic6XG4gICAxNjZcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIENhbGN1bGF0ZSBtZWFuIGFjcm9zcyBjaGFubmVsc1xuICAgMTY3XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVhbl92YWx1ZXMgPSBtZXRyaWNfZGF0YVtjaGFubmVsX2NvbHVtbnNdLm1lYW4oYXhpcz0xKVxuICAgMTY4XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbG90LnBsb3QoeF92YWx1ZXMsIG1lYW5fdmFsdWVzLFxuICAgMTY5XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD0nTWVhbicsXG4gICAxNzBcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPUFHR1JFR0FUSU9OX0NPTE9SU1snbWVhbiddLFxuICAgMTcxXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lc3R5bGU9QUdHUkVHQVRJT05fU1RZTEVTWydtZWFuJ10sXG4gICAxNzJcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmV3aWR0aD0yLjUpXG4gICAxNzNcdFxuICAgMTc0XHQgICAgICAgICAgICAgICAgICAgICAgICBlbGlmIGFnZyA9PSAnc3RkJzpcbiAgIDE3NVx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgQ2FsY3VsYXRlIHN0YW5kYXJkIGRldmlhdGlvbiBhY3Jvc3MgY2hhbm5lbHNcbiAgIDE3Nlx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZF92YWx1ZXMgPSBtZXRyaWNfZGF0YVtjaGFubmVsX2NvbHVtbnNdLnN0ZChheGlzPTEpXG4gICAxNzdcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBsb3QucGxvdCh4X3ZhbHVlcywgc3RkX3ZhbHVlcyxcbiAgIDE3OFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9J1N0ZCBEZXYnLFxuICAgMTc5XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj1BR0dSRUdBVElPTl9DT0xPUlNbJ3N0ZCddLFxuICAgMTgwXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lc3R5bGU9QUdHUkVHQVRJT05fU1RZTEVTWydzdGQnXSxcbiAgIDE4MVx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXdpZHRoPTIuNSlcbiAgIDE4Mlx0XG4gICAxODNcdCAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgYWdnID09ICdtZWRpYW4nOlxuICAgMTg0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBDYWxjdWxhdGUgbWVkaWFuIGFjcm9zcyBjaGFubmVsc1xuICAgMTg1XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWFuX3ZhbHVlcyA9IG1ldHJpY19kYXRhW2NoYW5uZWxfY29sdW1uc10ubWVkaWFuKGF4aXM9MSlcbiAgIDE4Nlx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGxvdC5wbG90KHhfdmFsdWVzLCBtZWRpYW5fdmFsdWVzLFxuICAgMTg3XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD0nTWVkaWFuJyxcbiAgIDE4OFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9QUdHUkVHQVRJT05fQ09MT1JTWydtZWRpYW4nXSxcbiAgIDE4OVx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXN0eWxlPUFHR1JFR0FUSU9OX1NUWUxFU1snbWVkaWFuJ10sXG4gICAxOTBcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmV3aWR0aD0yLjUpXG4gICAxOTFcdFxuICAgMTkyXHQgICAgICAgICAgICAgICAgIyBBZGQgbGVnZW5kIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBpdGVtcyB0byBzaG93XG4gICAxOTNcdCAgICAgICAgICAgICAgICBpZiAobm90IGFnZ3JlZ2F0aW9uX29ubHkgYW5kIGxlbihjaGFubmVscykgPiAxKSBvciBcXFxuICAgMTk0XHQgICAgICAgICAgICAgICAgICAgKGFnZ3JlZ2F0aW9ucyBhbmQgbGVuKGFnZ3JlZ2F0aW9ucykgPiAwKSBvciBcXFxuICAgMTk1XHQgICAgICAgICAgICAgICAgICAgKG5vdCBhZ2dyZWdhdGlvbl9vbmx5IGFuZCBjaGFubmVscyBhbmQgYWdncmVnYXRpb25zKTpcbiAgIDE5Nlx0ICAgICAgICAgICAgICAgICAgICBzZWxmLnBsb3QubGVnZW5kKClcbiAgIDE5N1x0XG4gICAxOThcdCAgICAgICAgICAgICAgICAjIFNldCB4LWF4aXMgbGltaXRzIGlmIHRpbWUgd2luZG93IGlzIHNwZWNpZmllZFxuICAgMTk5XHQgICAgICAgICAgICAgICAgaWYgJ3N0YXJ0RGF0YVJlY29yZCcgaW4gbWV0cmljX2RhdGEuY29sdW1ucyBhbmQgdGltZV93aW5kb3cgYW5kIGFueSh4IGlzIG5vdCBOb25lIGZvciB4IGluIHRpbWVfd2luZG93KTpcbiAgIDIwMFx0ICAgICAgICAgICAgICAgICAgICBzdGFydF90aW1lLCBlbmRfdGltZSA9IHRpbWVfd2luZG93XG4gICAyMDFcdCAgICAgICAgICAgICAgICAgICAgeF9taW4sIHhfbWF4ID0gTm9uZSwgTm9uZVxuICAgMjAyXHRcbiAgIDIwM1x0ICAgICAgICAgICAgICAgICAgICBpZiBzdGFydF90aW1lIGlzIG5vdCBOb25lOlxuICAgMjA0XHQgICAgICAgICAgICAgICAgICAgICAgICB4X21pbiA9IHN0YXJ0X3RpbWVcbiAgIDIwNVx0ICAgICAgICAgICAgICAgICAgICBlbHNlOlxuICAgMjA2XHQgICAgICAgICAgICAgICAgICAgICAgICB4X21pbiA9IG1pbih4X3ZhbHVlcykgaWYgbGVuKHhfdmFsdWVzKSA+IDAgZWxzZSAwXG4gICAyMDdcdFxuICAgMjA4XHQgICAgICAgICAgICAgICAgICAgIGlmIGVuZF90aW1lIGlzIG5vdCBOb25lOlxuICAgMjA5XHQgICAgICAgICAgICAgICAgICAgICAgICB4X21heCA9IGVuZF90aW1lXG4gICAyMTBcdCAgICAgICAgICAgICAgICAgICAgZWxzZTpcbiAgIDIxMVx0ICAgICAgICAgICAgICAgICAgICAgICAgeF9tYXggPSBtYXgoeF92YWx1ZXMpIGlmIGxlbih4X3ZhbHVlcykgPiAwIGVsc2UgMVxuICAgMjEyXHRcbiAgIDIxM1x0ICAgICAgICAgICAgICAgICAgICAjIEFkZCBhIHNtYWxsIHBhZGRpbmcgdG8gdGhlIGxpbWl0c1xuICAgMjE0XHQgICAgICAgICAgICAgICAgICAgIHBhZGRpbmcgPSAoeF9tYXggLSB4X21pbikgKiAwLjA1IGlmIHhfbWF4ID4geF9taW4gZWxzZSAwLjFcbiAgIDIxNVx0ICAgICAgICAgICAgICAgICAgICBzZWxmLnBsb3Quc2V0X3hsaW0oeF9taW4gLSBwYWRkaW5nLCB4X21heCArIHBhZGRpbmcpXG4gICAyMTZcdFxuICAgMjE3XHQgICAgICAgICMgU2V0IHRpdGxlIGFuZCBsYWJlbHNcbiAgIDIxOFx0ICAgICAgICBpZiB0aXRsZTpcbiAgIDIxOVx0ICAgICAgICAgICAgc2VsZi5wbG90LnNldF90aXRsZSh0aXRsZSlcbiAgIDIyMFx0ICAgICAgICBpZiB4bGFiZWw6XG4gICAyMjFcdCAgICAgICAgICAgIHNlbGYucGxvdC5zZXRfeGxhYmVsKHhsYWJlbClcbiAgIDIyMlx0ICAgICAgICBlbHNlOlxuICAgMjIzXHQgICAgICAgICAgICBzZWxmLnBsb3Quc2V0X3hsYWJlbCh4X2xhYmVsIGlmICd4X2xhYmVsJyBpbiBsb2NhbHMoKSBlbHNlICdTYW1wbGUnKVxuICAgMjI0XHQgICAgICAgIGlmIHlsYWJlbDpcbiAgIDIyNVx0ICAgICAgICAgICAgc2VsZi5wbG90LnNldF95bGFiZWwoeWxhYmVsKVxuICAgMjI2XHQgICAgICAgIGVsc2U6XG4gICAyMjdcdCAgICAgICAgICAgIHNlbGYucGxvdC5zZXRfeWxhYmVsKG1ldHJpYyBpZiBtZXRyaWMgZWxzZSAnVmFsdWUnKVxuICAgMjI4XHRcbiAgIDIyOVx0ICAgICAgICAjIEFkanVzdCBsYXlvdXQgYW5kIHJlZHJhd1xuICAgMjMwXHQgICAgICAgIHNlbGYuZmlndXJlLnRpZ2h0X2xheW91dCgpXG4gICAyMzFcdCAgICAgICAgc2VsZi5jYW52YXMuZHJhdygpXG4gICAyMzJcdFxuICAgMjMzXHQgICAgZGVmIG9uX21vdXNlX3ByZXNzKHNlbGYsIGV2ZW50KTpcbiAgIDIzNFx0ICAgICAgICBcIlwiXCJIYW5kbGUgbW91c2UgcHJlc3MgZXZlbnQgZm9yIGludGVyYWN0aXZlIHpvb21pbmcuXCJcIlwiXG4gICAyMzVcdCAgICAgICAgIyBPbmx5IGhhbmRsZSBsZWZ0IGJ1dHRvbiBjbGlja3MgaW4gdGhlIHBsb3QgYXJlYVxuICAgMjM2XHQgICAgICAgIGlmIGV2ZW50LmJ1dHRvbiAhPSAxIG9yIGV2ZW50LmluYXhlcyAhPSBzZWxmLnBsb3Q6XG4gICAyMzdcdCAgICAgICAgICAgIHJldHVyblxuICAgMjM4XHRcbiAgIDIzOVx0ICAgICAgICAjIFN0b3JlIHRoZSBzdGFydGluZyBwb2ludCBmb3IgdGhlIHpvb20gYm94XG4gICAyNDBcdCAgICAgICAgc2VsZi56b29tX3N0YXJ0ID0gKGV2ZW50LnhkYXRhLCBldmVudC55ZGF0YSlcbiAgIDI0MVx0XG4gICAyNDJcdCAgICAgICAgIyBDcmVhdGUgYSByZWN0YW5nbGUgZm9yIHRoZSB6b29tIGJveCBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAyNDNcdCAgICAgICAgaWYgbm90IGhhc2F0dHIoc2VsZiwgJ3pvb21fcmVjdCcpOlxuICAgMjQ0XHQgICAgICAgICAgICBzZWxmLnpvb21fcmVjdCA9IHNlbGYucGxvdC5heHZzcGFuKGV2ZW50LnhkYXRhLCBldmVudC54ZGF0YSwgYWxwaGE9MC4zLCBjb2xvcj0nZ3JheScpXG4gICAyNDVcdCAgICAgICAgICAgIHNlbGYuem9vbV9yZWN0LnNldF92aXNpYmxlKEZhbHNlKVxuICAgMjQ2XHRcbiAgIDI0N1x0ICAgIGRlZiBvbl9tb3VzZV9tb3Rpb24oc2VsZiwgZXZlbnQpOlxuICAgMjQ4XHQgICAgICAgIFwiXCJcIkhhbmRsZSBtb3VzZSBtb3Rpb24gZXZlbnQgZm9yIGludGVyYWN0aXZlIHpvb21pbmcuXCJcIlwiXG4gICAyNDlcdCAgICAgICAgIyBPbmx5IGhhbmRsZSBtb3Rpb24gd2hlbiB3ZSBoYXZlIGEgem9vbSBzdGFydCBwb2ludCBhbmQgd2UncmUgaW4gdGhlIHBsb3QgYXJlYVxuICAgMjUwXHQgICAgICAgIGlmIHNlbGYuem9vbV9zdGFydCBpcyBOb25lIG9yIGV2ZW50LmluYXhlcyAhPSBzZWxmLnBsb3Qgb3Igbm90IGhhc2F0dHIoc2VsZiwgJ3pvb21fcmVjdCcpOlxuICAgMjUxXHQgICAgICAgICAgICByZXR1cm5cbiAgIDI1Mlx0XG4gICAyNTNcdCAgICAgICAgIyBVcGRhdGUgdGhlIHpvb20gYm94XG4gICAyNTRcdCAgICAgICAgeF9zdGFydCA9IHNlbGYuem9vbV9zdGFydFswXVxuICAgMjU1XHQgICAgICAgIHhfY3VycmVudCA9IGV2ZW50LnhkYXRhXG4gICAyNTZcdFxuICAgMjU3XHQgICAgICAgICMgTWFrZSBzdXJlIHdlIGhhdmUgdmFsaWQgY29vcmRpbmF0ZXNcbiAgIDI1OFx0ICAgICAgICBpZiB4X3N0YXJ0IGlzIE5vbmUgb3IgeF9jdXJyZW50IGlzIE5vbmU6XG4gICAyNTlcdCAgICAgICAgICAgIHJldHVyblxuICAgMjYwXHRcbiAgIDI2MVx0ICAgICAgICAjIFNldCB0aGUgem9vbSBib3ggY29vcmRpbmF0ZXNcbiAgIDI2Mlx0ICAgICAgICB4X21pbiA9IG1pbih4X3N0YXJ0LCB4X2N1cnJlbnQpXG4gICAyNjNcdCAgICAgICAgeF9tYXggPSBtYXgoeF9zdGFydCwgeF9jdXJyZW50KVxuICAgMjY0XHRcbiAgIDI2NVx0ICAgICAgICAjIFVwZGF0ZSB0aGUgem9vbSByZWN0YW5nbGUgLSB1c2UgYXh2c3BhbidzIHh5IHBhcmFtZXRlciBjb3JyZWN0bHlcbiAgIDI2Nlx0ICAgICAgICBzZWxmLnpvb21fcmVjdC5zZXRfdmlzaWJsZShUcnVlKVxuICAgMjY3XHQgICAgICAgICMgSW5zdGVhZCBvZiBzZXR0aW5nIHh5IGNvb3JkaW5hdGVzIGRpcmVjdGx5LCB1cGRhdGUgdGhlIHNwYW5cbiAgIDI2OFx0ICAgICAgICBzZWxmLnpvb21fcmVjdC5yZW1vdmUoKVxuICAgMjY5XHQgICAgICAgIHNlbGYuem9vbV9yZWN0ID0gc2VsZi5wbG90LmF4dnNwYW4oeF9taW4sIHhfbWF4LCBhbHBoYT0wLjMsIGNvbG9yPSdncmF5JylcbiAgIDI3MFx0XG4gICAyNzFcdCAgICAgICAgIyBSZWRyYXcgdGhlIGNhbnZhc1xuICAgMjcyXHQgICAgICAgIHNlbGYuY2FudmFzLmRyYXdfaWRsZSgpXG4gICAyNzNcdFxuICAgMjc0XHQgICAgZGVmIG9uX21vdXNlX3JlbGVhc2Uoc2VsZiwgZXZlbnQpOlxuICAgMjc1XHQgICAgICAgIFwiXCJcIkhhbmRsZSBtb3VzZSByZWxlYXNlIGV2ZW50IGZvciBpbnRlcmFjdGl2ZSB6b29taW5nLlwiXCJcIlxuICAgMjc2XHQgICAgICAgICMgT25seSBoYW5kbGUgbGVmdCBidXR0b24gcmVsZWFzZXMgd2hlbiB3ZSBoYXZlIGEgem9vbSBzdGFydCBwb2ludFxuICAgMjc3XHQgICAgICAgIGlmIGV2ZW50LmJ1dHRvbiAhPSAxIG9yIHNlbGYuem9vbV9zdGFydCBpcyBOb25lIG9yIGV2ZW50LmluYXhlcyAhPSBzZWxmLnBsb3Q6XG4gICAyNzhcdCAgICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ3pvb21fcmVjdCcpOlxuICAgMjc5XHQgICAgICAgICAgICAgICAgc2VsZi56b29tX3JlY3QucmVtb3ZlKClcbiAgIDI4MFx0ICAgICAgICAgICAgICAgIGRlbGF0dHIoc2VsZiwgJ3pvb21fcmVjdCcpXG4gICAyODFcdCAgICAgICAgICAgICAgICBzZWxmLmNhbnZhcy5kcmF3X2lkbGUoKVxuICAgMjgyXHQgICAgICAgICAgICBzZWxmLnpvb21fc3RhcnQgPSBOb25lXG4gICAyODNcdCAgICAgICAgICAgIHJldHVyblxuICAgMjg0XHRcbiAgIDI4NVx0ICAgICAgICAjIEdldCB0aGUgc3RhcnQgYW5kIGVuZCBwb2ludHNcbiAgIDI4Nlx0ICAgICAgICB4X3N0YXJ0ID0gc2VsZi56b29tX3N0YXJ0WzBdXG4gICAyODdcdCAgICAgICAgeF9lbmQgPSBldmVudC54ZGF0YVxuICAgMjg4XHRcbiAgIDI4OVx0ICAgICAgICAjIE1ha2Ugc3VyZSB3ZSBoYXZlIHZhbGlkIGNvb3JkaW5hdGVzXG4gICAyOTBcdCAgICAgICAgaWYgeF9zdGFydCBpcyBOb25lIG9yIHhfZW5kIGlzIE5vbmU6XG4gICAyOTFcdCAgICAgICAgICAgIHNlbGYuem9vbV9zdGFydCA9IE5vbmVcbiAgIDI5Mlx0ICAgICAgICAgICAgaWYgaGFzYXR0cihzZWxmLCAnem9vbV9yZWN0Jyk6XG4gICAyOTNcdCAgICAgICAgICAgICAgICBzZWxmLnpvb21fcmVjdC5yZW1vdmUoKVxuICAgMjk0XHQgICAgICAgICAgICAgICAgZGVsYXR0cihzZWxmLCAnem9vbV9yZWN0JylcbiAgIDI5NVx0ICAgICAgICAgICAgICAgIHNlbGYuY2FudmFzLmRyYXdfaWRsZSgpXG4gICAyOTZcdCAgICAgICAgICAgIHJldHVyblxuICAgMjk3XHRcbiAgIDI5OFx0ICAgICAgICAjIFJlc2V0IHRoZSB6b29tIHJlY3RhbmdsZVxuICAgMjk5XHQgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ3pvb21fcmVjdCcpOlxuICAgMzAwXHQgICAgICAgICAgICBzZWxmLnpvb21fcmVjdC5yZW1vdmUoKVxuICAgMzAxXHQgICAgICAgICAgICBkZWxhdHRyKHNlbGYsICd6b29tX3JlY3QnKVxuICAgMzAyXHQgICAgICAgICAgICBzZWxmLmNhbnZhcy5kcmF3X2lkbGUoKVxuICAgMzAzXHRcbiAgIDMwNFx0ICAgICAgICAjIE9ubHkgem9vbSBpZiB0aGUgZHJhZyBkaXN0YW5jZSBpcyBzaWduaWZpY2FudFxuICAgMzA1XHQgICAgICAgIGlmIGFicyh4X3N0YXJ0IC0geF9lbmQpIDwgMC4wMTpcbiAgIDMwNlx0ICAgICAgICAgICAgc2VsZi56b29tX3N0YXJ0ID0gTm9uZVxuICAgMzA3XHQgICAgICAgICAgICByZXR1cm5cbiAgIDMwOFx0XG4gICAzMDlcdCAgICAgICAgIyBTb3J0IHRoZSBjb29yZGluYXRlc1xuICAgMzEwXHQgICAgICAgIHhfbWluID0gbWluKHhfc3RhcnQsIHhfZW5kKVxuICAgMzExXHQgICAgICAgIHhfbWF4ID0gbWF4KHhfc3RhcnQsIHhfZW5kKVxuICAgMzEyXHRcbiAgIDMxM1x0ICAgICAgICAjIFVwZGF0ZSB0aGUgdGltZSB3aW5kb3cgaW4gdGhlIHNlbGVjdGlvbiBmcmFtZVxuICAgMzE0XHQgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ3BhcmVudF9mcmFtZScpIGFuZCBoYXNhdHRyKHNlbGYucGFyZW50X2ZyYW1lLCAnc2VsZWN0aW9uX2ZyYW1lJyk6XG4gICAzMTVcdCAgICAgICAgICAgIHNlbGVjdGlvbl9mcmFtZSA9IHNlbGYucGFyZW50X2ZyYW1lLnNlbGVjdGlvbl9mcmFtZVxuICAgMzE2XHQgICAgICAgICAgICBpZiBoYXNhdHRyKHNlbGVjdGlvbl9mcmFtZSwgJ3N0YXJ0X3RpbWVfdmFyJykgYW5kIGhhc2F0dHIoc2VsZWN0aW9uX2ZyYW1lLCAnZW5kX3RpbWVfdmFyJyk6XG4gICAzMTdcdCAgICAgICAgICAgICAgICBzZWxlY3Rpb25fZnJhbWUuc3RhcnRfdGltZV92YXIuc2V0KGZcInt4X21pbjouMmZ9XCIpXG4gICAzMThcdCAgICAgICAgICAgICAgICBzZWxlY3Rpb25fZnJhbWUuZW5kX3RpbWVfdmFyLnNldChmXCJ7eF9tYXg6LjJmfVwiKVxuICAgMzE5XHQgICAgICAgICAgICAgICAgc2VsZWN0aW9uX2ZyYW1lLnVwZGF0ZV9wbG90KClcbiAgIDMyMFx0XG4gICAzMjFcdCAgICAgICAgIyBSZXNldCB0aGUgem9vbSBzdGFydCBwb2ludFxuICAgMzIyXHQgICAgICAgIHNlbGYuem9vbV9zdGFydCA9IE5vbmVcbiAgIDMyM1x0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzMjNcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTIzYzhRZ3pLUHFmckh1eUx2eE1GRGEifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIiLCJmb2xkZXJSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjQsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIn19fV0sInJlc3BvbnNlX3RleHQiOiIiLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYmI4YWY5MmQtMDE1MC00NzMwLThhYjctODI0YWJmYWEzMzQ4IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxV1ZFbWUybUdVNmE0RncxcHp0RXdVTSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJndWkvbWV0cmljc192aWV3ZXIvdXRpbHMucHlcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gZ3VpL21ldHJpY3Nfdmlld2VyL3NlbGVjdGlvbl9mcmFtZS5weTpcbiAgICAgMVx0XCJcIlwiXG4gICAgIDJcdFNlbGVjdGlvbiBmcmFtZSBmb3IgdGhlIEVFRyBNZXRyaWNzIFZpZXdlci5cbiAgICAgM1x0XG4gICAgIDRcdFRoaXMgbW9kdWxlIHByb3ZpZGVzIHRoZSBTZWxlY3Rpb25GcmFtZSBjbGFzcyBmb3Igc2VsZWN0aW5nIGV4cGVyaW1lbnRzLCBFRUdzLFxuICAgICA1XHRtZXRyaWNzLCBjaGFubmVscywgYW5kIG90aGVyIHZpc3VhbGl6YXRpb24gb3B0aW9ucy5cbiAgICAgNlx0XCJcIlwiXG4gICAgIDdcdFxuICAgICA4XHRmcm9tIHR5cGluZyBpbXBvcnQgTGlzdCwgRGljdCwgVHVwbGUsIE9wdGlvbmFsLCBBbnksIENhbGxhYmxlXG4gICAgIDlcdGltcG9ydCBjdXN0b210a2ludGVyIGFzIGN0a1xuICAgIDEwXHRcbiAgICAxMVx0ZnJvbSAuZGF0YWJhc2VfaGFuZGxlciBpbXBvcnQgRGF0YWJhc2VIYW5kbGVyXG4gICAgMTJcdGZyb20gLnBsb3RfZnJhbWUgaW1wb3J0IE1ldHJpY3NQbG90RnJhbWVcbiAgICAxM1x0ZnJvbSAudXRpbHMgaW1wb3J0IChcbiAgICAxNFx0ICAgIGdldF9sYWJlbF9mb250LCBcbiAgICAxNVx0ICAgIGdldF9kcm9wZG93bl9mb250LCBcbiAgICAxNlx0ICAgIGdldF9idXR0b25fZm9udCxcbiAgICAxN1x0ICAgIENPTU1PTl9DSEFOTkVMUyxcbiAgICAxOFx0ICAgIEFMVEVSTkFUSVZFX0NIQU5ORUxfTkFNRVNcbiAgICAxOVx0KVxuICAgIDIwXHRcbiAgICAyMVx0XG4gICAgMjJcdGNsYXNzIFNlbGVjdGlvbkZyYW1lKGN0ay5DVGtGcmFtZSk6XG4gICAgMjNcdCAgICBcIlwiXCJcbiAgICAyNFx0ICAgIEEgZnJhbWUgY29udGFpbmluZyBjb250cm9scyBmb3Igc2VsZWN0aW5nIGV4cGVyaW1lbnRzLCBFRUdzLCBtZXRyaWNzLCBjaGFubmVscywgYW5kIG90aGVyIG9wdGlvbnMuXG4gICAgMjVcdCAgICBcIlwiXCJcbiAgICAyNlx0ICAgIFxuICAgIDI3XHQgICAgZGVmIF9faW5pdF9fKHNlbGYsIG1hc3RlciwgZGJfaGFuZGxlcjogRGF0YWJhc2VIYW5kbGVyLCBwbG90X2ZyYW1lOiBNZXRyaWNzUGxvdEZyYW1lLCAqKmt3YXJncyk6XG4gICAgMjhcdCAgICAgICAgXCJcIlwiXG4gICAgMjlcdCAgICAgICAgSW5pdGlhbGl6ZSB0aGUgc2VsZWN0aW9uIGZyYW1lLlxuICAgIDMwXHQgICAgICAgIFxuICAgIDMxXHQgICAgICAgIEFyZ3M6XG4gICAgMzJcdCAgICAgICAgICAgIG1hc3RlcjogVGhlIHBhcmVudCB3aWRnZXRcbiAgICAzM1x0ICAgICAgICAgICAgZGJfaGFuZGxlcjogRGF0YWJhc2VIYW5kbGVyIGluc3RhbmNlIGZvciBxdWVyeWluZyB0aGUgZGF0YWJhc2VcbiAgICAzNFx0ICAgICAgICAgICAgcGxvdF9mcmFtZTogTWV0cmljc1Bsb3RGcmFtZSBpbnN0YW5jZSBmb3IgZGlzcGxheWluZyBwbG90c1xuICAgIDM1XHQgICAgICAgICAgICAqKmt3YXJnczogQWRkaXRpb25hbCBhcmd1bWVudHMgZm9yIHRoZSBDVGtGcmFtZSBjb25zdHJ1Y3RvclxuICAgIDM2XHQgICAgICAgIFwiXCJcIlxuICAgIDM3XHQgICAgICAgIHN1cGVyKCkuX19pbml0X18obWFzdGVyLCAqKmt3YXJncylcbiAgICAzOFx0ICAgICAgICBcbiAgICAzOVx0ICAgICAgICBzZWxmLmRiX2hhbmRsZXIgPSBkYl9oYW5kbGVyXG4gICAgNDBcdCAgICAgICAgc2VsZi5wbG90X2ZyYW1lID0gcGxvdF9mcmFtZVxuICAgIDQxXHQgICAgICAgIFxuICAgIDQyXHQgICAgICAgICMgQ29uZmlndXJlIGdyaWQgbGF5b3V0XG4gICAgNDNcdCAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgICA0NFx0ICAgICAgICBzZWxmLmdyaWRfY29sdW1uY29uZmlndXJlKDEsIHdlaWdodD0xKVxuICAgIDQ1XHQgICAgICAgIFxuICAgIDQ2XHQgICAgICAgICMgQ3JlYXRlIGZvbnRzXG4gICAgNDdcdCAgICAgICAgbGFiZWxfZm9udCA9IGdldF9sYWJlbF9mb250KClcbiAgICA0OFx0ICAgICAgICBkcm9wZG93bl9mb250ID0gZ2V0X2Ryb3Bkb3duX2ZvbnQoKVxuICAgIDQ5XHQgICAgICAgIFxuICAgIDUwXHQgICAgICAgICMgRXhwZXJpbWVudCBzZWxlY3Rpb24gLSBtb3JlIGNvbXBhY3RcbiAgICA1MVx0ICAgICAgICBzZWxmLmV4cGVyaW1lbnRfbGFiZWwgPSBjdGsuQ1RrTGFiZWwoc2VsZiwgdGV4dD1cIlNlbGVjdCBFeHBlcmltZW50OlwiLCBmb250PWxhYmVsX2ZvbnQpXG4gICAgNTJcdCAgICAgICAgc2VsZi5leHBlcmltZW50X2xhYmVsLmdyaWQocm93PTAsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9KDgsIDApLCBzdGlja3k9XCJ3XCIpXG4gICAgNTNcdCAgICAgICAgXG4gICAgNTRcdCAgICAgICAgc2VsZi5leHBlcmltZW50cyA9IHNlbGYuZGJfaGFuZGxlci5nZXRfZXhwZXJpbWVudHMoKVxuICAgIDU1XHQgICAgICAgIGV4cGVyaW1lbnRfbmFtZXMgPSBbZlwie2V4cFsnbmFtZSddfSAoe2V4cFsncnVuX25hbWUnXX0pXCIgZm9yIGV4cCBpbiBzZWxmLmV4cGVyaW1lbnRzXVxuICAgIDU2XHQgICAgICAgIFxuICAgIDU3XHQgICAgICAgIHNlbGYuZXhwZXJpbWVudF92YXIgPSBjdGsuU3RyaW5nVmFyKHZhbHVlPWV4cGVyaW1lbnRfbmFtZXNbMF0gaWYgZXhwZXJpbWVudF9uYW1lcyBlbHNlIFwiXCIpXG4gICAgNThcdCAgICAgICAgc2VsZi5leHBlcmltZW50X2Ryb3Bkb3duID0gY3RrLkNUa09wdGlvbk1lbnUoXG4gICAgNTlcdCAgICAgICAgICAgIHNlbGYsIFxuICAgIDYwXHQgICAgICAgICAgICB2YWx1ZXM9ZXhwZXJpbWVudF9uYW1lcyxcbiAgICA2MVx0ICAgICAgICAgICAgdmFyaWFibGU9c2VsZi5leHBlcmltZW50X3ZhcixcbiAgICA2Mlx0ICAgICAgICAgICAgY29tbWFuZD1zZWxmLm9uX2V4cGVyaW1lbnRfc2VsZWN0ZWQsXG4gICAgNjNcdCAgICAgICAgICAgIGhlaWdodD0yOCxcbiAgICA2NFx0ICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250LFxuICAgIDY1XHQgICAgICAgICAgICBkcm9wZG93bl9mb250PWRyb3Bkb3duX2ZvbnRcbiAgICA2Nlx0ICAgICAgICApXG4gICAgNjdcdCAgICAgICAgc2VsZi5leHBlcmltZW50X2Ryb3Bkb3duLmdyaWQocm93PTAsIGNvbHVtbj0xLCBwYWR4PTUsIHBhZHk9KDgsIDApLCBzdGlja3k9XCJld1wiKVxuICAgIDY4XHQgICAgICAgIFxuICAgIDY5XHQgICAgICAgICMgRUVHIHNlbGVjdGlvbiAtIG1vcmUgY29tcGFjdFxuICAgIDcwXHQgICAgICAgIHNlbGYuZWVnX2xhYmVsID0gY3RrLkNUa0xhYmVsKHNlbGYsIHRleHQ9XCJTZWxlY3QgRUVHOlwiLCBmb250PWxhYmVsX2ZvbnQpXG4gICAgNzFcdCAgICAgICAgc2VsZi5lZWdfbGFiZWwuZ3JpZChyb3c9MSwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0oOCwgMCksIHN0aWNreT1cIndcIilcbiAgICA3Mlx0ICAgICAgICBcbiAgICA3M1x0ICAgICAgICBzZWxmLmVlZ192YXIgPSBjdGsuU3RyaW5nVmFyKClcbiAgICA3NFx0ICAgICAgICBzZWxmLmVlZ19kcm9wZG93biA9IGN0ay5DVGtPcHRpb25NZW51KFxuICAgIDc1XHQgICAgICAgICAgICBzZWxmLCBcbiAgICA3Nlx0ICAgICAgICAgICAgdmFsdWVzPVtdLFxuICAgIDc3XHQgICAgICAgICAgICB2YXJpYWJsZT1zZWxmLmVlZ192YXIsXG4gICAgNzhcdCAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi5vbl9lZWdfc2VsZWN0ZWQsXG4gICAgNzlcdCAgICAgICAgICAgIGhlaWdodD0yOCxcbiAgICA4MFx0ICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250LFxuICAgIDgxXHQgICAgICAgICAgICBkcm9wZG93bl9mb250PWRyb3Bkb3duX2ZvbnRcbiAgICA4Mlx0ICAgICAgICApXG4gICAgODNcdCAgICAgICAgc2VsZi5lZWdfZHJvcGRvd24uZ3JpZChyb3c9MSwgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT0oOCwgMCksIHN0aWNreT1cImV3XCIpXG4gICAgODRcdCAgICAgICAgXG4gICAgODVcdCAgICAgICAgIyBNZXRyaWMgc2VsZWN0aW9uIC0gbW9yZSBjb21wYWN0XG4gICAgODZcdCAgICAgICAgc2VsZi5tZXRyaWNfbGFiZWwgPSBjdGsuQ1RrTGFiZWwoc2VsZiwgdGV4dD1cIlNlbGVjdCBNZXRyaWM6XCIsIGZvbnQ9bGFiZWxfZm9udClcbiAgICA4N1x0ICAgICAgICBzZWxmLm1ldHJpY19sYWJlbC5ncmlkKHJvdz0yLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PSg4LCAwKSwgc3RpY2t5PVwid1wiKVxuICAgIDg4XHQgICAgICAgIFxuICAgIDg5XHQgICAgICAgIHNlbGYubWV0cmljX3ZhciA9IGN0ay5TdHJpbmdWYXIoKVxuICAgIDkwXHQgICAgICAgIHNlbGYubWV0cmljX2Ryb3Bkb3duID0gY3RrLkNUa09wdGlvbk1lbnUoXG4gICAgOTFcdCAgICAgICAgICAgIHNlbGYsIFxuICAgIDkyXHQgICAgICAgICAgICB2YWx1ZXM9W10sXG4gICAgOTNcdCAgICAgICAgICAgIHZhcmlhYmxlPXNlbGYubWV0cmljX3ZhcixcbiAgICA5NFx0ICAgICAgICAgICAgY29tbWFuZD1zZWxmLm9uX21ldHJpY19zZWxlY3RlZCxcbiAgICA5NVx0ICAgICAgICAgICAgaGVpZ2h0PTI4LFxuICAgIDk2XHQgICAgICAgICAgICBmb250PWRyb3Bkb3duX2ZvbnQsXG4gICAgOTdcdCAgICAgICAgICAgIGRyb3Bkb3duX2ZvbnQ9ZHJvcGRvd25fZm9udFxuICAgIDk4XHQgICAgICAgIClcbiAgICA5OVx0ICAgICAgICBzZWxmLm1ldHJpY19kcm9wZG93bi5ncmlkKHJvdz0yLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PSg4LCAwKSwgc3RpY2t5PVwiZXdcIilcbiAgIDEwMFx0ICAgICAgICBcbiAgIDEwMVx0ICAgICAgICAjIENoYW5uZWxzIHNlbGVjdGlvbiB3aXRoIG1vcmUgY29tcGFjdCBsYXlvdXRcbiAgIDEwMlx0ICAgICAgICBzZWxmLmNoYW5uZWxzX2xhYmVsID0gY3RrLkNUa0xhYmVsKHNlbGYsIHRleHQ9XCJTZWxlY3QgQ2hhbm5lbHM6XCIsIGZvbnQ9bGFiZWxfZm9udClcbiAgIDEwM1x0ICAgICAgICBzZWxmLmNoYW5uZWxzX2xhYmVsLmdyaWQocm93PTMsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9KDgsIDApLCBzdGlja3k9XCJud1wiKVxuICAgMTA0XHQgICAgICAgIFxuICAgMTA1XHQgICAgICAgICMgQ3JlYXRlIGEgZnJhbWUgZm9yIGNoYW5uZWwgc2VsZWN0aW9uIGJ1dHRvbnMgLSBtb3JlIGNvbXBhY3QgbGF5b3V0XG4gICAxMDZcdCAgICAgICAgc2VsZi5jaGFubmVsX2J1dHRvbnNfZnJhbWUgPSBjdGsuQ1RrRnJhbWUoc2VsZilcbiAgIDEwN1x0ICAgICAgICBzZWxmLmNoYW5uZWxfYnV0dG9uc19mcmFtZS5ncmlkKHJvdz0zLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PSg4LCAwKSwgc3RpY2t5PVwiZXdcIilcbiAgIDEwOFx0ICAgICAgICBzZWxmLmNoYW5uZWxfYnV0dG9uc19mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgIDEwOVx0ICAgICAgICBzZWxmLmNoYW5uZWxfYnV0dG9uc19mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgxLCB3ZWlnaHQ9MSlcbiAgIDExMFx0ICAgICAgICBzZWxmLmNoYW5uZWxfYnV0dG9uc19mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgyLCB3ZWlnaHQ9MSlcbiAgIDExMVx0ICAgICAgICBcbiAgIDExMlx0ICAgICAgICAjIEFkZCBzZWxlY3QgYWxsIGFuZCBkZXNlbGVjdCBhbGwgYnV0dG9ucyB3aXRoIHNtYWxsZXIgZm9udCBhbmQgbW9yZSBjb21wYWN0IGRlc2lnblxuICAgMTEzXHQgICAgICAgIGJ1dHRvbl9mb250ID0gZHJvcGRvd25fZm9udFxuICAgMTE0XHQgICAgICAgIFxuICAgMTE1XHQgICAgICAgIHNlbGYuc2VsZWN0X2FsbF9idXR0b24gPSBjdGsuQ1RrQnV0dG9uKFxuICAgMTE2XHQgICAgICAgICAgICBzZWxmLmNoYW5uZWxfYnV0dG9uc19mcmFtZSxcbiAgIDExN1x0ICAgICAgICAgICAgdGV4dD1cIlNlbGVjdCBBbGxcIixcbiAgIDExOFx0ICAgICAgICAgICAgY29tbWFuZD1zZWxmLnNlbGVjdF9hbGxfY2hhbm5lbHMsXG4gICAxMTlcdCAgICAgICAgICAgIGhlaWdodD0yMixcbiAgIDEyMFx0ICAgICAgICAgICAgZm9udD1idXR0b25fZm9udFxuICAgMTIxXHQgICAgICAgIClcbiAgIDEyMlx0ICAgICAgICBzZWxmLnNlbGVjdF9hbGxfYnV0dG9uLmdyaWQocm93PTAsIGNvbHVtbj0wLCBwYWR4PTIsIHBhZHk9Mywgc3RpY2t5PVwiZXdcIilcbiAgIDEyM1x0ICAgICAgICBcbiAgIDEyNFx0ICAgICAgICBzZWxmLmRlc2VsZWN0X2FsbF9idXR0b24gPSBjdGsuQ1RrQnV0dG9uKFxuICAgMTI1XHQgICAgICAgICAgICBzZWxmLmNoYW5uZWxfYnV0dG9uc19mcmFtZSxcbiAgIDEyNlx0ICAgICAgICAgICAgdGV4dD1cIkRlc2VsZWN0IEFsbFwiLFxuICAgMTI3XHQgICAgICAgICAgICBjb21tYW5kPXNlbGYuZGVzZWxlY3RfYWxsX2NoYW5uZWxzLFxuICAgMTI4XHQgICAgICAgICAgICBoZWlnaHQ9MjIsXG4gICAxMjlcdCAgICAgICAgICAgIGZvbnQ9YnV0dG9uX2ZvbnRcbiAgIDEzMFx0ICAgICAgICApXG4gICAxMzFcdCAgICAgICAgc2VsZi5kZXNlbGVjdF9hbGxfYnV0dG9uLmdyaWQocm93PTAsIGNvbHVtbj0xLCBwYWR4PTIsIHBhZHk9Mywgc3RpY2t5PVwiZXdcIilcbiAgIDEzMlx0ICAgICAgICBcbiAgIDEzM1x0ICAgICAgICAjIEFkZCBzZWxlY3QgY29tbW9uIGNoYW5uZWxzIGJ1dHRvblxuICAgMTM0XHQgICAgICAgIHNlbGYuc2VsZWN0X2NvbW1vbl9idXR0b24gPSBjdGsuQ1RrQnV0dG9uKFxuICAgMTM1XHQgICAgICAgICAgICBzZWxmLmNoYW5uZWxfYnV0dG9uc19mcmFtZSxcbiAgIDEzNlx0ICAgICAgICAgICAgdGV4dD1cIkNvbW1vbiBDaGFubmVsc1wiLFxuICAgMTM3XHQgICAgICAgICAgICBjb21tYW5kPXNlbGYuc2VsZWN0X2NvbW1vbl9jaGFubmVscyxcbiAgIDEzOFx0ICAgICAgICAgICAgaGVpZ2h0PTIyLFxuICAgMTM5XHQgICAgICAgICAgICBmb250PWJ1dHRvbl9mb250XG4gICAxNDBcdCAgICAgICAgKVxuICAgMTQxXHQgICAgICAgIHNlbGYuc2VsZWN0X2NvbW1vbl9idXR0b24uZ3JpZChyb3c9MCwgY29sdW1uPTIsIHBhZHg9MiwgcGFkeT0zLCBzdGlja3k9XCJld1wiKVxuICAgMTQyXHQgICAgICAgIFxuICAgMTQzXHQgICAgICAgICMgQ3JlYXRlIGEgc2Nyb2xsYWJsZSBmcmFtZSBmb3IgY2hhbm5lbCBjaGVja2JveGVzIC0gaW5jcmVhc2VkIGhlaWdodCBmb3IgYmV0dGVyIHVzYWJpbGl0eVxuICAgMTQ0XHQgICAgICAgIHNlbGYuY2hhbm5lbHNfZnJhbWUgPSBjdGsuQ1RrU2Nyb2xsYWJsZUZyYW1lKHNlbGYsIHdpZHRoPTE4MCwgaGVpZ2h0PTIwMClcbiAgIDE0NVx0ICAgICAgICBzZWxmLmNoYW5uZWxzX2ZyYW1lLmdyaWQocm93PTQsIGNvbHVtbj0xLCBwYWR4PTUsIHBhZHk9KDAsIDgpLCBzdGlja3k9XCJld1wiKVxuICAgMTQ2XHQgICAgICAgIFxuICAgMTQ3XHQgICAgICAgICMgQmluZCBtb3VzZSB3aGVlbCBldmVudHMgdG8gZW5zdXJlIHNjcm9sbGluZyB3b3JrcyBwcm9wZXJseVxuICAgMTQ4XHQgICAgICAgIHNlbGYuYmluZF9tb3VzZV93aGVlbChzZWxmLmNoYW5uZWxzX2ZyYW1lKVxuICAgMTQ5XHQgICAgICAgIFxuICAgMTUwXHQgICAgICAgIHNlbGYuY2hhbm5lbF92YXJzID0ge30gICMgV2lsbCBob2xkIHRoZSBjaGVja2JveCB2YXJpYWJsZXNcbiAgIDE1MVx0ICAgICAgICBcbiAgIDE1Mlx0ICAgICAgICAjIEFnZ3JlZ2F0aW9uIG1ldGhvZHMgZnJhbWVcbiAgIDE1M1x0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2ZyYW1lID0gY3RrLkNUa0ZyYW1lKHNlbGYpXG4gICAxNTRcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9mcmFtZS5ncmlkKHJvdz01LCBjb2x1bW49MCwgY29sdW1uc3Bhbj0yLCBwYWR4PTUsIHBhZHk9KDUsIDApLCBzdGlja3k9XCJld1wiKVxuICAgMTU1XHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fZnJhbWUuZ3JpZF9jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpXG4gICAxNTZcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgxLCB3ZWlnaHQ9MylcbiAgIDE1N1x0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2ZyYW1lLmdyaWRfcm93Y29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgMTU4XHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fZnJhbWUuZ3JpZF9yb3djb25maWd1cmUoMSwgd2VpZ2h0PTEpXG4gICAxNTlcdCAgICAgICAgXG4gICAxNjBcdCAgICAgICAgIyBBZ2dyZWdhdGlvbiBsYWJlbFxuICAgMTYxXHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fbGFiZWwgPSBjdGsuQ1RrTGFiZWwoXG4gICAxNjJcdCAgICAgICAgICAgIHNlbGYuYWdncmVnYXRpb25fZnJhbWUsIFxuICAgMTYzXHQgICAgICAgICAgICB0ZXh0PVwiQWdncmVnYXRpb246XCIsIFxuICAgMTY0XHQgICAgICAgICAgICBmb250PWxhYmVsX2ZvbnRcbiAgIDE2NVx0ICAgICAgICApXG4gICAxNjZcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9sYWJlbC5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTUsIHN0aWNreT1cIndcIilcbiAgIDE2N1x0ICAgICAgICBcbiAgIDE2OFx0ICAgICAgICAjIEFnZ3JlZ2F0aW9uIGNoZWNrYm94ZXMgZnJhbWVcbiAgIDE2OVx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2NoZWNrYm94ZXNfZnJhbWUgPSBjdGsuQ1RrRnJhbWUoc2VsZi5hZ2dyZWdhdGlvbl9mcmFtZSwgZmdfY29sb3I9XCJ0cmFuc3BhcmVudFwiKVxuICAgMTcwXHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fY2hlY2tib3hlc19mcmFtZS5ncmlkKHJvdz0wLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PTUsIHN0aWNreT1cImV3XCIpXG4gICAxNzFcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9jaGVja2JveGVzX2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgMTcyXHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fY2hlY2tib3hlc19mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgxLCB3ZWlnaHQ9MSlcbiAgIDE3M1x0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2NoZWNrYm94ZXNfZnJhbWUuZ3JpZF9jb2x1bW5jb25maWd1cmUoMiwgd2VpZ2h0PTEpXG4gICAxNzRcdCAgICAgICAgXG4gICAxNzVcdCAgICAgICAgIyBBZ2dyZWdhdGlvbiBtZXRob2QgY2hlY2tib3hlc1xuICAgMTc2XHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fdmFycyA9IHt9XG4gICAxNzdcdCAgICAgICAgXG4gICAxNzhcdCAgICAgICAgIyBNZWFuIGNoZWNrYm94XG4gICAxNzlcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl92YXJzWydtZWFuJ10gPSBjdGsuQm9vbGVhblZhcih2YWx1ZT1GYWxzZSlcbiAgIDE4MFx0ICAgICAgICBzZWxmLm1lYW5fY2hlY2tib3ggPSBjdGsuQ1RrQ2hlY2tCb3goXG4gICAxODFcdCAgICAgICAgICAgIHNlbGYuYWdncmVnYXRpb25fY2hlY2tib3hlc19mcmFtZSxcbiAgIDE4Mlx0ICAgICAgICAgICAgdGV4dD1cIk1lYW5cIixcbiAgIDE4M1x0ICAgICAgICAgICAgdmFyaWFibGU9c2VsZi5hZ2dyZWdhdGlvbl92YXJzWydtZWFuJ10sXG4gICAxODRcdCAgICAgICAgICAgIG9udmFsdWU9VHJ1ZSxcbiAgIDE4NVx0ICAgICAgICAgICAgb2ZmdmFsdWU9RmFsc2UsXG4gICAxODZcdCAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udCxcbiAgIDE4N1x0ICAgICAgICAgICAgY2hlY2tib3hfd2lkdGg9MTYsXG4gICAxODhcdCAgICAgICAgICAgIGNoZWNrYm94X2hlaWdodD0xNlxuICAgMTg5XHQgICAgICAgIClcbiAgIDE5MFx0ICAgICAgICBzZWxmLm1lYW5fY2hlY2tib3guZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0yLCBzdGlja3k9XCJ3XCIpXG4gICAxOTFcdCAgICAgICAgXG4gICAxOTJcdCAgICAgICAgIyBTdGQgY2hlY2tib3hcbiAgIDE5M1x0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX3ZhcnNbJ3N0ZCddID0gY3RrLkJvb2xlYW5WYXIodmFsdWU9RmFsc2UpXG4gICAxOTRcdCAgICAgICAgc2VsZi5zdGRfY2hlY2tib3ggPSBjdGsuQ1RrQ2hlY2tCb3goXG4gICAxOTVcdCAgICAgICAgICAgIHNlbGYuYWdncmVnYXRpb25fY2hlY2tib3hlc19mcmFtZSxcbiAgIDE5Nlx0ICAgICAgICAgICAgdGV4dD1cIlN0ZCBEZXZcIixcbiAgIDE5N1x0ICAgICAgICAgICAgdmFyaWFibGU9c2VsZi5hZ2dyZWdhdGlvbl92YXJzWydzdGQnXSxcbiAgIDE5OFx0ICAgICAgICAgICAgb252YWx1ZT1UcnVlLFxuICAgMTk5XHQgICAgICAgICAgICBvZmZ2YWx1ZT1GYWxzZSxcbiAgIDIwMFx0ICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250LFxuICAgMjAxXHQgICAgICAgICAgICBjaGVja2JveF93aWR0aD0xNixcbiAgIDIwMlx0ICAgICAgICAgICAgY2hlY2tib3hfaGVpZ2h0PTE2XG4gICAyMDNcdCAgICAgICAgKVxuICAgMjA0XHQgICAgICAgIHNlbGYuc3RkX2NoZWNrYm94LmdyaWQocm93PTAsIGNvbHVtbj0xLCBwYWR4PTUsIHBhZHk9Miwgc3RpY2t5PVwid1wiKVxuICAgMjA1XHQgICAgICAgIFxuICAgMjA2XHQgICAgICAgICMgTWVkaWFuIGNoZWNrYm94XG4gICAyMDdcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl92YXJzWydtZWRpYW4nXSA9IGN0ay5Cb29sZWFuVmFyKHZhbHVlPUZhbHNlKVxuICAgMjA4XHQgICAgICAgIHNlbGYubWVkaWFuX2NoZWNrYm94ID0gY3RrLkNUa0NoZWNrQm94KFxuICAgMjA5XHQgICAgICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2NoZWNrYm94ZXNfZnJhbWUsXG4gICAyMTBcdCAgICAgICAgICAgIHRleHQ9XCJNZWRpYW5cIixcbiAgIDIxMVx0ICAgICAgICAgICAgdmFyaWFibGU9c2VsZi5hZ2dyZWdhdGlvbl92YXJzWydtZWRpYW4nXSxcbiAgIDIxMlx0ICAgICAgICAgICAgb252YWx1ZT1UcnVlLFxuICAgMjEzXHQgICAgICAgICAgICBvZmZ2YWx1ZT1GYWxzZSxcbiAgIDIxNFx0ICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250LFxuICAgMjE1XHQgICAgICAgICAgICBjaGVja2JveF93aWR0aD0xNixcbiAgIDIxNlx0ICAgICAgICAgICAgY2hlY2tib3hfaGVpZ2h0PTE2XG4gICAyMTdcdCAgICAgICAgKVxuICAgMjE4XHQgICAgICAgIHNlbGYubWVkaWFuX2NoZWNrYm94LmdyaWQocm93PTAsIGNvbHVtbj0yLCBwYWR4PTUsIHBhZHk9Miwgc3RpY2t5PVwid1wiKVxuICAgMjE5XHQgICAgICAgIFxuICAgMjIwXHQgICAgICAgICMgQWdncmVnYXRpb24gb25seSBjaGVja2JveFxuICAgMjIxXHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fb25seV92YXIgPSBjdGsuQm9vbGVhblZhcih2YWx1ZT1GYWxzZSlcbiAgIDIyMlx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX29ubHlfY2hlY2tib3ggPSBjdGsuQ1RrQ2hlY2tCb3goXG4gICAyMjNcdCAgICAgICAgICAgIHNlbGYuYWdncmVnYXRpb25fZnJhbWUsXG4gICAyMjRcdCAgICAgICAgICAgIHRleHQ9XCJTaG93IEFnZ3JlZ2F0aW9uIE9ubHlcIixcbiAgIDIyNVx0ICAgICAgICAgICAgdmFyaWFibGU9c2VsZi5hZ2dyZWdhdGlvbl9vbmx5X3ZhcixcbiAgIDIyNlx0ICAgICAgICAgICAgb252YWx1ZT1UcnVlLFxuICAgMjI3XHQgICAgICAgICAgICBvZmZ2YWx1ZT1GYWxzZSxcbiAgIDIyOFx0ICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250LFxuICAgMjI5XHQgICAgICAgICAgICBjaGVja2JveF93aWR0aD0xNixcbiAgIDIzMFx0ICAgICAgICAgICAgY2hlY2tib3hfaGVpZ2h0PTE2XG4gICAyMzFcdCAgICAgICAgKVxuICAgMjMyXHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fb25seV9jaGVja2JveC5ncmlkKHJvdz0xLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PSgwLCAyKSwgc3RpY2t5PVwid1wiKVxuICAgMjMzXHQgICAgICAgIFxuICAgMjM0XHQgICAgICAgICMgVGltZSB3aW5kb3cgc2VsZWN0aW9uIGZyYW1lXG4gICAyMzVcdCAgICAgICAgc2VsZi50aW1lX3dpbmRvd19mcmFtZSA9IGN0ay5DVGtGcmFtZShzZWxmKVxuICAgMjM2XHQgICAgICAgIHNlbGYudGltZV93aW5kb3dfZnJhbWUuZ3JpZChyb3c9NiwgY29sdW1uPTAsIGNvbHVtbnNwYW49MiwgcGFkeD01LCBwYWR5PSg1LCAwKSwgc3RpY2t5PVwiZXdcIilcbiAgIDIzN1x0ICAgICAgICBzZWxmLnRpbWVfd2luZG93X2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgMjM4XHQgICAgICAgIHNlbGYudGltZV93aW5kb3dfZnJhbWUuZ3JpZF9jb2x1bW5jb25maWd1cmUoMSwgd2VpZ2h0PTEpXG4gICAyMzlcdCAgICAgICAgc2VsZi50aW1lX3dpbmRvd19mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgyLCB3ZWlnaHQ9MSlcbiAgIDI0MFx0ICAgICAgICBzZWxmLnRpbWVfd2luZG93X2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDMsIHdlaWdodD0xKVxuICAgMjQxXHQgICAgICAgIFxuICAgMjQyXHQgICAgICAgICMgVGltZSB3aW5kb3cgbGFiZWxcbiAgIDI0M1x0ICAgICAgICBzZWxmLnRpbWVfd2luZG93X2xhYmVsID0gY3RrLkNUa0xhYmVsKFxuICAgMjQ0XHQgICAgICAgICAgICBzZWxmLnRpbWVfd2luZG93X2ZyYW1lLCBcbiAgIDI0NVx0ICAgICAgICAgICAgdGV4dD1cIlRpbWUgV2luZG93IChzKTpcIiwgXG4gICAyNDZcdCAgICAgICAgICAgIGZvbnQ9bGFiZWxfZm9udFxuICAgMjQ3XHQgICAgICAgIClcbiAgIDI0OFx0ICAgICAgICBzZWxmLnRpbWVfd2luZG93X2xhYmVsLmdyaWQocm93PTAsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9NSwgc3RpY2t5PVwid1wiKVxuICAgMjQ5XHQgICAgICAgIFxuICAgMjUwXHQgICAgICAgICMgU3RhcnQgdGltZSBlbnRyeVxuICAgMjUxXHQgICAgICAgIHNlbGYuc3RhcnRfdGltZV92YXIgPSBjdGsuU3RyaW5nVmFyKHZhbHVlPVwiMFwiKVxuICAgMjUyXHQgICAgICAgIHNlbGYuc3RhcnRfdGltZV9lbnRyeSA9IGN0ay5DVGtFbnRyeShcbiAgIDI1M1x0ICAgICAgICAgICAgc2VsZi50aW1lX3dpbmRvd19mcmFtZSxcbiAgIDI1NFx0ICAgICAgICAgICAgdGV4dHZhcmlhYmxlPXNlbGYuc3RhcnRfdGltZV92YXIsXG4gICAyNTVcdCAgICAgICAgICAgIHdpZHRoPTYwLFxuICAgMjU2XHQgICAgICAgICAgICBoZWlnaHQ9MjUsXG4gICAyNTdcdCAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udFxuICAgMjU4XHQgICAgICAgIClcbiAgIDI1OVx0ICAgICAgICBzZWxmLnN0YXJ0X3RpbWVfZW50cnkuZ3JpZChyb3c9MCwgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT01LCBzdGlja3k9XCJld1wiKVxuICAgMjYwXHQgICAgICAgIFxuICAgMjYxXHQgICAgICAgICMgVG8gbGFiZWxcbiAgIDI2Mlx0ICAgICAgICBzZWxmLnRvX2xhYmVsID0gY3RrLkNUa0xhYmVsKFxuICAgMjYzXHQgICAgICAgICAgICBzZWxmLnRpbWVfd2luZG93X2ZyYW1lLCBcbiAgIDI2NFx0ICAgICAgICAgICAgdGV4dD1cInRvXCIsIFxuICAgMjY1XHQgICAgICAgICAgICBmb250PWxhYmVsX2ZvbnRcbiAgIDI2Nlx0ICAgICAgICApXG4gICAyNjdcdCAgICAgICAgc2VsZi50b19sYWJlbC5ncmlkKHJvdz0wLCBjb2x1bW49MiwgcGFkeD0yLCBwYWR5PTUpXG4gICAyNjhcdCAgICAgICAgXG4gICAyNjlcdCAgICAgICAgIyBFbmQgdGltZSBlbnRyeVxuICAgMjcwXHQgICAgICAgIHNlbGYuZW5kX3RpbWVfdmFyID0gY3RrLlN0cmluZ1Zhcih2YWx1ZT1cIlwiKVxuICAgMjcxXHQgICAgICAgIHNlbGYuZW5kX3RpbWVfZW50cnkgPSBjdGsuQ1RrRW50cnkoXG4gICAyNzJcdCAgICAgICAgICAgIHNlbGYudGltZV93aW5kb3dfZnJhbWUsXG4gICAyNzNcdCAgICAgICAgICAgIHRleHR2YXJpYWJsZT1zZWxmLmVuZF90aW1lX3ZhcixcbiAgIDI3NFx0ICAgICAgICAgICAgd2lkdGg9NjAsXG4gICAyNzVcdCAgICAgICAgICAgIGhlaWdodD0yNSxcbiAgIDI3Nlx0ICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250XG4gICAyNzdcdCAgICAgICAgKVxuICAgMjc4XHQgICAgICAgIHNlbGYuZW5kX3RpbWVfZW50cnkuZ3JpZChyb3c9MCwgY29sdW1uPTMsIHBhZHg9NSwgcGFkeT01LCBzdGlja3k9XCJld1wiKVxuICAgMjc5XHQgICAgICAgIFxuICAgMjgwXHQgICAgICAgICMgUmVzZXQgem9vbSBidXR0b25cbiAgIDI4MVx0ICAgICAgICBzZWxmLnJlc2V0X3pvb21fYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgIDI4Mlx0ICAgICAgICAgICAgc2VsZiwgXG4gICAyODNcdCAgICAgICAgICAgIHRleHQ9XCJSZXNldCBab29tXCIsIFxuICAgMjg0XHQgICAgICAgICAgICBjb21tYW5kPXNlbGYucmVzZXRfdGltZV93aW5kb3csXG4gICAyODVcdCAgICAgICAgICAgIGhlaWdodD0yNSxcbiAgIDI4Nlx0ICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250XG4gICAyODdcdCAgICAgICAgKVxuICAgMjg4XHQgICAgICAgIHNlbGYucmVzZXRfem9vbV9idXR0b24uZ3JpZChyb3c9NywgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0oNSwgMCksIHN0aWNreT1cImV3XCIpXG4gICAyODlcdCAgICAgICAgXG4gICAyOTBcdCAgICAgICAgIyBVcGRhdGUgYnV0dG9uIC0gbW9yZSBjb21wYWN0XG4gICAyOTFcdCAgICAgICAgc2VsZi51cGRhdGVfYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgIDI5Mlx0ICAgICAgICAgICAgc2VsZiwgXG4gICAyOTNcdCAgICAgICAgICAgIHRleHQ9XCJVcGRhdGUgUGxvdFwiLCBcbiAgIDI5NFx0ICAgICAgICAgICAgY29tbWFuZD1zZWxmLnVwZGF0ZV9wbG90LFxuICAgMjk1XHQgICAgICAgICAgICBoZWlnaHQ9MzAsXG4gICAyOTZcdCAgICAgICAgICAgIGZvbnQ9Z2V0X2J1dHRvbl9mb250KClcbiAgIDI5N1x0ICAgICAgICApXG4gICAyOThcdCAgICAgICAgc2VsZi51cGRhdGVfYnV0dG9uLmdyaWQocm93PTcsIGNvbHVtbj0xLCBwYWR4PTUsIHBhZHk9KDUsIDgpLCBzdGlja3k9XCJld1wiKVxuICAgMjk5XHQgICAgICAgIFxuICAgMzAwXHQgICAgICAgICMgSW5pdGlhbGl6ZSB3aXRoIHRoZSBmaXJzdCBleHBlcmltZW50IGlmIGF2YWlsYWJsZVxuICAgMzAxXHQgICAgICAgIGlmIHNlbGYuZXhwZXJpbWVudHM6XG4gICAzMDJcdCAgICAgICAgICAgIHNlbGYub25fZXhwZXJpbWVudF9zZWxlY3RlZChleHBlcmltZW50X25hbWVzWzBdKVxuICAgMzAzXHQgICAgXG4gICAzMDRcdCAgICBkZWYgb25fZXhwZXJpbWVudF9zZWxlY3RlZChzZWxmLCBzZWxlY3Rpb246IHN0cik6XG4gICAzMDVcdCAgICAgICAgXCJcIlwiXG4gICAzMDZcdCAgICAgICAgSGFuZGxlIGV4cGVyaW1lbnQgc2VsZWN0aW9uIGNoYW5nZS5cbiAgIDMwN1x0ICAgICAgICBcbiAgIDMwOFx0ICAgICAgICBBcmdzOlxuICAgMzA5XHQgICAgICAgICAgICBzZWxlY3Rpb246IFNlbGVjdGVkIGV4cGVyaW1lbnQgbmFtZVxuICAgMzEwXHQgICAgICAgIFwiXCJcIlxuICAgMzExXHQgICAgICAgICMgRmluZCB0aGUgc2VsZWN0ZWQgZXhwZXJpbWVudFxuICAgMzEyXHQgICAgICAgIHNlbGVjdGVkX2V4cCA9IE5vbmVcbiAgIDMxM1x0ICAgICAgICBmb3IgZXhwIGluIHNlbGYuZXhwZXJpbWVudHM6XG4gICAzMTRcdCAgICAgICAgICAgIGlmIGZcIntleHBbJ25hbWUnXX0gKHtleHBbJ3J1bl9uYW1lJ119KVwiID09IHNlbGVjdGlvbjpcbiAgIDMxNVx0ICAgICAgICAgICAgICAgIHNlbGVjdGVkX2V4cCA9IGV4cFxuICAgMzE2XHQgICAgICAgICAgICAgICAgYnJlYWtcbiAgIDMxN1x0ICAgICAgICBcbiAgIDMxOFx0ICAgICAgICBpZiBub3Qgc2VsZWN0ZWRfZXhwOlxuICAgMzE5XHQgICAgICAgICAgICByZXR1cm5cbiAgIDMyMFx0ICAgICAgICBcbiAgIDMyMVx0ICAgICAgICAjIFVwZGF0ZSBFRUcgZHJvcGRvd25cbiAgIDMyMlx0ICAgICAgICBzZWxmLmN1cnJlbnRfZXhwZXJpbWVudF9pZCA9IHNlbGVjdGVkX2V4cFsnaWQnXVxuICAgMzIzXHQgICAgICAgIGVlZ3MgPSBzZWxmLmRiX2hhbmRsZXIuZ2V0X2VlZ3NfZm9yX2V4cGVyaW1lbnQoc2VsZi5jdXJyZW50X2V4cGVyaW1lbnRfaWQpXG4gICAzMjRcdCAgICAgICAgZWVnX25hbWVzID0gW2VlZ1snZmlsZW5hbWUnXSBmb3IgZWVnIGluIGVlZ3NdXG4gICAzMjVcdCAgICAgICAgXG4gICAzMjZcdCAgICAgICAgc2VsZi5lZWdzID0gZWVnc1xuICAgMzI3XHQgICAgICAgIHNlbGYuZWVnX2Ryb3Bkb3duLmNvbmZpZ3VyZSh2YWx1ZXM9ZWVnX25hbWVzKVxuICAgMzI4XHQgICAgICAgIGlmIGVlZ19uYW1lczpcbiAgIDMyOVx0ICAgICAgICAgICAgc2VsZi5lZWdfdmFyLnNldChlZWdfbmFtZXNbMF0pXG4gICAzMzBcdCAgICAgICAgICAgIHNlbGYub25fZWVnX3NlbGVjdGVkKGVlZ19uYW1lc1swXSlcbiAgIDMzMVx0ICAgICAgICBlbHNlOlxuICAgMzMyXHQgICAgICAgICAgICBzZWxmLmVlZ192YXIuc2V0KFwiXCIpXG4gICAzMzNcdCAgICAgICAgICAgIHNlbGYuY2xlYXJfbWV0cmljcygpXG4gICAzMzRcdCAgICAgICAgICAgIHNlbGYuY2xlYXJfY2hhbm5lbHMoKVxuICAgMzM1XHQgICAgXG4gICAzMzZcdCAgICBkZWYgb25fZWVnX3NlbGVjdGVkKHNlbGYsIHNlbGVjdGlvbjogc3RyKTpcbiAgIDMzN1x0ICAgICAgICBcIlwiXCJcbiAgIDMzOFx0ICAgICAgICBIYW5kbGUgRUVHIHNlbGVjdGlvbiBjaGFuZ2UuXG4gICAzMzlcdCAgICAgICAgXG4gICAzNDBcdCAgICAgICAgQXJnczpcbiAgIDM0MVx0ICAgICAgICAgICAgc2VsZWN0aW9uOiBTZWxlY3RlZCBFRUcgbmFtZVxuICAgMzQyXHQgICAgICAgIFwiXCJcIlxuICAgMzQzXHQgICAgICAgICMgRmluZCB0aGUgc2VsZWN0ZWQgRUVHXG4gICAzNDRcdCAgICAgICAgc2VsZWN0ZWRfZWVnID0gTm9uZVxuICAgMzQ1XHQgICAgICAgIGZvciBlZWcgaW4gc2VsZi5lZWdzOlxuICAgMzQ2XHQgICAgICAgICAgICBpZiBlZWdbJ2ZpbGVuYW1lJ10gPT0gc2VsZWN0aW9uOlxuICAgMzQ3XHQgICAgICAgICAgICAgICAgc2VsZWN0ZWRfZWVnID0gZWVnXG4gICAzNDhcdCAgICAgICAgICAgICAgICBicmVha1xuICAgMzQ5XHQgICAgICAgIFxuICAgMzUwXHQgICAgICAgIGlmIG5vdCBzZWxlY3RlZF9lZWc6XG4gICAzNTFcdCAgICAgICAgICAgIHJldHVyblxuICAgMzUyXHQgICAgICAgIFxuICAgMzUzXHQgICAgICAgICMgVXBkYXRlIG1ldHJpY3MgZHJvcGRvd25cbiAgIDM1NFx0ICAgICAgICBzZWxmLmN1cnJlbnRfZWVnX2lkID0gc2VsZWN0ZWRfZWVnWydpZCddXG4gICAzNTVcdCAgICAgICAgc2VsZi51cGRhdGVfbWV0cmljc19kcm9wZG93bigpXG4gICAzNTZcdCAgICAgICAgc2VsZi51cGRhdGVfY2hhbm5lbHNfY2hlY2tib3hlcygpXG4gICAzNTdcdCAgICBcbiAgIDM1OFx0ICAgIGRlZiBvbl9tZXRyaWNfc2VsZWN0ZWQoc2VsZiwgc2VsZWN0aW9uOiBzdHIpOlxuICAgMzU5XHQgICAgICAgIFwiXCJcIlxuICAgMzYwXHQgICAgICAgIEhhbmRsZSBtZXRyaWMgc2VsZWN0aW9uIGNoYW5nZS5cbiAgIDM2MVx0ICAgICAgICBcbiAgIDM2Mlx0ICAgICAgICBBcmdzOlxuICAgMzYzXHQgICAgICAgICAgICBzZWxlY3Rpb246IFNlbGVjdGVkIG1ldHJpYyBuYW1lXG4gICAzNjRcdCAgICAgICAgXCJcIlwiXG4gICAzNjVcdCAgICAgICAgc2VsZi5jdXJyZW50X21ldHJpYyA9IHNlbGVjdGlvblxuICAgMzY2XHQgICAgXG4gICAzNjdcdCAgICBkZWYgdXBkYXRlX21ldHJpY3NfZHJvcGRvd24oc2VsZik6XG4gICAzNjhcdCAgICAgICAgXCJcIlwiVXBkYXRlIHRoZSBtZXRyaWNzIGRyb3Bkb3duIGJhc2VkIG9uIHRoZSBzZWxlY3RlZCBleHBlcmltZW50IGFuZCBFRUcuXCJcIlwiXG4gICAzNjlcdCAgICAgICAgIyBHZXQgYXZhaWxhYmxlIG1ldHJpY3NcbiAgIDM3MFx0ICAgICAgICBtZXRyaWNzID0gc2VsZi5kYl9oYW5kbGVyLmdldF9hdmFpbGFibGVfbWV0cmljcyhzZWxmLmN1cnJlbnRfZXhwZXJpbWVudF9pZCwgc2VsZi5jdXJyZW50X2VlZ19pZClcbiAgIDM3MVx0ICAgICAgICBcbiAgIDM3Mlx0ICAgICAgICAjIFVwZGF0ZSBkcm9wZG93blxuICAgMzczXHQgICAgICAgIHNlbGYubWV0cmljX2Ryb3Bkb3duLmNvbmZpZ3VyZSh2YWx1ZXM9bWV0cmljcylcbiAgIDM3NFx0ICAgICAgICBpZiBtZXRyaWNzOlxuICAgMzc1XHQgICAgICAgICAgICBzZWxmLm1ldHJpY192YXIuc2V0KG1ldHJpY3NbMF0pXG4gICAzNzZcdCAgICAgICAgICAgIHNlbGYuY3VycmVudF9tZXRyaWMgPSBtZXRyaWNzWzBdXG4gICAzNzdcdCAgICAgICAgZWxzZTpcbiAgIDM3OFx0ICAgICAgICAgICAgc2VsZi5tZXRyaWNfdmFyLnNldChcIlwiKVxuICAgMzc5XHQgICAgICAgICAgICBzZWxmLmN1cnJlbnRfbWV0cmljID0gTm9uZVxuICAgMzgwXHQgICAgXG4gICAzODFcdCAgICBkZWYgdXBkYXRlX2NoYW5uZWxzX2NoZWNrYm94ZXMoc2VsZik6XG4gICAzODJcdCAgICAgICAgXCJcIlwiVXBkYXRlIHRoZSBjaGFubmVsIGNoZWNrYm94ZXMgYmFzZWQgb24gdGhlIHNlbGVjdGVkIGV4cGVyaW1lbnQgYW5kIEVFRy5cIlwiXCJcbiAgIDM4M1x0ICAgICAgICAjIENsZWFyIGV4aXN0aW5nIGNoZWNrYm94ZXNcbiAgIDM4NFx0ICAgICAgICBzZWxmLmNsZWFyX2NoYW5uZWxzKClcbiAgIDM4NVx0ICAgICAgICBcbiAgIDM4Nlx0ICAgICAgICAjIEdldCBhdmFpbGFibGUgY2hhbm5lbHNcbiAgIDM4N1x0ICAgICAgICBzZWxmLmF2YWlsYWJsZV9jaGFubmVscyA9IHNlbGYuZGJfaGFuZGxlci5nZXRfYXZhaWxhYmxlX2NoYW5uZWxzKHNlbGYuY3VycmVudF9leHBlcmltZW50X2lkLCBzZWxmLmN1cnJlbnRfZWVnX2lkKVxuICAgMzg4XHQgICAgICAgIFxuICAgMzg5XHQgICAgICAgICMgQWRkIGEgc2VhcmNoIGVudHJ5IGF0IHRoZSB0b3Agb2YgdGhlIGNoYW5uZWxzIGZyYW1lXG4gICAzOTBcdCAgICAgICAgc2VsZi5zZWFyY2hfdmFyID0gY3RrLlN0cmluZ1ZhcigpXG4gICAzOTFcdCAgICAgICAgc2VsZi5zZWFyY2hfdmFyLnRyYWNlX2FkZChcIndyaXRlXCIsIHNlbGYuZmlsdGVyX2NoYW5uZWxzKVxuICAgMzkyXHQgICAgICAgIFxuICAgMzkzXHQgICAgICAgIHNlbGYuc2VhcmNoX2ZyYW1lID0gY3RrLkNUa0ZyYW1lKHNlbGYuY2hhbm5lbHNfZnJhbWUpXG4gICAzOTRcdCAgICAgICAgc2VsZi5zZWFyY2hfZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT01LCBzdGlja3k9XCJld1wiKVxuICAgMzk1XHQgICAgICAgIHNlbGYuc2VhcmNoX2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgMzk2XHQgICAgICAgIFxuICAgMzk3XHQgICAgICAgIHNlbGYuc2VhcmNoX2VudHJ5ID0gY3RrLkNUa0VudHJ5KFxuICAgMzk4XHQgICAgICAgICAgICBzZWxmLnNlYXJjaF9mcmFtZSxcbiAgIDM5OVx0ICAgICAgICAgICAgcGxhY2Vob2xkZXJfdGV4dD1cIlNlYXJjaCBjaGFubmVscy4uLlwiLFxuICAgNDAwXHQgICAgICAgICAgICB0ZXh0dmFyaWFibGU9c2VsZi5zZWFyY2hfdmFyLFxuICAgNDAxXHQgICAgICAgICAgICBoZWlnaHQ9MjUsXG4gICA0MDJcdCAgICAgICAgICAgIGZvbnQ9Z2V0X2Ryb3Bkb3duX2ZvbnQoKVxuICAgNDAzXHQgICAgICAgIClcbiAgIDQwNFx0ICAgICAgICBzZWxmLnNlYXJjaF9lbnRyeS5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTMsIHN0aWNreT1cImV3XCIpXG4gICA0MDVcdCAgICAgICAgXG4gICA0MDZcdCAgICAgICAgIyBDcmVhdGUgdGhlIGNoYW5uZWxzIGNvbnRhaW5lciBmcmFtZVxuICAgNDA3XHQgICAgICAgIHNlbGYuY2hhbm5lbHNfY29udGFpbmVyID0gY3RrLkNUa0ZyYW1lKHNlbGYuY2hhbm5lbHNfZnJhbWUsIGZnX2NvbG9yPVwidHJhbnNwYXJlbnRcIilcbiAgIDQwOFx0ICAgICAgICBzZWxmLmNoYW5uZWxzX2NvbnRhaW5lci5ncmlkKHJvdz0xLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTUsIHN0aWNreT1cImV3XCIpXG4gICA0MDlcdCAgICAgICAgXG4gICA0MTBcdCAgICAgICAgIyBEaXNwbGF5IGFsbCBjaGFubmVscyBpbml0aWFsbHlcbiAgIDQxMVx0ICAgICAgICBzZWxmLmRpc3BsYXlfY2hhbm5lbHMoc2VsZi5hdmFpbGFibGVfY2hhbm5lbHMpXG4gICA0MTJcdCAgICBcbiAgIDQxM1x0ICAgIGRlZiBkaXNwbGF5X2NoYW5uZWxzKHNlbGYsIGNoYW5uZWxzOiBMaXN0W3N0cl0pOlxuICAgNDE0XHQgICAgICAgIFwiXCJcIlxuICAgNDE1XHQgICAgICAgIERpc3BsYXkgdGhlIGdpdmVuIGNoYW5uZWxzIGFzIGNoZWNrYm94ZXMuXG4gICA0MTZcdCAgICAgICAgXG4gICA0MTdcdCAgICAgICAgQXJnczpcbiAgIDQxOFx0ICAgICAgICAgICAgY2hhbm5lbHM6IExpc3Qgb2YgY2hhbm5lbCBuYW1lcyB0byBkaXNwbGF5XG4gICA0MTlcdCAgICAgICAgXCJcIlwiXG4gICA0MjBcdCAgICAgICAgIyBDbGVhciBleGlzdGluZyBjaGVja2JveGVzIGluIHRoZSBjb250YWluZXJcbiAgIDQyMVx0ICAgICAgICBmb3Igd2lkZ2V0IGluIHNlbGYuY2hhbm5lbHNfY29udGFpbmVyLndpbmZvX2NoaWxkcmVuKCk6XG4gICA0MjJcdCAgICAgICAgICAgIHdpZGdldC5kZXN0cm95KClcbiAgIDQyM1x0ICAgICAgICBcbiAgIDQyNFx0ICAgICAgICAjIENvbmZpZ3VyZSB0aGUgY29udGFpbmVyIGZvciBwcm9wZXIgc2Nyb2xsaW5nXG4gICA0MjVcdCAgICAgICAgc2VsZi5jaGFubmVsc19jb250YWluZXIuZ3JpZF9jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpXG4gICA0MjZcdCAgICAgICAgXG4gICA0MjdcdCAgICAgICAgIyBTb3J0IGNoYW5uZWxzIGFscGhhYmV0aWNhbGx5IHRvIGVuc3VyZSBjb25zaXN0ZW50IGRpc3BsYXlcbiAgIDQyOFx0ICAgICAgICBzb3J0ZWRfY2hhbm5lbHMgPSBzb3J0ZWQoY2hhbm5lbHMpXG4gICA0MjlcdCAgICAgICAgXG4gICA0MzBcdCAgICAgICAgIyBDcmVhdGUgYSBjaGVja2JveCBmb3IgZWFjaCBjaGFubmVsXG4gICA0MzFcdCAgICAgICAgZm9yIGksIGNoYW5uZWwgaW4gZW51bWVyYXRlKHNvcnRlZF9jaGFubmVscyk6XG4gICA0MzJcdCAgICAgICAgICAgIHZhciA9IHNlbGYuY2hhbm5lbF92YXJzLmdldChjaGFubmVsLCBjdGsuQm9vbGVhblZhcih2YWx1ZT1GYWxzZSkpXG4gICA0MzNcdCAgICAgICAgICAgIHNlbGYuY2hhbm5lbF92YXJzW2NoYW5uZWxdID0gdmFyXG4gICA0MzRcdCAgICAgICAgICAgIFxuICAgNDM1XHQgICAgICAgICAgICAjIENyZWF0ZSBtb3JlIGNvbXBhY3QgY2hlY2tib3hlc1xuICAgNDM2XHQgICAgICAgICAgICBjaGVja2JveCA9IGN0ay5DVGtDaGVja0JveChcbiAgIDQzN1x0ICAgICAgICAgICAgICAgIHNlbGYuY2hhbm5lbHNfY29udGFpbmVyLCBcbiAgIDQzOFx0ICAgICAgICAgICAgICAgIHRleHQ9Y2hhbm5lbCwgXG4gICA0MzlcdCAgICAgICAgICAgICAgICB2YXJpYWJsZT12YXIsXG4gICA0NDBcdCAgICAgICAgICAgICAgICBvbnZhbHVlPVRydWUsIFxuICAgNDQxXHQgICAgICAgICAgICAgICAgb2ZmdmFsdWU9RmFsc2UsXG4gICA0NDJcdCAgICAgICAgICAgICAgICBoZWlnaHQ9MjAsXG4gICA0NDNcdCAgICAgICAgICAgICAgICBmb250PWdldF9kcm9wZG93bl9mb250KCksXG4gICA0NDRcdCAgICAgICAgICAgICAgICBjaGVja2JveF93aWR0aD0xNixcbiAgIDQ0NVx0ICAgICAgICAgICAgICAgIGNoZWNrYm94X2hlaWdodD0xNlxuICAgNDQ2XHQgICAgICAgICAgICApXG4gICA0NDdcdCAgICAgICAgICAgIGNoZWNrYm94LmdyaWQocm93PWksIGNvbHVtbj0wLCBwYWR4PTgsIHBhZHk9Mywgc3RpY2t5PVwid1wiKVxuICAgNDQ4XHQgICAgICAgICAgICBcbiAgIDQ0OVx0ICAgICAgICAgICAgIyBCaW5kIG1vdXNlIHdoZWVsIGV2ZW50IHRvIGVhY2ggY2hlY2tib3ggZm9yIGJldHRlciBzY3JvbGxpbmdcbiAgIDQ1MFx0ICAgICAgICAgICAgY2hlY2tib3guYmluZChcIjxNb3VzZVdoZWVsPlwiLCBsYW1iZGEgZXZlbnQsIHc9c2VsZi5jaGFubmVsc19mcmFtZTogc2VsZi5fb25fbW91c2Vfd2hlZWwoZXZlbnQsIHcpKVxuICAgNDUxXHQgICAgICAgICAgICBjaGVja2JveC5iaW5kKFwiPEJ1dHRvbi00PlwiLCBsYW1iZGEgZXZlbnQsIHc9c2VsZi5jaGFubmVsc19mcmFtZTogc2VsZi5fb25fbW91c2Vfd2hlZWwoZXZlbnQsIHcpKVxuICAgNDUyXHQgICAgICAgICAgICBjaGVja2JveC5iaW5kKFwiPEJ1dHRvbi01PlwiLCBsYW1iZGEgZXZlbnQsIHc9c2VsZi5jaGFubmVsc19mcmFtZTogc2VsZi5fb25fbW91c2Vfd2hlZWwoZXZlbnQsIHcpKVxuICAgNDUzXHQgICAgXG4gICA0NTRcdCAgICBkZWYgZmlsdGVyX2NoYW5uZWxzKHNlbGYsICphcmdzKTpcbiAgIDQ1NVx0ICAgICAgICBcIlwiXCJGaWx0ZXIgY2hhbm5lbHMgYmFzZWQgb24gc2VhcmNoIHRleHQuXCJcIlwiXG4gICA0NTZcdCAgICAgICAgc2VhcmNoX3RleHQgPSBzZWxmLnNlYXJjaF92YXIuZ2V0KCkubG93ZXIoKVxuICAgNDU3XHQgICAgICAgIFxuICAgNDU4XHQgICAgICAgIGlmIG5vdCBzZWFyY2hfdGV4dDpcbiAgIDQ1OVx0ICAgICAgICAgICAgIyBJZiBzZWFyY2ggaXMgZW1wdHksIHNob3cgYWxsIGNoYW5uZWxzXG4gICA0NjBcdCAgICAgICAgICAgIGZpbHRlcmVkX2NoYW5uZWxzID0gc2VsZi5hdmFpbGFibGVfY2hhbm5lbHNcbiAgIDQ2MVx0ICAgICAgICBlbHNlOlxuICAgNDYyXHQgICAgICAgICAgICAjIEZpbHRlciBjaGFubmVscyB0aGF0IGNvbnRhaW4gdGhlIHNlYXJjaCB0ZXh0XG4gICA0NjNcdCAgICAgICAgICAgIGZpbHRlcmVkX2NoYW5uZWxzID0gW2NoIGZvciBjaCBpbiBzZWxmLmF2YWlsYWJsZV9jaGFubmVscyBpZiBzZWFyY2hfdGV4dCBpbiBjaC5sb3dlcigpXVxuICAgNDY0XHQgICAgICAgICAgICBcbiAgIDQ2NVx0ICAgICAgICAgICAgIyBTb3J0IHRoZSBmaWx0ZXJlZCBjaGFubmVscyBhbHBoYWJldGljYWxseVxuICAgNDY2XHQgICAgICAgICAgICBmaWx0ZXJlZF9jaGFubmVscy5zb3J0KClcbiAgIDQ2N1x0ICAgICAgICBcbiAgIDQ2OFx0ICAgICAgICAjIFVwZGF0ZSB0aGUgZGlzcGxheWVkIGNoYW5uZWxzXG4gICA0NjlcdCAgICAgICAgc2VsZi5kaXNwbGF5X2NoYW5uZWxzKGZpbHRlcmVkX2NoYW5uZWxzKVxuICAgNDcwXHQgICAgXG4gICA0NzFcdCAgICBkZWYgYmluZF9tb3VzZV93aGVlbChzZWxmLCB3aWRnZXQpOlxuICAgNDcyXHQgICAgICAgIFwiXCJcIlxuICAgNDczXHQgICAgICAgIEJpbmQgbW91c2Ugd2hlZWwgZXZlbnRzIHRvIHRoZSB3aWRnZXQgZm9yIHNjcm9sbGluZy5cbiAgIDQ3NFx0ICAgICAgICBcbiAgIDQ3NVx0ICAgICAgICBBcmdzOlxuICAgNDc2XHQgICAgICAgICAgICB3aWRnZXQ6IFRoZSB3aWRnZXQgdG8gYmluZCBtb3VzZSB3aGVlbCBldmVudHMgdG9cbiAgIDQ3N1x0ICAgICAgICBcIlwiXCJcbiAgIDQ3OFx0ICAgICAgICAjIEJpbmQgZm9yIFdpbmRvd3MgYW5kIExpbnV4ICh3aXRoIG1vdXNlIHdoZWVsKVxuICAgNDc5XHQgICAgICAgIHdpZGdldC5iaW5kX2FsbChcIjxNb3VzZVdoZWVsPlwiLCBsYW1iZGEgZXZlbnQ6IHNlbGYuX29uX21vdXNlX3doZWVsKGV2ZW50LCB3aWRnZXQpKVxuICAgNDgwXHQgICAgICAgICMgQmluZCBmb3IgTGludXggKHdpdGggdG91Y2hwYWQpXG4gICA0ODFcdCAgICAgICAgd2lkZ2V0LmJpbmRfYWxsKFwiPEJ1dHRvbi00PlwiLCBsYW1iZGEgZXZlbnQ6IHNlbGYuX29uX21vdXNlX3doZWVsKGV2ZW50LCB3aWRnZXQpKVxuICAgNDgyXHQgICAgICAgIHdpZGdldC5iaW5kX2FsbChcIjxCdXR0b24tNT5cIiwgbGFtYmRhIGV2ZW50OiBzZWxmLl9vbl9tb3VzZV93aGVlbChldmVudCwgd2lkZ2V0KSlcbiAgIDQ4M1x0ICAgIFxuICAgNDg0XHQgICAgZGVmIF9vbl9tb3VzZV93aGVlbChzZWxmLCBldmVudCwgd2lkZ2V0KTpcbiAgIDQ4NVx0ICAgICAgICBcIlwiXCJcbiAgIDQ4Nlx0ICAgICAgICBIYW5kbGUgbW91c2Ugd2hlZWwgZXZlbnRzIGZvciBzY3JvbGxpbmcuXG4gICA0ODdcdCAgICAgICAgXG4gICA0ODhcdCAgICAgICAgQXJnczpcbiAgIDQ4OVx0ICAgICAgICAgICAgZXZlbnQ6IFRoZSBtb3VzZSB3aGVlbCBldmVudFxuICAgNDkwXHQgICAgICAgICAgICB3aWRnZXQ6IFRoZSB3aWRnZXQgdG8gc2Nyb2xsXG4gICA0OTFcdCAgICAgICAgXCJcIlwiXG4gICA0OTJcdCAgICAgICAgIyBHZXQgdGhlIHdpZGdldCB1bmRlciB0aGUgY3Vyc29yXG4gICA0OTNcdCAgICAgICAgeCwgeSA9IGV2ZW50Lnhfcm9vdCwgZXZlbnQueV9yb290XG4gICA0OTRcdCAgICAgICAgdGFyZ2V0X3dpZGdldCA9IGV2ZW50LndpZGdldC53aW5mb19jb250YWluaW5nKHgsIHkpXG4gICA0OTVcdCAgICAgICAgXG4gICA0OTZcdCAgICAgICAgIyBDaGVjayBpZiB0aGUgY3Vyc29yIGlzIG92ZXIgb3VyIHNjcm9sbGFibGUgZnJhbWUgb3IgaXRzIGNoaWxkcmVuXG4gICA0OTdcdCAgICAgICAgcGFyZW50ID0gdGFyZ2V0X3dpZGdldFxuICAgNDk4XHQgICAgICAgIHdoaWxlIHBhcmVudCBpcyBub3QgTm9uZTpcbiAgIDQ5OVx0ICAgICAgICAgICAgaWYgcGFyZW50ID09IHdpZGdldCBvciBwYXJlbnQgPT0gc2VsZi5jaGFubmVsc19jb250YWluZXI6XG4gICA1MDBcdCAgICAgICAgICAgICAgICBicmVha1xuICAgNTAxXHQgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQubWFzdGVyXG4gICA1MDJcdCAgICAgICAgXG4gICA1MDNcdCAgICAgICAgIyBJZiBjdXJzb3IgaXMgbm90IG92ZXIgb3VyIHNjcm9sbGFibGUgYXJlYSwgZG9uJ3Qgc2Nyb2xsXG4gICA1MDRcdCAgICAgICAgaWYgcGFyZW50IGlzIE5vbmU6XG4gICA1MDVcdCAgICAgICAgICAgIHJldHVyblxuICAgNTA2XHQgICAgICAgIFxuICAgNTA3XHQgICAgICAgICMgSGFuZGxlIGRpZmZlcmVudCBldmVudCB0eXBlc1xuICAgNTA4XHQgICAgICAgIGlmIGV2ZW50Lm51bSA9PSA0IG9yIGV2ZW50LmRlbHRhID4gMDogICMgU2Nyb2xsIHVwXG4gICA1MDlcdCAgICAgICAgICAgIHdpZGdldC5fcGFyZW50X2NhbnZhcy55dmlld19zY3JvbGwoLTEsIFwidW5pdHNcIilcbiAgIDUxMFx0ICAgICAgICBlbGlmIGV2ZW50Lm51bSA9PSA1IG9yIGV2ZW50LmRlbHRhIDwgMDogICMgU2Nyb2xsIGRvd25cbiAgIDUxMVx0ICAgICAgICAgICAgd2lkZ2V0Ll9wYXJlbnRfY2FudmFzLnl2aWV3X3Njcm9sbCgxLCBcInVuaXRzXCIpXG4gICA1MTJcdCAgICBcbiAgIDUxM1x0ICAgIGRlZiBjbGVhcl9jaGFubmVscyhzZWxmKTpcbiAgIDUxNFx0ICAgICAgICBcIlwiXCJDbGVhciBhbGwgY2hhbm5lbCBjaGVja2JveGVzIGFuZCByZWxhdGVkIHdpZGdldHMuXCJcIlwiXG4gICA1MTVcdCAgICAgICAgZm9yIHdpZGdldCBpbiBzZWxmLmNoYW5uZWxzX2ZyYW1lLndpbmZvX2NoaWxkcmVuKCk6XG4gICA1MTZcdCAgICAgICAgICAgIHdpZGdldC5kZXN0cm95KClcbiAgIDUxN1x0ICAgICAgICBcbiAgIDUxOFx0ICAgICAgICBzZWxmLmNoYW5uZWxfdmFycyA9IHt9XG4gICA1MTlcdCAgICAgICAgc2VsZi5hdmFpbGFibGVfY2hhbm5lbHMgPSBbXVxuICAgNTIwXHQgICAgXG4gICA1MjFcdCAgICBkZWYgY2xlYXJfbWV0cmljcyhzZWxmKTpcbiAgIDUyMlx0ICAgICAgICBcIlwiXCJDbGVhciB0aGUgbWV0cmljcyBkcm9wZG93bi5cIlwiXCJcbiAgIDUyM1x0ICAgICAgICBzZWxmLm1ldHJpY19kcm9wZG93bi5jb25maWd1cmUodmFsdWVzPVtdKVxuICAgNTI0XHQgICAgICAgIHNlbGYubWV0cmljX3Zhci5zZXQoXCJcIilcbiAgIDUyNVx0ICAgICAgICBzZWxmLmN1cnJlbnRfbWV0cmljID0gTm9uZVxuICAgNTI2XHQgICAgXG4gICA1MjdcdCAgICBkZWYgc2VsZWN0X2FsbF9jaGFubmVscyhzZWxmKTpcbiAgIDUyOFx0ICAgICAgICBcIlwiXCJTZWxlY3QgYWxsIGNoYW5uZWwgY2hlY2tib3hlcy5cIlwiXCJcbiAgIDUyOVx0ICAgICAgICBmb3IgdmFyIGluIHNlbGYuY2hhbm5lbF92YXJzLnZhbHVlcygpOlxuICAgNTMwXHQgICAgICAgICAgICB2YXIuc2V0KFRydWUpXG4gICA1MzFcdCAgICBcbiAgIDUzMlx0ICAgIGRlZiBkZXNlbGVjdF9hbGxfY2hhbm5lbHMoc2VsZik6XG4gICA1MzNcdCAgICAgICAgXCJcIlwiRGVzZWxlY3QgYWxsIGNoYW5uZWwgY2hlY2tib3hlcy5cIlwiXCJcbiAgIDUzNFx0ICAgICAgICBmb3IgdmFyIGluIHNlbGYuY2hhbm5lbF92YXJzLnZhbHVlcygpOlxuICAgNTM1XHQgICAgICAgICAgICB2YXIuc2V0KEZhbHNlKVxuICAgNTM2XHQgICAgXG4gICA1MzdcdCAgICBkZWYgc2VsZWN0X2NvbW1vbl9jaGFubmVscyhzZWxmKTpcbiAgIDUzOFx0ICAgICAgICBcIlwiXCJTZWxlY3QgY29tbW9uIEVFRyBjaGFubmVscyAoMTAtMjAgc3lzdGVtKS5cIlwiXCJcbiAgIDUzOVx0ICAgICAgICAjIEZpcnN0IGRlc2VsZWN0IGFsbFxuICAgNTQwXHQgICAgICAgIHNlbGYuZGVzZWxlY3RfYWxsX2NoYW5uZWxzKClcbiAgIDU0MVx0ICAgICAgICBcbiAgIDU0Mlx0ICAgICAgICAjIFNlbGVjdCB0aGUgY2hhbm5lbHMgaWYgdGhleSBleGlzdCBpbiBvdXIgYXZhaWxhYmxlIGNoYW5uZWxzXG4gICA1NDNcdCAgICAgICAgZm9yIGNoYW5uZWwgaW4gQ09NTU9OX0NIQU5ORUxTOlxuICAgNTQ0XHQgICAgICAgICAgICBpZiBjaGFubmVsIGluIHNlbGYuY2hhbm5lbF92YXJzOlxuICAgNTQ1XHQgICAgICAgICAgICAgICAgc2VsZi5jaGFubmVsX3ZhcnNbY2hhbm5lbF0uc2V0KFRydWUpXG4gICA1NDZcdCAgICAgICAgICAgICMgVHJ5IGFsdGVybmF0aXZlIG5hbWUgaWYgdGhlIGNoYW5uZWwgZG9lc24ndCBleGlzdFxuICAgNTQ3XHQgICAgICAgICAgICBlbGlmIGNoYW5uZWwgaW4gQUxURVJOQVRJVkVfQ0hBTk5FTF9OQU1FUyBhbmQgQUxURVJOQVRJVkVfQ0hBTk5FTF9OQU1FU1tjaGFubmVsXSBpbiBzZWxmLmNoYW5uZWxfdmFyczpcbiAgIDU0OFx0ICAgICAgICAgICAgICAgIHNlbGYuY2hhbm5lbF92YXJzW0FMVEVSTkFUSVZFX0NIQU5ORUxfTkFNRVNbY2hhbm5lbF1dLnNldChUcnVlKVxuICAgNTQ5XHQgICAgICAgIFxuICAgNTUwXHQgICAgICAgICMgSWYgd2UgaGF2ZSBhIHNlYXJjaCBmaWx0ZXIgYWN0aXZlLCB1cGRhdGUgdGhlIGRpc3BsYXlcbiAgIDU1MVx0ICAgICAgICBpZiBoYXNhdHRyKHNlbGYsICdzZWFyY2hfdmFyJyk6XG4gICA1NTJcdCAgICAgICAgICAgIHNlbGYuZmlsdGVyX2NoYW5uZWxzKClcbiAgIDU1M1x0ICAgIFxuICAgNTU0XHQgICAgZGVmIHJlc2V0X3RpbWVfd2luZG93KHNlbGYpOlxuICAgNTU1XHQgICAgICAgIFwiXCJcIlJlc2V0IHRoZSB0aW1lIHdpbmRvdyB0byBzaG93IGFsbCBkYXRhLlwiXCJcIlxuICAgNTU2XHQgICAgICAgIHNlbGYuc3RhcnRfdGltZV92YXIuc2V0KFwiMFwiKVxuICAgNTU3XHQgICAgICAgIHNlbGYuZW5kX3RpbWVfdmFyLnNldChcIlwiKVxuICAgNTU4XHQgICAgICAgIHNlbGYudXBkYXRlX3Bsb3QoKVxuICAgNTU5XHQgICAgXG4gICA1NjBcdCAgICBkZWYgdXBkYXRlX3Bsb3Qoc2VsZik6XG4gICA1NjFcdCAgICAgICAgXCJcIlwiVXBkYXRlIHRoZSBwbG90IHdpdGggdGhlIHNlbGVjdGVkIG1ldHJpYyBhbmQgY2hhbm5lbHMuXCJcIlwiXG4gICA1NjJcdCAgICAgICAgaWYgbm90IGhhc2F0dHIoc2VsZiwgJ2N1cnJlbnRfZXhwZXJpbWVudF9pZCcpIG9yIG5vdCBoYXNhdHRyKHNlbGYsICdjdXJyZW50X2VlZ19pZCcpIG9yIG5vdCBzZWxmLmN1cnJlbnRfbWV0cmljOlxuICAgNTYzXHQgICAgICAgICAgICByZXR1cm5cbiAgIDU2NFx0ICAgICAgICBcbiAgIDU2NVx0ICAgICAgICAjIEdldCBzZWxlY3RlZCBjaGFubmVsc1xuICAgNTY2XHQgICAgICAgIHNlbGVjdGVkX2NoYW5uZWxzID0gW2NoYW5uZWwgZm9yIGNoYW5uZWwsIHZhciBpbiBzZWxmLmNoYW5uZWxfdmFycy5pdGVtcygpIGlmIHZhci5nZXQoKV1cbiAgIDU2N1x0ICAgICAgICBcbiAgIDU2OFx0ICAgICAgICAjIEdldCBzZWxlY3RlZCBhZ2dyZWdhdGlvbiBtZXRob2RzXG4gICA1NjlcdCAgICAgICAgc2VsZWN0ZWRfYWdncmVnYXRpb25zID0gW2FnZyBmb3IgYWdnLCB2YXIgaW4gc2VsZi5hZ2dyZWdhdGlvbl92YXJzLml0ZW1zKCkgaWYgdmFyLmdldCgpXVxuICAgNTcwXHQgICAgICAgIFxuICAgNTcxXHQgICAgICAgICMgQ2hlY2sgaWYgd2Ugc2hvdWxkIHNob3cgb25seSBhZ2dyZWdhdGlvbnNcbiAgIDU3Mlx0ICAgICAgICBhZ2dyZWdhdGlvbl9vbmx5ID0gc2VsZi5hZ2dyZWdhdGlvbl9vbmx5X3Zhci5nZXQoKVxuICAgNTczXHQgICAgICAgIFxuICAgNTc0XHQgICAgICAgICMgQ2hlY2sgaWYgd2UgaGF2ZSB2YWxpZCBzZWxlY3Rpb25zXG4gICA1NzVcdCAgICAgICAgaWYgKG5vdCBzZWxlY3RlZF9jaGFubmVscyBhbmQgbm90IHNlbGVjdGVkX2FnZ3JlZ2F0aW9ucykgb3IgXFxcbiAgIDU3Nlx0ICAgICAgICAgICAoYWdncmVnYXRpb25fb25seSBhbmQgbm90IHNlbGVjdGVkX2FnZ3JlZ2F0aW9ucyk6XG4gICA1NzdcdCAgICAgICAgICAgIHNlbGYucGxvdF9mcmFtZS51cGRhdGVfcGxvdChOb25lLCBOb25lLCBOb25lLCBcIk5vIGNoYW5uZWxzIG9yIGFnZ3JlZ2F0aW9ucyBzZWxlY3RlZFwiKVxuICAgNTc4XHQgICAgICAgICAgICByZXR1cm5cbiAgIDU3OVx0ICAgICAgICBcbiAgIDU4MFx0ICAgICAgICAjIEdldCBkYXRhIGZvciB0aGUgc2VsZWN0ZWQgZXhwZXJpbWVudCBhbmQgRUVHXG4gICA1ODFcdCAgICAgICAgZGYgPSBzZWxmLmRiX2hhbmRsZXIuZ2V0X21ldHJpY3NfZGF0YShzZWxmLmN1cnJlbnRfZXhwZXJpbWVudF9pZCwgc2VsZi5jdXJyZW50X2VlZ19pZClcbiAgIDU4Mlx0ICAgICAgICBcbiAgIDU4M1x0ICAgICAgICBpZiBkZi5lbXB0eTpcbiAgIDU4NFx0ICAgICAgICAgICAgc2VsZi5wbG90X2ZyYW1lLnVwZGF0ZV9wbG90KE5vbmUsIE5vbmUsIE5vbmUsIFwiTm8gZGF0YSBhdmFpbGFibGVcIilcbiAgIDU4NVx0ICAgICAgICAgICAgcmV0dXJuXG4gICA1ODZcdCAgICAgICAgXG4gICA1ODdcdCAgICAgICAgIyBHZXQgdGltZSB3aW5kb3cgdmFsdWVzXG4gICA1ODhcdCAgICAgICAgdHJ5OlxuICAgNTg5XHQgICAgICAgICAgICBzdGFydF90aW1lID0gZmxvYXQoc2VsZi5zdGFydF90aW1lX3Zhci5nZXQoKSkgaWYgc2VsZi5zdGFydF90aW1lX3Zhci5nZXQoKSBlbHNlIE5vbmVcbiAgIDU5MFx0ICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjpcbiAgIDU5MVx0ICAgICAgICAgICAgc3RhcnRfdGltZSA9IE5vbmVcbiAgIDU5Mlx0ICAgICAgICAgICAgc2VsZi5zdGFydF90aW1lX3Zhci5zZXQoXCIwXCIpXG4gICA1OTNcdCAgICAgICAgXG4gICA1OTRcdCAgICAgICAgdHJ5OlxuICAgNTk1XHQgICAgICAgICAgICBlbmRfdGltZSA9IGZsb2F0KHNlbGYuZW5kX3RpbWVfdmFyLmdldCgpKSBpZiBzZWxmLmVuZF90aW1lX3Zhci5nZXQoKSBlbHNlIE5vbmVcbiAgIDU5Nlx0ICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjpcbiAgIDU5N1x0ICAgICAgICAgICAgZW5kX3RpbWUgPSBOb25lXG4gICA1OThcdCAgICAgICAgICAgIHNlbGYuZW5kX3RpbWVfdmFyLnNldChcIlwiKVxuICAgNTk5XHQgICAgICAgIFxuICAgNjAwXHQgICAgICAgICMgVXBkYXRlIHRoZSBwbG90XG4gICA2MDFcdCAgICAgICAgZXhwZXJpbWVudF9uYW1lID0gbmV4dCgoZXhwWyduYW1lJ10gZm9yIGV4cCBpbiBzZWxmLmV4cGVyaW1lbnRzIGlmIGV4cFsnaWQnXSA9PSBzZWxmLmN1cnJlbnRfZXhwZXJpbWVudF9pZCksIFwiXCIpXG4gICA2MDJcdCAgICAgICAgZWVnX25hbWUgPSBuZXh0KChlZWdbJ2ZpbGVuYW1lJ10gZm9yIGVlZyBpbiBzZWxmLmVlZ3MgaWYgZWVnWydpZCddID09IHNlbGYuY3VycmVudF9lZWdfaWQpLCBcIlwiKVxuICAgNjAzXHQgICAgICAgIFxuICAgNjA0XHQgICAgICAgIHRpdGxlID0gZlwie3NlbGYuY3VycmVudF9tZXRyaWN9IGZvciB7ZXhwZXJpbWVudF9uYW1lfSAtIHtlZWdfbmFtZX1cIlxuICAgNjA1XHQgICAgICAgIFxuICAgNjA2XHQgICAgICAgICMgQWRkIGFnZ3JlZ2F0aW9uLW9ubHkgaW5mbyB0byB0aXRsZSBpZiBzcGVjaWZpZWRcbiAgIDYwN1x0ICAgICAgICBpZiBhZ2dyZWdhdGlvbl9vbmx5IGFuZCBzZWxlY3RlZF9hZ2dyZWdhdGlvbnM6XG4gICA2MDhcdCAgICAgICAgICAgIHRpdGxlICs9IFwiIChBZ2dyZWdhdGlvbiBPbmx5KVwiXG4gICA2MDlcdCAgICAgICAgXG4gICA2MTBcdCAgICAgICAgIyBBZGQgdGltZSB3aW5kb3cgaW5mbyB0byB0aXRsZSBpZiBzcGVjaWZpZWRcbiAgIDYxMVx0ICAgICAgICBpZiBzdGFydF90aW1lIGlzIG5vdCBOb25lIGFuZCBlbmRfdGltZSBpcyBub3QgTm9uZTpcbiAgIDYxMlx0ICAgICAgICAgICAgdGl0bGUgKz0gZlwiIChUaW1lOiB7c3RhcnRfdGltZX1zIHRvIHtlbmRfdGltZX1zKVwiXG4gICA2MTNcdCAgICAgICAgZWxpZiBzdGFydF90aW1lIGlzIG5vdCBOb25lOlxuICAgNjE0XHQgICAgICAgICAgICB0aXRsZSArPSBmXCIgKFRpbWU6IHtzdGFydF90aW1lfXMrKVwiXG4gICA2MTVcdCAgICAgICAgXG4gICA2MTZcdCAgICAgICAgc2VsZi5wbG90X2ZyYW1lLnVwZGF0ZV9wbG90KFxuICAgNjE3XHQgICAgICAgICAgICBkZiwgXG4gICA2MThcdCAgICAgICAgICAgIHNlbGYuY3VycmVudF9tZXRyaWMsIFxuICAgNjE5XHQgICAgICAgICAgICBzZWxlY3RlZF9jaGFubmVscywgXG4gICA2MjBcdCAgICAgICAgICAgIHRpdGxlLCBcbiAgIDYyMVx0ICAgICAgICAgICAgdGltZV93aW5kb3c9KHN0YXJ0X3RpbWUsIGVuZF90aW1lKSxcbiAgIDYyMlx0ICAgICAgICAgICAgYWdncmVnYXRpb25zPXNlbGVjdGVkX2FnZ3JlZ2F0aW9ucyxcbiAgIDYyM1x0ICAgICAgICAgICAgYWdncmVnYXRpb25fb25seT1hZ2dyZWdhdGlvbl9vbmx5XG4gICA2MjRcdCAgICAgICAgKVxuICAgNjI1XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDYyNVxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxOUZIc0J6c2h3SFRFRUI2VHFmNzdvbiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciIsImZvbGRlclJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NCwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifX19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI1Y2VlZWFiNy1iMGU5LTRkZDctYjYxZS1mZGM4ZWY4MmVlOWEiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFDOGE0RHJWdlRxWjRjcDZxTnJyUHduIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcImd1aS9ydW5fbWV0cmljc192aWV3ZXIucHlcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gZ3VpL21ldHJpY3Nfdmlld2VyL3V0aWxzLnB5OlxuICAgICAxXHRcIlwiXCJcbiAgICAgMlx0VXRpbGl0eSBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cyBmb3IgdGhlIEVFRyBNZXRyaWNzIFZpZXdlci5cbiAgICAgM1x0XCJcIlwiXG4gICAgIDRcdFxuICAgICA1XHRmcm9tIHR5cGluZyBpbXBvcnQgRGljdCwgTGlzdCwgVHVwbGVcbiAgICAgNlx0aW1wb3J0IGN1c3RvbXRraW50ZXIgYXMgY3RrXG4gICAgIDdcdFxuICAgICA4XHQjIENvbW1vbiBtZXRhZGF0YSBjb2x1bW5zIHRoYXQgYXJlIG5vdCBFRUcgY2hhbm5lbHNcbiAgICAgOVx0TUVUQURBVEFfQ09MVU1OUyA9IFsnZWVnX2lkJywgJ2xhYmVsJywgJ3N0YXJ0RGF0YVJlY29yZCcsICdkdXJhdGlvbicsICdtZXRyaWMnXVxuICAgIDEwXHRcbiAgICAxMVx0IyBBZ2dyZWdhdGlvbiBjb2xvcnMgYW5kIHN0eWxlc1xuICAgIDEyXHRBR0dSRUdBVElPTl9DT0xPUlM6IERpY3Rbc3RyLCBzdHJdID0ge1xuICAgIDEzXHQgICAgJ21lYW4nOiAncmVkJyxcbiAgICAxNFx0ICAgICdzdGQnOiAncHVycGxlJyxcbiAgICAxNVx0ICAgICdtZWRpYW4nOiAnZ3JlZW4nXG4gICAgMTZcdH1cbiAgICAxN1x0XG4gICAgMThcdEFHR1JFR0FUSU9OX1NUWUxFUzogRGljdFtzdHIsIHN0cl0gPSB7XG4gICAgMTlcdCAgICAnbWVhbic6ICctJyxcbiAgICAyMFx0ICAgICdzdGQnOiAnLS0nLFxuICAgIDIxXHQgICAgJ21lZGlhbic6ICctLidcbiAgICAyMlx0fVxuICAgIDIzXHRcbiAgICAyNFx0IyBDb21tb24gMTAtMjAgc3lzdGVtIGNoYW5uZWxzIChpbiBhbHBoYWJldGljYWwgb3JkZXIpXG4gICAgMjVcdENPTU1PTl9DSEFOTkVMUzogTGlzdFtzdHJdID0gW1xuICAgIDI2XHQgICAgJ0MzJywgJ0M0JywgJ0N6JywgJ0YzJywgJ0Y0JywgJ0Y3JywgJ0Y4JywgJ0ZwMScsICdGcDInLCAnRnonLFxuICAgIDI3XHQgICAgJ08xJywgJ08yJywgJ1AzJywgJ1A0JywgJ1A3JywgJ1A4JywgJ1B6JywgJ1QzJywgJ1Q0JywgJ1Q1JywgJ1Q2JywgJ1Q3JywgJ1Q4J1xuICAgIDI4XHRdXG4gICAgMjlcdFxuICAgIDMwXHQjIE1hcCBvZiBhbHRlcm5hdGl2ZSBjaGFubmVsIG5hbWVzIChvbGQgLT4gbmV3IGFuZCBuZXcgLT4gb2xkKVxuICAgIDMxXHRBTFRFUk5BVElWRV9DSEFOTkVMX05BTUVTOiBEaWN0W3N0ciwgc3RyXSA9IHtcbiAgICAzMlx0ICAgICdUMyc6ICdUNycsICdUNCc6ICdUOCcsICdUNSc6ICdQNycsICdUNic6ICdQOCcsXG4gICAgMzNcdCAgICAnVDcnOiAnVDMnLCAnVDgnOiAnVDQnLCAnUDcnOiAnVDUnLCAnUDgnOiAnVDYnXG4gICAgMzRcdH1cbiAgICAzNVx0XG4gICAgMzZcdCMgRm9udCBjb25maWd1cmF0aW9uc1xuICAgIDM3XHRkZWYgZ2V0X2xhYmVsX2ZvbnQoKSAtPiBjdGsuQ1RrRm9udDpcbiAgICAzOFx0ICAgIFwiXCJcIlJldHVybiBhIGZvbnQgZm9yIGxhYmVscy5cIlwiXCJcbiAgICAzOVx0ICAgIHJldHVybiBjdGsuQ1RrRm9udChzaXplPTEyKVxuICAgIDQwXHRcbiAgICA0MVx0ZGVmIGdldF9kcm9wZG93bl9mb250KCkgLT4gY3RrLkNUa0ZvbnQ6XG4gICAgNDJcdCAgICBcIlwiXCJSZXR1cm4gYSBmb250IGZvciBkcm9wZG93bnMgYW5kIHNtYWxsZXIgdGV4dC5cIlwiXCJcbiAgICA0M1x0ICAgIHJldHVybiBjdGsuQ1RrRm9udChzaXplPTExKVxuICAgIDQ0XHRcbiAgICA0NVx0ZGVmIGdldF9idXR0b25fZm9udCgpIC0+IGN0ay5DVGtGb250OlxuICAgIDQ2XHQgICAgXCJcIlwiUmV0dXJuIGEgZm9udCBmb3IgYnV0dG9ucy5cIlwiXCJcbiAgICA0N1x0ICAgIHJldHVybiBjdGsuQ1RrRm9udChzaXplPTE0LCB3ZWlnaHQ9XCJib2xkXCIpXG4gICAgNDhcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogNDhcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVdWRW1lMm1HVTZhNEZ3MXB6dEV3VU0ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIiLCJmb2xkZXJSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjQsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIn19fV0sInJlc3BvbnNlX3RleHQiOiIiLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMzRkMjJkNjItNjcyNi00MDJmLWJlYjMtNzIyMDAwN2Y2NDdjIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiQmFzZWQgb24gbXkgYW5hbHlzaXMgb2YgdGhlIGNvZGUsIEkgY2FuIHByb3ZpZGUgeW91IHdpdGggYSBjb21wcmVoZW5zaXZlIG92ZXJ2aWV3IG9mIHRoZSBgQGd1aWAgZGlyZWN0b3J5IGFuZCBob3cgaXQgd29ya3M6XG5cbiMjIE92ZXJ2aWV3IG9mIHRoZSBHVUkgQ29tcG9uZW50c1xuXG5UaGUgYEBndWlgIGRpcmVjdG9yeSBjb250YWlucyBhIG1ldHJpY3Mgdmlld2VyIGFwcGxpY2F0aW9uIGZvciBFRUcgKEVsZWN0cm9lbmNlcGhhbG9ncmFtKSBkYXRhIGFuYWx5c2lzLiBUaGUgbWFpbiBjb21wb25lbnRzIGFyZTpcblxuIyMjIDEuIE1haW4gQXBwbGljYXRpb24gU3RydWN0dXJlXG5cblRoZSBHVUkgaXMgYnVpbHQgdXNpbmcgYGN1c3RvbXRraW50ZXJgLCB3aGljaCBpcyBhIG1vZGVybi1sb29raW5nIGV4dGVuc2lvbiBvZiB0aGUgc3RhbmRhcmQgVGtpbnRlciBsaWJyYXJ5LiBUaGUgYXBwbGljYXRpb24gZm9sbG93cyBhIG1vZHVsYXIgZGVzaWduIHdpdGggdGhlc2Uga2V5IGNvbXBvbmVudHM6XG5cbjxhdWdtZW50X2NvZGVfc25pcHBldCBwYXRoPVwiZ3VpL21ldHJpY3Nfdmlld2VyL2FwcC5weVwiIG1vZGU9XCJFWENFUlBUXCI+XG5gYGBweXRob25cbmNsYXNzIEFwcChjdGsuQ1RrKTpcbiAgICBcIlwiXCJcbiAgICBNYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgIFwiXCJcIlxuICAgIFxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkYl9wYXRoOiBzdHIpOlxuICAgICAgICAjIEluaXRpYWxpemUgZGF0YWJhc2UgaGFuZGxlclxuICAgICAgICBzZWxmLmRiX2hhbmRsZXIgPSBEYXRhYmFzZUhhbmRsZXIoZGJfcGF0aClcbiAgICAgICAgXG4gICAgICAgICMgQ3JlYXRlIHBsb3QgZnJhbWUgd2l0aCBtb3JlIHNwYWNlXG4gICAgICAgIHNlbGYucGxvdF9mcmFtZSA9IE1ldHJpY3NQbG90RnJhbWUoc2VsZiwgdGl0bGU9XCJNZXRyaWNzIFZpc3VhbGl6YXRpb25cIilcbiAgICAgICAgXG4gICAgICAgICMgQ3JlYXRlIHNlbGVjdGlvbiBmcmFtZSB3aXRoIG5hcnJvd2VyIGZpeGVkIHdpZHRoXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lID0gU2VsZWN0aW9uRnJhbWUoc2VsZiwgc2VsZi5kYl9oYW5kbGVyLCBzZWxmLnBsb3RfZnJhbWUsIHdpZHRoPTI1MClcbmBgYFxuPC9hdWdtZW50X2NvZGVfc25pcHBldD5cblxuIyMjIDIuIERhdGFiYXNlIEhhbmRsZXJcblxuVGhlIGBEYXRhYmFzZUhhbmRsZXJgIGNsYXNzIG1hbmFnZXMgaW50ZXJhY3Rpb25zIHdpdGggYSBTUUxpdGUgZGF0YWJhc2UgY29udGFpbmluZyBFRUcgbWV0cmljcyBkYXRhOlxuXG48YXVnbWVudF9jb2RlX3NuaXBwZXQgcGF0aD1cImd1aS9tZXRyaWNzX3ZpZXdlci9kYXRhYmFzZV9oYW5kbGVyLnB5XCIgbW9kZT1cIkVYQ0VSUFRcIj5cbmBgYHB5dGhvblxuY2xhc3MgRGF0YWJhc2VIYW5kbGVyOlxuICAgIFwiXCJcIlxuICAgIEhhbmRsZXMgaW50ZXJhY3Rpb25zIHdpdGggdGhlIFNRTGl0ZSBkYXRhYmFzZSBjb250YWluaW5nIEVFRyBtZXRyaWNzLlxuICAgIFwiXCJcIlxuICAgIFxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkYl9wYXRoOiBzdHIpOlxuICAgICAgICBzZWxmLmRiX3BhdGggPSBkYl9wYXRoXG4gICAgICAgIHNlbGYuZW5naW5lID0gQWxjaGVtaXN0LmluaXRpYWxpemVfdGFibGVzKGRiX3BhdGgpXG4gICAgICAgIHNlbGYuc2Vzc2lvbiA9IEFsY2hlbWlzdC5TZXNzaW9uKHNlbGYuZW5naW5lKVxuYGBgXG48L2F1Z21lbnRfY29kZV9zbmlwcGV0PlxuXG5LZXkgZnVuY3Rpb25hbGl0aWVzOlxuLSBSZXRyaWV2ZXMgZXhwZXJpbWVudHMsIEVFR3MsIGFuZCBtZXRyaWNzIGRhdGEgZnJvbSB0aGUgZGF0YWJhc2Vcbi0gUHJvdmlkZXMgbWV0aG9kcyB0byBnZXQgYXZhaWxhYmxlIG1ldHJpY3MgYW5kIGNoYW5uZWxzIGZvciB2aXN1YWxpemF0aW9uXG5cbiMjIyAzLiBQbG90IEZyYW1lXG5cblRoZSBgTWV0cmljc1Bsb3RGcmFtZWAgY2xhc3MgaGFuZGxlcyB0aGUgdmlzdWFsaXphdGlvbiBvZiBFRUcgbWV0cmljcyBkYXRhIHVzaW5nIE1hdHBsb3RsaWI6XG5cbjxhdWdtZW50X2NvZGVfc25pcHBldCBwYXRoPVwiZ3VpL21ldHJpY3Nfdmlld2VyL3Bsb3RfZnJhbWUucHlcIiBtb2RlPVwiRVhDRVJQVFwiPlxuYGBgcHl0aG9uXG5jbGFzcyBNZXRyaWNzUGxvdEZyYW1lKGN0ay5DVGtGcmFtZSk6XG4gICAgXCJcIlwiXG4gICAgQSBmcmFtZSBjb250YWluaW5nIGEgbWF0cGxvdGxpYiBmaWd1cmUgZm9yIHBsb3R0aW5nIG1ldHJpY3MuXG4gICAgXCJcIlwiXG5cbiAgICBkZWYgX19pbml0X18oc2VsZiwgbWFzdGVyLCB0aXRsZT1cIk1ldHJpY3MgUGxvdFwiLCAqKmt3YXJncyk6XG4gICAgICAgICMgQ3JlYXRlIG1hdHBsb3RsaWIgZmlndXJlIHdpdGggbGFyZ2VyIHNpemVcbiAgICAgICAgc2VsZi5maWd1cmUgPSBGaWd1cmUoZmlnc2l6ZT0oMTIsIDcpLCBkcGk9MTAwKVxuICAgICAgICBzZWxmLnBsb3QgPSBzZWxmLmZpZ3VyZS5hZGRfc3VicGxvdCgxMTEpXG5gYGBcbjwvYXVnbWVudF9jb2RlX3NuaXBwZXQ+XG5cbktleSBmZWF0dXJlczpcbi0gRGlzcGxheXMgdGltZS1zZXJpZXMgcGxvdHMgb2YgRUVHIG1ldHJpY3Ncbi0gU3VwcG9ydHMgaW50ZXJhY3RpdmUgem9vbWluZyB3aXRoIG1vdXNlIGRyYWdcbi0gQ2FuIHNob3cgaW5kaXZpZHVhbCBjaGFubmVscyBhbmQgYWdncmVnYXRpb25zIChtZWFuLCBtZWRpYW4sIHN0YW5kYXJkIGRldmlhdGlvbilcbi0gQWxsb3dzIHRpbWUgd2luZG93IGZpbHRlcmluZ1xuXG4jIyMgNC4gU2VsZWN0aW9uIEZyYW1lXG5cblRoZSBgU2VsZWN0aW9uRnJhbWVgIGNsYXNzIHByb3ZpZGVzIHRoZSBVSSBmb3Igc2VsZWN0aW5nIGRhdGEgdG8gdmlzdWFsaXplOlxuXG48YXVnbWVudF9jb2RlX3NuaXBwZXQgcGF0aD1cImd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHlcIiBtb2RlPVwiRVhDRVJQVFwiPlxuYGBgcHl0aG9uXG5jbGFzcyBTZWxlY3Rpb25GcmFtZShjdGsuQ1RrRnJhbWUpOlxuICAgIFwiXCJcIlxuICAgIEEgZnJhbWUgY29udGFpbmluZyBjb250cm9scyBmb3Igc2VsZWN0aW5nIGV4cGVyaW1lbnRzLCBFRUdzLCBtZXRyaWNzLCBjaGFubmVscywgYW5kIG90aGVyIG9wdGlvbnMuXG4gICAgXCJcIlwiXG4gICAgXG4gICAgZGVmIF9faW5pdF9fKHNlbGYsIG1hc3RlciwgZGJfaGFuZGxlcjogRGF0YWJhc2VIYW5kbGVyLCBwbG90X2ZyYW1lOiBNZXRyaWNzUGxvdEZyYW1lLCAqKmt3YXJncyk6XG4gICAgICAgIHNlbGYuZGJfaGFuZGxlciA9IGRiX2hhbmRsZXJcbiAgICAgICAgc2VsZi5wbG90X2ZyYW1lID0gcGxvdF9mcmFtZVxuYGBgXG48L2F1Z21lbnRfY29kZV9zbmlwcGV0PlxuXG5LZXkgY29tcG9uZW50czpcbi0gRHJvcGRvd24gbWVudXMgZm9yIHNlbGVjdGluZyBleHBlcmltZW50cywgRUVHcywgYW5kIG1ldHJpY3Ncbi0gQ2hlY2tib3hlcyBmb3Igc2VsZWN0aW5nIGNoYW5uZWxzIHdpdGggc2VhcmNoIGZ1bmN0aW9uYWxpdHlcbi0gT3B0aW9ucyBmb3IgYWdncmVnYXRpb24gbWV0aG9kcyAobWVhbiwgc3RhbmRhcmQgZGV2aWF0aW9uLCBtZWRpYW4pXG4tIFRpbWUgd2luZG93IHNlbGVjdGlvbiBmb3IgZm9jdXNpbmcgb24gc3BlY2lmaWMgdGltZSByYW5nZXNcbi0gQnV0dG9ucyBmb3IgY29tbW9uIG9wZXJhdGlvbnMgKHNlbGVjdCBhbGwgY2hhbm5lbHMsIHJlc2V0IHpvb20sIGV0Yy4pXG5cbiMjIyA1LiBVdGlsaXRpZXNcblxuVGhlIGB1dGlscy5weWAgZmlsZSBjb250YWlucyBjb25zdGFudHMgYW5kIGhlbHBlciBmdW5jdGlvbnM6XG5cbjxhdWdtZW50X2NvZGVfc25pcHBldCBwYXRoPVwiZ3VpL21ldHJpY3Nfdmlld2VyL3V0aWxzLnB5XCIgbW9kZT1cIkVYQ0VSUFRcIj5cbmBgYHB5dGhvblxuIyBDb21tb24gbWV0YWRhdGEgY29sdW1ucyB0aGF0IGFyZSBub3QgRUVHIGNoYW5uZWxzXG5NRVRBREFUQV9DT0xVTU5TID0gWydlZWdfaWQnLCAnbGFiZWwnLCAnc3RhcnREYXRhUmVjb3JkJywgJ2R1cmF0aW9uJywgJ21ldHJpYyddXG5cbiMgQWdncmVnYXRpb24gY29sb3JzIGFuZCBzdHlsZXNcbkFHR1JFR0FUSU9OX0NPTE9SUzogRGljdFtzdHIsIHN0cl0gPSB7XG4gICAgJ21lYW4nOiAncmVkJyxcbiAgICAnc3RkJzogJ3B1cnBsZScsXG4gICAgJ21lZGlhbic6ICdncmVlbidcbn1cbmBgYFxuPC9hdWdtZW50X2NvZGVfc25pcHBldD5cblxuIyMjIDYuIEFwcGxpY2F0aW9uIEVudHJ5IFBvaW50XG5cblRoZSBgcnVuX21ldHJpY3Nfdmlld2VyLnB5YCBzY3JpcHQgc2VydmVzIGFzIHRoZSBlbnRyeSBwb2ludCBmb3IgdGhlIGFwcGxpY2F0aW9uOlxuXG48YXVnbWVudF9jb2RlX3NuaXBwZXQgcGF0aD1cImd1aS9ydW5fbWV0cmljc192aWV3ZXIucHlcIiBtb2RlPVwiRVhDRVJQVFwiPlxuYGBgcHl0aG9uXG5kZWYgbWFpbigpOlxuICAgIFwiXCJcIlJ1biB0aGUgRUVHIE1ldHJpY3MgVmlld2VyIGFwcGxpY2F0aW9uLlwiXCJcIlxuICAgICMgQ2hlY2sgZGVwZW5kZW5jaWVzIGZpcnN0XG4gICAgaWYgbm90IGNoZWNrX2RlcGVuZGVuY2llcygpOlxuICAgICAgICBzeXMuZXhpdCgxKVxuXG4gICAgIyBJbXBvcnQgQXBwIG9ubHkgYWZ0ZXIgY2hlY2tpbmcgZGVwZW5kZW5jaWVzXG4gICAgZnJvbSBtZXRyaWNzX3ZpZXdlciBpbXBvcnQgQXBwXG5cbiAgICAjIENoZWNrIGlmIGEgZGF0YWJhc2UgcGF0aCBpcyBwcm92aWRlZCBhcyBhIGNvbW1hbmQtbGluZSBhcmd1bWVudFxuICAgIGlmIGxlbihzeXMuYXJndikgPiAxOlxuICAgICAgICBkYl9wYXRoID0gc3lzLmFyZ3ZbMV1cbiAgICBlbHNlOlxuICAgICAgICAjIERlZmF1bHQgZGF0YWJhc2UgcGF0aFxuICAgICAgICBkYl9wYXRoID0gb3MucGF0aC5qb2luKG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmRpcm5hbWUob3MucGF0aC5hYnNwYXRoKF9fZmlsZV9fKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJleGFtcGxlXCIsIFwiRUVHQW5hbHl6ZXIuc3FsaXRlXCIpXG5gYGBcbjwvYXVnbWVudF9jb2RlX3NuaXBwZXQ+XG5cbiMjIEhvdyB0aGUgQXBwbGljYXRpb24gV29ya3NcblxuMS4gKipJbml0aWFsaXphdGlvbioqOiBUaGUgYXBwbGljYXRpb24gc3RhcnRzIGJ5IGluaXRpYWxpemluZyB0aGUgZGF0YWJhc2UgY29ubmVjdGlvbiBhbmQgY3JlYXRpbmcgdGhlIG1haW4gVUkgY29tcG9uZW50cy5cblxuMi4gKipEYXRhIEZsb3cqKjpcbiAgIC0gVGhlIHVzZXIgc2VsZWN0cyBhbiBleHBlcmltZW50IGZyb20gdGhlIGRyb3Bkb3duIG1lbnVcbiAgIC0gVGhpcyB0cmlnZ2VycyBsb2FkaW5nIG9mIGF2YWlsYWJsZSBFRUdzIGZvciB0aGF0IGV4cGVyaW1lbnRcbiAgIC0gV2hlbiBhbiBFRUcgaXMgc2VsZWN0ZWQsIGF2YWlsYWJsZSBtZXRyaWNzIGFuZCBjaGFubmVscyBhcmUgbG9hZGVkXG4gICAtIFRoZSB1c2VyIHNlbGVjdHMgbWV0cmljcywgY2hhbm5lbHMsIGFuZCB2aXN1YWxpemF0aW9uIG9wdGlvbnNcbiAgIC0gQ2xpY2tpbmcgXCJVcGRhdGUgUGxvdFwiIHJldHJpZXZlcyB0aGUgZGF0YSBhbmQgdXBkYXRlcyB0aGUgdmlzdWFsaXphdGlvblxuXG4zLiAqKkludGVyYWN0aXZlIEZlYXR1cmVzKio6XG4gICAtIFVzZXJzIGNhbiB6b29tIGluIG9uIHNwZWNpZmljIHRpbWUgcmFuZ2VzIGJ5IGRyYWdnaW5nIG9uIHRoZSBwbG90XG4gICAtIENoYW5uZWwgc2VsZWN0aW9uIGluY2x1ZGVzIHNlYXJjaCBmdW5jdGlvbmFsaXR5IGFuZCBwcmVzZXQgb3B0aW9uc1xuICAgLSBBZ2dyZWdhdGlvbiBtZXRob2RzIGNhbiBiZSBhcHBsaWVkIHRvIHZpc3VhbGl6ZSB0cmVuZHMgYWNyb3NzIGNoYW5uZWxzXG5cbjQuICoqRGVwZW5kZW5jaWVzKio6XG4gICAtIFRoZSBhcHBsaWNhdGlvbiByZWxpZXMgb24gZXh0ZXJuYWwgbGlicmFyaWVzIGxpa2UgY3VzdG9tdGtpbnRlciwgbWF0cGxvdGxpYiwgcGFuZGFzLCBhbmQgU1FMQWxjaGVteVxuICAgLSBJdCBpbnRlZ3JhdGVzIHdpdGggYW4gYE9PUF9BbmFseXplcmAgbW9kdWxlIChzcGVjaWZpY2FsbHkgdGhlIGBBbGNoZW1pc3RgIGNsYXNzKSBmb3IgZGF0YWJhc2Ugb3BlcmF0aW9uc1xuXG5UaGlzIEdVSSBwcm92aWRlcyBhIGNvbXByZWhlbnNpdmUgdG9vbCBmb3IgdmlzdWFsaXppbmcgYW5kIGFuYWx5emluZyBFRUcgbWV0cmljcyBkYXRhIHN0b3JlZCBpbiBhIFNRTGl0ZSBkYXRhYmFzZSwgd2l0aCBhIGZvY3VzIG9uIGZsZXhpYmlsaXR5IGFuZCB1c2VyLWZyaWVuZGx5IGludGVyYWN0aW9uLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IkJhc2VkIG9uIG15IGFuYWx5c2lzIG9mIHRoZSBjb2RlLCBJIGNhbiBwcm92aWRlIHlvdSB3aXRoIGEgY29tcHJlaGVuc2l2ZSBvdmVydmlldyBvZiB0aGUgYEBndWlgIGRpcmVjdG9yeSBhbmQgaG93IGl0IHdvcmtzOlxuXG4jIyBPdmVydmlldyBvZiB0aGUgR1VJIENvbXBvbmVudHNcblxuVGhlIGBAZ3VpYCBkaXJlY3RvcnkgY29udGFpbnMgYSBtZXRyaWNzIHZpZXdlciBhcHBsaWNhdGlvbiBmb3IgRUVHIChFbGVjdHJvZW5jZXBoYWxvZ3JhbSkgZGF0YSBhbmFseXNpcy4gVGhlIG1haW4gY29tcG9uZW50cyBhcmU6XG5cbiMjIyAxLiBNYWluIEFwcGxpY2F0aW9uIFN0cnVjdHVyZVxuXG5UaGUgR1VJIGlzIGJ1aWx0IHVzaW5nIGBjdXN0b210a2ludGVyYCwgd2hpY2ggaXMgYSBtb2Rlcm4tbG9va2luZyBleHRlbnNpb24gb2YgdGhlIHN0YW5kYXJkIFRraW50ZXIgbGlicmFyeS4gVGhlIGFwcGxpY2F0aW9uIGZvbGxvd3MgYSBtb2R1bGFyIGRlc2lnbiB3aXRoIHRoZXNlIGtleSBjb21wb25lbnRzOlxuXG5gYGBgcHl0aG9uIHBhdGg9Z3VpL21ldHJpY3Nfdmlld2VyL2FwcC5weSBtb2RlPUVYQ0VSUFRcbmNsYXNzIEFwcChjdGsuQ1RrKTpcbiAgICBcIlwiXCJcbiAgICBNYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgIFwiXCJcIlxuICAgIFxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkYl9wYXRoOiBzdHIpOlxuICAgICAgICAjIEluaXRpYWxpemUgZGF0YWJhc2UgaGFuZGxlclxuICAgICAgICBzZWxmLmRiX2hhbmRsZXIgPSBEYXRhYmFzZUhhbmRsZXIoZGJfcGF0aClcbiAgICAgICAgXG4gICAgICAgICMgQ3JlYXRlIHBsb3QgZnJhbWUgd2l0aCBtb3JlIHNwYWNlXG4gICAgICAgIHNlbGYucGxvdF9mcmFtZSA9IE1ldHJpY3NQbG90RnJhbWUoc2VsZiwgdGl0bGU9XCJNZXRyaWNzIFZpc3VhbGl6YXRpb25cIilcbiAgICAgICAgXG4gICAgICAgICMgQ3JlYXRlIHNlbGVjdGlvbiBmcmFtZSB3aXRoIG5hcnJvd2VyIGZpeGVkIHdpZHRoXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lID0gU2VsZWN0aW9uRnJhbWUoc2VsZiwgc2VsZi5kYl9oYW5kbGVyLCBzZWxmLnBsb3RfZnJhbWUsIHdpZHRoPTI1MClcbmBgYGBcblxuIyMjIDIuIERhdGFiYXNlIEhhbmRsZXJcblxuVGhlIGBEYXRhYmFzZUhhbmRsZXJgIGNsYXNzIG1hbmFnZXMgaW50ZXJhY3Rpb25zIHdpdGggYSBTUUxpdGUgZGF0YWJhc2UgY29udGFpbmluZyBFRUcgbWV0cmljcyBkYXRhOlxuXG5gYGBgcHl0aG9uIHBhdGg9Z3VpL21ldHJpY3Nfdmlld2VyL2RhdGFiYXNlX2hhbmRsZXIucHkgbW9kZT1FWENFUlBUXG5jbGFzcyBEYXRhYmFzZUhhbmRsZXI6XG4gICAgXCJcIlwiXG4gICAgSGFuZGxlcyBpbnRlcmFjdGlvbnMgd2l0aCB0aGUgU1FMaXRlIGRhdGFiYXNlIGNvbnRhaW5pbmcgRUVHIG1ldHJpY3MuXG4gICAgXCJcIlwiXG4gICAgXG4gICAgZGVmIF9faW5pdF9fKHNlbGYsIGRiX3BhdGg6IHN0cik6XG4gICAgICAgIHNlbGYuZGJfcGF0aCA9IGRiX3BhdGhcbiAgICAgICAgc2VsZi5lbmdpbmUgPSBBbGNoZW1pc3QuaW5pdGlhbGl6ZV90YWJsZXMoZGJfcGF0aClcbiAgICAgICAgc2VsZi5zZXNzaW9uID0gQWxjaGVtaXN0LlNlc3Npb24oc2VsZi5lbmdpbmUpXG5gYGBgXG5cbktleSBmdW5jdGlvbmFsaXRpZXM6XG4tIFJldHJpZXZlcyBleHBlcmltZW50cywgRUVHcywgYW5kIG1ldHJpY3MgZGF0YSBmcm9tIHRoZSBkYXRhYmFzZVxuLSBQcm92aWRlcyBtZXRob2RzIHRvIGdldCBhdmFpbGFibGUgbWV0cmljcyBhbmQgY2hhbm5lbHMgZm9yIHZpc3VhbGl6YXRpb25cblxuIyMjIDMuIFBsb3QgRnJhbWVcblxuVGhlIGBNZXRyaWNzUGxvdEZyYW1lYCBjbGFzcyBoYW5kbGVzIHRoZSB2aXN1YWxpemF0aW9uIG9mIEVFRyBtZXRyaWNzIGRhdGEgdXNpbmcgTWF0cGxvdGxpYjpcblxuYGBgYHB5dGhvbiBwYXRoPWd1aS9tZXRyaWNzX3ZpZXdlci9wbG90X2ZyYW1lLnB5IG1vZGU9RVhDRVJQVFxuY2xhc3MgTWV0cmljc1Bsb3RGcmFtZShjdGsuQ1RrRnJhbWUpOlxuICAgIFwiXCJcIlxuICAgIEEgZnJhbWUgY29udGFpbmluZyBhIG1hdHBsb3RsaWIgZmlndXJlIGZvciBwbG90dGluZyBtZXRyaWNzLlxuICAgIFwiXCJcIlxuXG4gICAgZGVmIF9faW5pdF9fKHNlbGYsIG1hc3RlciwgdGl0bGU9XCJNZXRyaWNzIFBsb3RcIiwgKiprd2FyZ3MpOlxuICAgICAgICAjIENyZWF0ZSBtYXRwbG90bGliIGZpZ3VyZSB3aXRoIGxhcmdlciBzaXplXG4gICAgICAgIHNlbGYuZmlndXJlID0gRmlndXJlKGZpZ3NpemU9KDEyLCA3KSwgZHBpPTEwMClcbiAgICAgICAgc2VsZi5wbG90ID0gc2VsZi5maWd1cmUuYWRkX3N1YnBsb3QoMTExKVxuYGBgYFxuXG5LZXkgZmVhdHVyZXM6XG4tIERpc3BsYXlzIHRpbWUtc2VyaWVzIHBsb3RzIG9mIEVFRyBtZXRyaWNzXG4tIFN1cHBvcnRzIGludGVyYWN0aXZlIHpvb21pbmcgd2l0aCBtb3VzZSBkcmFnXG4tIENhbiBzaG93IGluZGl2aWR1YWwgY2hhbm5lbHMgYW5kIGFnZ3JlZ2F0aW9ucyAobWVhbiwgbWVkaWFuLCBzdGFuZGFyZCBkZXZpYXRpb24pXG4tIEFsbG93cyB0aW1lIHdpbmRvdyBmaWx0ZXJpbmdcblxuIyMjIDQuIFNlbGVjdGlvbiBGcmFtZVxuXG5UaGUgYFNlbGVjdGlvbkZyYW1lYCBjbGFzcyBwcm92aWRlcyB0aGUgVUkgZm9yIHNlbGVjdGluZyBkYXRhIHRvIHZpc3VhbGl6ZTpcblxuYGBgYHB5dGhvbiBwYXRoPWd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHkgbW9kZT1FWENFUlBUXG5jbGFzcyBTZWxlY3Rpb25GcmFtZShjdGsuQ1RrRnJhbWUpOlxuICAgIFwiXCJcIlxuICAgIEEgZnJhbWUgY29udGFpbmluZyBjb250cm9scyBmb3Igc2VsZWN0aW5nIGV4cGVyaW1lbnRzLCBFRUdzLCBtZXRyaWNzLCBjaGFubmVscywgYW5kIG90aGVyIG9wdGlvbnMuXG4gICAgXCJcIlwiXG4gICAgXG4gICAgZGVmIF9faW5pdF9fKHNlbGYsIG1hc3RlciwgZGJfaGFuZGxlcjogRGF0YWJhc2VIYW5kbGVyLCBwbG90X2ZyYW1lOiBNZXRyaWNzUGxvdEZyYW1lLCAqKmt3YXJncyk6XG4gICAgICAgIHNlbGYuZGJfaGFuZGxlciA9IGRiX2hhbmRsZXJcbiAgICAgICAgc2VsZi5wbG90X2ZyYW1lID0gcGxvdF9mcmFtZVxuYGBgYFxuXG5LZXkgY29tcG9uZW50czpcbi0gRHJvcGRvd24gbWVudXMgZm9yIHNlbGVjdGluZyBleHBlcmltZW50cywgRUVHcywgYW5kIG1ldHJpY3Ncbi0gQ2hlY2tib3hlcyBmb3Igc2VsZWN0aW5nIGNoYW5uZWxzIHdpdGggc2VhcmNoIGZ1bmN0aW9uYWxpdHlcbi0gT3B0aW9ucyBmb3IgYWdncmVnYXRpb24gbWV0aG9kcyAobWVhbiwgc3RhbmRhcmQgZGV2aWF0aW9uLCBtZWRpYW4pXG4tIFRpbWUgd2luZG93IHNlbGVjdGlvbiBmb3IgZm9jdXNpbmcgb24gc3BlY2lmaWMgdGltZSByYW5nZXNcbi0gQnV0dG9ucyBmb3IgY29tbW9uIG9wZXJhdGlvbnMgKHNlbGVjdCBhbGwgY2hhbm5lbHMsIHJlc2V0IHpvb20sIGV0Yy4pXG5cbiMjIyA1LiBVdGlsaXRpZXNcblxuVGhlIGB1dGlscy5weWAgZmlsZSBjb250YWlucyBjb25zdGFudHMgYW5kIGhlbHBlciBmdW5jdGlvbnM6XG5cbmBgYGBweXRob24gcGF0aD1ndWkvbWV0cmljc192aWV3ZXIvdXRpbHMucHkgbW9kZT1FWENFUlBUXG4jIENvbW1vbiBtZXRhZGF0YSBjb2x1bW5zIHRoYXQgYXJlIG5vdCBFRUcgY2hhbm5lbHNcbk1FVEFEQVRBX0NPTFVNTlMgPSBbJ2VlZ19pZCcsICdsYWJlbCcsICdzdGFydERhdGFSZWNvcmQnLCAnZHVyYXRpb24nLCAnbWV0cmljJ11cblxuIyBBZ2dyZWdhdGlvbiBjb2xvcnMgYW5kIHN0eWxlc1xuQUdHUkVHQVRJT05fQ09MT1JTOiBEaWN0W3N0ciwgc3RyXSA9IHtcbiAgICAnbWVhbic6ICdyZWQnLFxuICAgICdzdGQnOiAncHVycGxlJyxcbiAgICAnbWVkaWFuJzogJ2dyZWVuJ1xufVxuYGBgYFxuXG4jIyMgNi4gQXBwbGljYXRpb24gRW50cnkgUG9pbnRcblxuVGhlIGBydW5fbWV0cmljc192aWV3ZXIucHlgIHNjcmlwdCBzZXJ2ZXMgYXMgdGhlIGVudHJ5IHBvaW50IGZvciB0aGUgYXBwbGljYXRpb246XG5cbmBgYGBweXRob24gcGF0aD1ndWkvcnVuX21ldHJpY3Nfdmlld2VyLnB5IG1vZGU9RVhDRVJQVFxuZGVmIG1haW4oKTpcbiAgICBcIlwiXCJSdW4gdGhlIEVFRyBNZXRyaWNzIFZpZXdlciBhcHBsaWNhdGlvbi5cIlwiXCJcbiAgICAjIENoZWNrIGRlcGVuZGVuY2llcyBmaXJzdFxuICAgIGlmIG5vdCBjaGVja19kZXBlbmRlbmNpZXMoKTpcbiAgICAgICAgc3lzLmV4aXQoMSlcblxuICAgICMgSW1wb3J0IEFwcCBvbmx5IGFmdGVyIGNoZWNraW5nIGRlcGVuZGVuY2llc1xuICAgIGZyb20gbWV0cmljc192aWV3ZXIgaW1wb3J0IEFwcFxuXG4gICAgIyBDaGVjayBpZiBhIGRhdGFiYXNlIHBhdGggaXMgcHJvdmlkZWQgYXMgYSBjb21tYW5kLWxpbmUgYXJndW1lbnRcbiAgICBpZiBsZW4oc3lzLmFyZ3YpID4gMTpcbiAgICAgICAgZGJfcGF0aCA9IHN5cy5hcmd2WzFdXG4gICAgZWxzZTpcbiAgICAgICAgIyBEZWZhdWx0IGRhdGFiYXNlIHBhdGhcbiAgICAgICAgZGJfcGF0aCA9IG9zLnBhdGguam9pbihvcy5wYXRoLmRpcm5hbWUob3MucGF0aC5kaXJuYW1lKG9zLnBhdGguYWJzcGF0aChfX2ZpbGVfXykpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZXhhbXBsZVwiLCBcIkVFR0FuYWx5emVyLnNxbGl0ZVwiKVxuYGBgYFxuXG4jIyBIb3cgdGhlIEFwcGxpY2F0aW9uIFdvcmtzXG5cbjEuICoqSW5pdGlhbGl6YXRpb24qKjogVGhlIGFwcGxpY2F0aW9uIHN0YXJ0cyBieSBpbml0aWFsaXppbmcgdGhlIGRhdGFiYXNlIGNvbm5lY3Rpb24gYW5kIGNyZWF0aW5nIHRoZSBtYWluIFVJIGNvbXBvbmVudHMuXG5cbjIuICoqRGF0YSBGbG93Kio6XG4gICAtIFRoZSB1c2VyIHNlbGVjdHMgYW4gZXhwZXJpbWVudCBmcm9tIHRoZSBkcm9wZG93biBtZW51XG4gICAtIFRoaXMgdHJpZ2dlcnMgbG9hZGluZyBvZiBhdmFpbGFibGUgRUVHcyBmb3IgdGhhdCBleHBlcmltZW50XG4gICAtIFdoZW4gYW4gRUVHIGlzIHNlbGVjdGVkLCBhdmFpbGFibGUgbWV0cmljcyBhbmQgY2hhbm5lbHMgYXJlIGxvYWRlZFxuICAgLSBUaGUgdXNlciBzZWxlY3RzIG1ldHJpY3MsIGNoYW5uZWxzLCBhbmQgdmlzdWFsaXphdGlvbiBvcHRpb25zXG4gICAtIENsaWNraW5nIFwiVXBkYXRlIFBsb3RcIiByZXRyaWV2ZXMgdGhlIGRhdGEgYW5kIHVwZGF0ZXMgdGhlIHZpc3VhbGl6YXRpb25cblxuMy4gKipJbnRlcmFjdGl2ZSBGZWF0dXJlcyoqOlxuICAgLSBVc2VycyBjYW4gem9vbSBpbiBvbiBzcGVjaWZpYyB0aW1lIHJhbmdlcyBieSBkcmFnZ2luZyBvbiB0aGUgcGxvdFxuICAgLSBDaGFubmVsIHNlbGVjdGlvbiBpbmNsdWRlcyBzZWFyY2ggZnVuY3Rpb25hbGl0eSBhbmQgcHJlc2V0IG9wdGlvbnNcbiAgIC0gQWdncmVnYXRpb24gbWV0aG9kcyBjYW4gYmUgYXBwbGllZCB0byB2aXN1YWxpemUgdHJlbmRzIGFjcm9zcyBjaGFubmVsc1xuXG40LiAqKkRlcGVuZGVuY2llcyoqOlxuICAgLSBUaGUgYXBwbGljYXRpb24gcmVsaWVzIG9uIGV4dGVybmFsIGxpYnJhcmllcyBsaWtlIGN1c3RvbXRraW50ZXIsIG1hdHBsb3RsaWIsIHBhbmRhcywgYW5kIFNRTEFsY2hlbXlcbiAgIC0gSXQgaW50ZWdyYXRlcyB3aXRoIGFuIGBPT1BfQW5hbHl6ZXJgIG1vZHVsZSAoc3BlY2lmaWNhbGx5IHRoZSBgQWxjaGVtaXN0YCBjbGFzcykgZm9yIGRhdGFiYXNlIG9wZXJhdGlvbnNcblxuVGhpcyBHVUkgcHJvdmlkZXMgYSBjb21wcmVoZW5zaXZlIHRvb2wgZm9yIHZpc3VhbGl6aW5nIGFuZCBhbmFseXppbmcgRUVHIG1ldHJpY3MgZGF0YSBzdG9yZWQgaW4gYSBTUUxpdGUgZGF0YWJhc2UsIHdpdGggYSBmb2N1cyBvbiBmbGV4aWJpbGl0eSBhbmQgdXNlci1mcmllbmRseSBpbnRlcmFjdGlvbi5cbiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBndWkvcnVuX21ldHJpY3Nfdmlld2VyLnB5OlxuICAgICAxXHQjIS91c3IvYmluL2VudiBweXRob24zXG4gICAgIDJcdFwiXCJcIlxuICAgICAzXHRSdW4gc2NyaXB0IGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgICA0XHRcbiAgICAgNVx0VGhpcyBzY3JpcHQgcHJvdmlkZXMgYSBzaW1wbGUgd2F5IHRvIGxhdW5jaCB0aGUgRUVHIE1ldHJpY3MgVmlld2VyIGFwcGxpY2F0aW9uXG4gICAgIDZcdHdpdGggYSBzcGVjaWZpZWQgZGF0YWJhc2UgcGF0aC5cbiAgICAgN1x0XG4gICAgIDhcdFVzYWdlOlxuICAgICA5XHQgICAgcHl0aG9uIHJ1bl9tZXRyaWNzX3ZpZXdlci5weSBbcGF0aF90b19kYXRhYmFzZV1cbiAgICAxMFx0XG4gICAgMTFcdElmIG5vIGRhdGFiYXNlIHBhdGggaXMgcHJvdmlkZWQsIHRoZSBzY3JpcHQgd2lsbCBsb29rIGZvciB0aGUgZGVmYXVsdCBkYXRhYmFzZVxuICAgIDEyXHRhdCBcIi4uL2V4YW1wbGUvRUVHQW5hbHl6ZXIuc3FsaXRlXCIuXG4gICAgMTNcdFwiXCJcIlxuICAgIDE0XHRcbiAgICAxNVx0aW1wb3J0IG9zXG4gICAgMTZcdGltcG9ydCBzeXNcbiAgICAxN1x0aW1wb3J0IGltcG9ydGxpYi51dGlsXG4gICAgMThcdFxuICAgIDE5XHRkZWYgY2hlY2tfZGVwZW5kZW5jaWVzKCk6XG4gICAgMjBcdCAgICBcIlwiXCJDaGVjayBpZiBhbGwgcmVxdWlyZWQgZGVwZW5kZW5jaWVzIGFyZSBpbnN0YWxsZWQuXCJcIlwiXG4gICAgMjFcdCAgICByZXF1aXJlZF9wYWNrYWdlcyA9IFtcImN1c3RvbXRraW50ZXJcIiwgXCJtYXRwbG90bGliXCIsIFwibnVtcHlcIiwgXCJwYW5kYXNcIiwgXCJzcWxhbGNoZW15XCJdXG4gICAgMjJcdCAgICBtaXNzaW5nX3BhY2thZ2VzID0gW11cbiAgICAyM1x0XG4gICAgMjRcdCAgICBmb3IgcGFja2FnZSBpbiByZXF1aXJlZF9wYWNrYWdlczpcbiAgICAyNVx0ICAgICAgICBpZiBpbXBvcnRsaWIudXRpbC5maW5kX3NwZWMocGFja2FnZSkgaXMgTm9uZTpcbiAgICAyNlx0ICAgICAgICAgICAgbWlzc2luZ19wYWNrYWdlcy5hcHBlbmQocGFja2FnZSlcbiAgICAyN1x0XG4gICAgMjhcdCAgICBpZiBtaXNzaW5nX3BhY2thZ2VzOlxuICAgIDI5XHQgICAgICAgIHByaW50KFwiVGhlIGZvbGxvd2luZyByZXF1aXJlZCBwYWNrYWdlcyBhcmUgbWlzc2luZzpcIilcbiAgICAzMFx0ICAgICAgICBmb3IgcGFja2FnZSBpbiBtaXNzaW5nX3BhY2thZ2VzOlxuICAgIDMxXHQgICAgICAgICAgICBwcmludChmXCIgIC0ge3BhY2thZ2V9XCIpXG4gICAgMzJcdCAgICAgICAgcHJpbnQoXCJcXG5QbGVhc2UgaW5zdGFsbCB0aGVtIHVzaW5nOlwiKVxuICAgIDMzXHQgICAgICAgIHByaW50KFwiICBweXRob24gaW5zdGFsbF9kZXBlbmRlbmNpZXMucHlcIilcbiAgICAzNFx0ICAgICAgICBwcmludChcIm9yXCIpXG4gICAgMzVcdCAgICAgICAgcHJpbnQoZlwiICBwaXAgaW5zdGFsbCB7JyAnLmpvaW4obWlzc2luZ19wYWNrYWdlcyl9XCIpXG4gICAgMzZcdCAgICAgICAgcmV0dXJuIEZhbHNlXG4gICAgMzdcdFxuICAgIDM4XHQgICAgcmV0dXJuIFRydWVcbiAgICAzOVx0XG4gICAgNDBcdGRlZiBtYWluKCk6XG4gICAgNDFcdCAgICBcIlwiXCJSdW4gdGhlIEVFRyBNZXRyaWNzIFZpZXdlciBhcHBsaWNhdGlvbi5cIlwiXCJcbiAgICA0Mlx0ICAgICMgQ2hlY2sgZGVwZW5kZW5jaWVzIGZpcnN0XG4gICAgNDNcdCAgICBpZiBub3QgY2hlY2tfZGVwZW5kZW5jaWVzKCk6XG4gICAgNDRcdCAgICAgICAgc3lzLmV4aXQoMSlcbiAgICA0NVx0XG4gICAgNDZcdCAgICAjIEltcG9ydCBBcHAgb25seSBhZnRlciBjaGVja2luZyBkZXBlbmRlbmNpZXNcbiAgICA0N1x0ICAgIGZyb20gbWV0cmljc192aWV3ZXIgaW1wb3J0IEFwcFxuICAgIDQ4XHRcbiAgICA0OVx0ICAgICMgQ2hlY2sgaWYgYSBkYXRhYmFzZSBwYXRoIGlzIHByb3ZpZGVkIGFzIGEgY29tbWFuZC1saW5lIGFyZ3VtZW50XG4gICAgNTBcdCAgICBpZiBsZW4oc3lzLmFyZ3YpID4gMTpcbiAgICA1MVx0ICAgICAgICBkYl9wYXRoID0gc3lzLmFyZ3ZbMV1cbiAgICA1Mlx0ICAgIGVsc2U6XG4gICAgNTNcdCAgICAgICAgIyBEZWZhdWx0IGRhdGFiYXNlIHBhdGhcbiAgICA1NFx0ICAgICAgICBkYl9wYXRoID0gb3MucGF0aC5qb2luKG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmRpcm5hbWUob3MucGF0aC5hYnNwYXRoKF9fZmlsZV9fKSkpLFxuICAgIDU1XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImV4YW1wbGVcIiwgXCJFRUdBbmFseXplci5zcWxpdGVcIilcbiAgICA1Nlx0XG4gICAgNTdcdCAgICAjIEVuc3VyZSB0aGUgZGF0YWJhc2UgZmlsZSBleGlzdHNcbiAgICA1OFx0ICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhkYl9wYXRoKTpcbiAgICA1OVx0ICAgICAgICBwcmludChmXCJFcnJvcjogRGF0YWJhc2UgZmlsZSBub3QgZm91bmQgYXQge2RiX3BhdGh9XCIpXG4gICAgNjBcdCAgICAgICAgcHJpbnQoXCJQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIHBhdGggdG8gdGhlIEVFR0FuYWx5emVyLnNxbGl0ZSBkYXRhYmFzZS5cIilcbiAgICA2MVx0ICAgICAgICBzeXMuZXhpdCgxKVxuICAgIDYyXHRcbiAgICA2M1x0ICAgIHByaW50KGZcIlN0YXJ0aW5nIEVFRyBNZXRyaWNzIFZpZXdlciB3aXRoIGRhdGFiYXNlOiB7ZGJfcGF0aH1cIilcbiAgICA2NFx0XG4gICAgNjVcdCAgICAjIFN0YXJ0IHRoZSBhcHBsaWNhdGlvblxuICAgIDY2XHQgICAgYXBwID0gQXBwKGRiX3BhdGgpXG4gICAgNjdcdCAgICBhcHAubWFpbmxvb3AoKVxuICAgIDY4XHRcbiAgICA2OVx0aWYgX19uYW1lX18gPT0gXCJfX21haW5fX1wiOlxuICAgIDcwXHQgICAgbWFpbigpXG4gICAgNzFcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogNzFcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUM4YTREclZ2VHFaNGNwNnFOcnJQd24ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIiLCJmb2xkZXJSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjQsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIn19fV0sInJlc3BvbnNlX3RleHQiOiJCYXNlZCBvbiBteSBhbmFseXNpcyBvZiB0aGUgY29kZSwgSSBjYW4gcHJvdmlkZSB5b3Ugd2l0aCBhIGNvbXByZWhlbnNpdmUgb3ZlcnZpZXcgb2YgdGhlIGBAZ3VpYCBkaXJlY3RvcnkgYW5kIGhvdyBpdCB3b3JrczpcblxuIyMgT3ZlcnZpZXcgb2YgdGhlIEdVSSBDb21wb25lbnRzXG5cblRoZSBgQGd1aWAgZGlyZWN0b3J5IGNvbnRhaW5zIGEgbWV0cmljcyB2aWV3ZXIgYXBwbGljYXRpb24gZm9yIEVFRyAoRWxlY3Ryb2VuY2VwaGFsb2dyYW0pIGRhdGEgYW5hbHlzaXMuIFRoZSBtYWluIGNvbXBvbmVudHMgYXJlOlxuXG4jIyMgMS4gTWFpbiBBcHBsaWNhdGlvbiBTdHJ1Y3R1cmVcblxuVGhlIEdVSSBpcyBidWlsdCB1c2luZyBgY3VzdG9tdGtpbnRlcmAsIHdoaWNoIGlzIGEgbW9kZXJuLWxvb2tpbmcgZXh0ZW5zaW9uIG9mIHRoZSBzdGFuZGFyZCBUa2ludGVyIGxpYnJhcnkuIFRoZSBhcHBsaWNhdGlvbiBmb2xsb3dzIGEgbW9kdWxhciBkZXNpZ24gd2l0aCB0aGVzZSBrZXkgY29tcG9uZW50czpcblxuYGBgYHB5dGhvbiBwYXRoPWd1aS9tZXRyaWNzX3ZpZXdlci9hcHAucHkgbW9kZT1FWENFUlBUXG5jbGFzcyBBcHAoY3RrLkNUayk6XG4gICAgXCJcIlwiXG4gICAgTWFpbiBhcHBsaWNhdGlvbiBjbGFzcyBmb3IgdGhlIEVFRyBNZXRyaWNzIFZpZXdlci5cbiAgICBcIlwiXCJcbiAgICBcbiAgICBkZWYgX19pbml0X18oc2VsZiwgZGJfcGF0aDogc3RyKTpcbiAgICAgICAgIyBJbml0aWFsaXplIGRhdGFiYXNlIGhhbmRsZXJcbiAgICAgICAgc2VsZi5kYl9oYW5kbGVyID0gRGF0YWJhc2VIYW5kbGVyKGRiX3BhdGgpXG4gICAgICAgIFxuICAgICAgICAjIENyZWF0ZSBwbG90IGZyYW1lIHdpdGggbW9yZSBzcGFjZVxuICAgICAgICBzZWxmLnBsb3RfZnJhbWUgPSBNZXRyaWNzUGxvdEZyYW1lKHNlbGYsIHRpdGxlPVwiTWV0cmljcyBWaXN1YWxpemF0aW9uXCIpXG4gICAgICAgIFxuICAgICAgICAjIENyZWF0ZSBzZWxlY3Rpb24gZnJhbWUgd2l0aCBuYXJyb3dlciBmaXhlZCB3aWR0aFxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZSA9IFNlbGVjdGlvbkZyYW1lKHNlbGYsIHNlbGYuZGJfaGFuZGxlciwgc2VsZi5wbG90X2ZyYW1lLCB3aWR0aD0yNTApXG5gYGBgXG5cbiMjIyAyLiBEYXRhYmFzZSBIYW5kbGVyXG5cblRoZSBgRGF0YWJhc2VIYW5kbGVyYCBjbGFzcyBtYW5hZ2VzIGludGVyYWN0aW9ucyB3aXRoIGEgU1FMaXRlIGRhdGFiYXNlIGNvbnRhaW5pbmcgRUVHIG1ldHJpY3MgZGF0YTpcblxuYGBgYHB5dGhvbiBwYXRoPWd1aS9tZXRyaWNzX3ZpZXdlci9kYXRhYmFzZV9oYW5kbGVyLnB5IG1vZGU9RVhDRVJQVFxuY2xhc3MgRGF0YWJhc2VIYW5kbGVyOlxuICAgIFwiXCJcIlxuICAgIEhhbmRsZXMgaW50ZXJhY3Rpb25zIHdpdGggdGhlIFNRTGl0ZSBkYXRhYmFzZSBjb250YWluaW5nIEVFRyBtZXRyaWNzLlxuICAgIFwiXCJcIlxuICAgIFxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkYl9wYXRoOiBzdHIpOlxuICAgICAgICBzZWxmLmRiX3BhdGggPSBkYl9wYXRoXG4gICAgICAgIHNlbGYuZW5naW5lID0gQWxjaGVtaXN0LmluaXRpYWxpemVfdGFibGVzKGRiX3BhdGgpXG4gICAgICAgIHNlbGYuc2Vzc2lvbiA9IEFsY2hlbWlzdC5TZXNzaW9uKHNlbGYuZW5naW5lKVxuYGBgYFxuXG5LZXkgZnVuY3Rpb25hbGl0aWVzOlxuLSBSZXRyaWV2ZXMgZXhwZXJpbWVudHMsIEVFR3MsIGFuZCBtZXRyaWNzIGRhdGEgZnJvbSB0aGUgZGF0YWJhc2Vcbi0gUHJvdmlkZXMgbWV0aG9kcyB0byBnZXQgYXZhaWxhYmxlIG1ldHJpY3MgYW5kIGNoYW5uZWxzIGZvciB2aXN1YWxpemF0aW9uXG5cbiMjIyAzLiBQbG90IEZyYW1lXG5cblRoZSBgTWV0cmljc1Bsb3RGcmFtZWAgY2xhc3MgaGFuZGxlcyB0aGUgdmlzdWFsaXphdGlvbiBvZiBFRUcgbWV0cmljcyBkYXRhIHVzaW5nIE1hdHBsb3RsaWI6XG5cbmBgYGBweXRob24gcGF0aD1ndWkvbWV0cmljc192aWV3ZXIvcGxvdF9mcmFtZS5weSBtb2RlPUVYQ0VSUFRcbmNsYXNzIE1ldHJpY3NQbG90RnJhbWUoY3RrLkNUa0ZyYW1lKTpcbiAgICBcIlwiXCJcbiAgICBBIGZyYW1lIGNvbnRhaW5pbmcgYSBtYXRwbG90bGliIGZpZ3VyZSBmb3IgcGxvdHRpbmcgbWV0cmljcy5cbiAgICBcIlwiXCJcblxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBtYXN0ZXIsIHRpdGxlPVwiTWV0cmljcyBQbG90XCIsICoqa3dhcmdzKTpcbiAgICAgICAgIyBDcmVhdGUgbWF0cGxvdGxpYiBmaWd1cmUgd2l0aCBsYXJnZXIgc2l6ZVxuICAgICAgICBzZWxmLmZpZ3VyZSA9IEZpZ3VyZShmaWdzaXplPSgxMiwgNyksIGRwaT0xMDApXG4gICAgICAgIHNlbGYucGxvdCA9IHNlbGYuZmlndXJlLmFkZF9zdWJwbG90KDExMSlcbmBgYGBcblxuS2V5IGZlYXR1cmVzOlxuLSBEaXNwbGF5cyB0aW1lLXNlcmllcyBwbG90cyBvZiBFRUcgbWV0cmljc1xuLSBTdXBwb3J0cyBpbnRlcmFjdGl2ZSB6b29taW5nIHdpdGggbW91c2UgZHJhZ1xuLSBDYW4gc2hvdyBpbmRpdmlkdWFsIGNoYW5uZWxzIGFuZCBhZ2dyZWdhdGlvbnMgKG1lYW4sIG1lZGlhbiwgc3RhbmRhcmQgZGV2aWF0aW9uKVxuLSBBbGxvd3MgdGltZSB3aW5kb3cgZmlsdGVyaW5nXG5cbiMjIyA0LiBTZWxlY3Rpb24gRnJhbWVcblxuVGhlIGBTZWxlY3Rpb25GcmFtZWAgY2xhc3MgcHJvdmlkZXMgdGhlIFVJIGZvciBzZWxlY3RpbmcgZGF0YSB0byB2aXN1YWxpemU6XG5cbmBgYGBweXRob24gcGF0aD1ndWkvbWV0cmljc192aWV3ZXIvc2VsZWN0aW9uX2ZyYW1lLnB5IG1vZGU9RVhDRVJQVFxuY2xhc3MgU2VsZWN0aW9uRnJhbWUoY3RrLkNUa0ZyYW1lKTpcbiAgICBcIlwiXCJcbiAgICBBIGZyYW1lIGNvbnRhaW5pbmcgY29udHJvbHMgZm9yIHNlbGVjdGluZyBleHBlcmltZW50cywgRUVHcywgbWV0cmljcywgY2hhbm5lbHMsIGFuZCBvdGhlciBvcHRpb25zLlxuICAgIFwiXCJcIlxuICAgIFxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBtYXN0ZXIsIGRiX2hhbmRsZXI6IERhdGFiYXNlSGFuZGxlciwgcGxvdF9mcmFtZTogTWV0cmljc1Bsb3RGcmFtZSwgKiprd2FyZ3MpOlxuICAgICAgICBzZWxmLmRiX2hhbmRsZXIgPSBkYl9oYW5kbGVyXG4gICAgICAgIHNlbGYucGxvdF9mcmFtZSA9IHBsb3RfZnJhbWVcbmBgYGBcblxuS2V5IGNvbXBvbmVudHM6XG4tIERyb3Bkb3duIG1lbnVzIGZvciBzZWxlY3RpbmcgZXhwZXJpbWVudHMsIEVFR3MsIGFuZCBtZXRyaWNzXG4tIENoZWNrYm94ZXMgZm9yIHNlbGVjdGluZyBjaGFubmVscyB3aXRoIHNlYXJjaCBmdW5jdGlvbmFsaXR5XG4tIE9wdGlvbnMgZm9yIGFnZ3JlZ2F0aW9uIG1ldGhvZHMgKG1lYW4sIHN0YW5kYXJkIGRldmlhdGlvbiwgbWVkaWFuKVxuLSBUaW1lIHdpbmRvdyBzZWxlY3Rpb24gZm9yIGZvY3VzaW5nIG9uIHNwZWNpZmljIHRpbWUgcmFuZ2VzXG4tIEJ1dHRvbnMgZm9yIGNvbW1vbiBvcGVyYXRpb25zIChzZWxlY3QgYWxsIGNoYW5uZWxzLCByZXNldCB6b29tLCBldGMuKVxuXG4jIyMgNS4gVXRpbGl0aWVzXG5cblRoZSBgdXRpbHMucHlgIGZpbGUgY29udGFpbnMgY29uc3RhbnRzIGFuZCBoZWxwZXIgZnVuY3Rpb25zOlxuXG5gYGBgcHl0aG9uIHBhdGg9Z3VpL21ldHJpY3Nfdmlld2VyL3V0aWxzLnB5IG1vZGU9RVhDRVJQVFxuIyBDb21tb24gbWV0YWRhdGEgY29sdW1ucyB0aGF0IGFyZSBub3QgRUVHIGNoYW5uZWxzXG5NRVRBREFUQV9DT0xVTU5TID0gWydlZWdfaWQnLCAnbGFiZWwnLCAnc3RhcnREYXRhUmVjb3JkJywgJ2R1cmF0aW9uJywgJ21ldHJpYyddXG5cbiMgQWdncmVnYXRpb24gY29sb3JzIGFuZCBzdHlsZXNcbkFHR1JFR0FUSU9OX0NPTE9SUzogRGljdFtzdHIsIHN0cl0gPSB7XG4gICAgJ21lYW4nOiAncmVkJyxcbiAgICAnc3RkJzogJ3B1cnBsZScsXG4gICAgJ21lZGlhbic6ICdncmVlbidcbn1cbmBgYGBcblxuIyMjIDYuIEFwcGxpY2F0aW9uIEVudHJ5IFBvaW50XG5cblRoZSBgcnVuX21ldHJpY3Nfdmlld2VyLnB5YCBzY3JpcHQgc2VydmVzIGFzIHRoZSBlbnRyeSBwb2ludCBmb3IgdGhlIGFwcGxpY2F0aW9uOlxuXG5gYGBgcHl0aG9uIHBhdGg9Z3VpL3J1bl9tZXRyaWNzX3ZpZXdlci5weSBtb2RlPUVYQ0VSUFRcbmRlZiBtYWluKCk6XG4gICAgXCJcIlwiUnVuIHRoZSBFRUcgTWV0cmljcyBWaWV3ZXIgYXBwbGljYXRpb24uXCJcIlwiXG4gICAgIyBDaGVjayBkZXBlbmRlbmNpZXMgZmlyc3RcbiAgICBpZiBub3QgY2hlY2tfZGVwZW5kZW5jaWVzKCk6XG4gICAgICAgIHN5cy5leGl0KDEpXG5cbiAgICAjIEltcG9ydCBBcHAgb25seSBhZnRlciBjaGVja2luZyBkZXBlbmRlbmNpZXNcbiAgICBmcm9tIG1ldHJpY3Nfdmlld2VyIGltcG9ydCBBcHBcblxuICAgICMgQ2hlY2sgaWYgYSBkYXRhYmFzZSBwYXRoIGlzIHByb3ZpZGVkIGFzIGEgY29tbWFuZC1saW5lIGFyZ3VtZW50XG4gICAgaWYgbGVuKHN5cy5hcmd2KSA+IDE6XG4gICAgICAgIGRiX3BhdGggPSBzeXMuYXJndlsxXVxuICAgIGVsc2U6XG4gICAgICAgICMgRGVmYXVsdCBkYXRhYmFzZSBwYXRoXG4gICAgICAgIGRiX3BhdGggPSBvcy5wYXRoLmpvaW4ob3MucGF0aC5kaXJuYW1lKG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmFic3BhdGgoX19maWxlX18pKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImV4YW1wbGVcIiwgXCJFRUdBbmFseXplci5zcWxpdGVcIilcbmBgYGBcblxuIyMgSG93IHRoZSBBcHBsaWNhdGlvbiBXb3Jrc1xuXG4xLiAqKkluaXRpYWxpemF0aW9uKio6IFRoZSBhcHBsaWNhdGlvbiBzdGFydHMgYnkgaW5pdGlhbGl6aW5nIHRoZSBkYXRhYmFzZSBjb25uZWN0aW9uIGFuZCBjcmVhdGluZyB0aGUgbWFpbiBVSSBjb21wb25lbnRzLlxuXG4yLiAqKkRhdGEgRmxvdyoqOlxuICAgLSBUaGUgdXNlciBzZWxlY3RzIGFuIGV4cGVyaW1lbnQgZnJvbSB0aGUgZHJvcGRvd24gbWVudVxuICAgLSBUaGlzIHRyaWdnZXJzIGxvYWRpbmcgb2YgYXZhaWxhYmxlIEVFR3MgZm9yIHRoYXQgZXhwZXJpbWVudFxuICAgLSBXaGVuIGFuIEVFRyBpcyBzZWxlY3RlZCwgYXZhaWxhYmxlIG1ldHJpY3MgYW5kIGNoYW5uZWxzIGFyZSBsb2FkZWRcbiAgIC0gVGhlIHVzZXIgc2VsZWN0cyBtZXRyaWNzLCBjaGFubmVscywgYW5kIHZpc3VhbGl6YXRpb24gb3B0aW9uc1xuICAgLSBDbGlja2luZyBcIlVwZGF0ZSBQbG90XCIgcmV0cmlldmVzIHRoZSBkYXRhIGFuZCB1cGRhdGVzIHRoZSB2aXN1YWxpemF0aW9uXG5cbjMuICoqSW50ZXJhY3RpdmUgRmVhdHVyZXMqKjpcbiAgIC0gVXNlcnMgY2FuIHpvb20gaW4gb24gc3BlY2lmaWMgdGltZSByYW5nZXMgYnkgZHJhZ2dpbmcgb24gdGhlIHBsb3RcbiAgIC0gQ2hhbm5lbCBzZWxlY3Rpb24gaW5jbHVkZXMgc2VhcmNoIGZ1bmN0aW9uYWxpdHkgYW5kIHByZXNldCBvcHRpb25zXG4gICAtIEFnZ3JlZ2F0aW9uIG1ldGhvZHMgY2FuIGJlIGFwcGxpZWQgdG8gdmlzdWFsaXplIHRyZW5kcyBhY3Jvc3MgY2hhbm5lbHNcblxuNC4gKipEZXBlbmRlbmNpZXMqKjpcbiAgIC0gVGhlIGFwcGxpY2F0aW9uIHJlbGllcyBvbiBleHRlcm5hbCBsaWJyYXJpZXMgbGlrZSBjdXN0b210a2ludGVyLCBtYXRwbG90bGliLCBwYW5kYXMsIGFuZCBTUUxBbGNoZW15XG4gICAtIEl0IGludGVncmF0ZXMgd2l0aCBhbiBgT09QX0FuYWx5emVyYCBtb2R1bGUgKHNwZWNpZmljYWxseSB0aGUgYEFsY2hlbWlzdGAgY2xhc3MpIGZvciBkYXRhYmFzZSBvcGVyYXRpb25zXG5cblRoaXMgR1VJIHByb3ZpZGVzIGEgY29tcHJlaGVuc2l2ZSB0b29sIGZvciB2aXN1YWxpemluZyBhbmQgYW5hbHl6aW5nIEVFRyBtZXRyaWNzIGRhdGEgc3RvcmVkIGluIGEgU1FMaXRlIGRhdGFiYXNlLCB3aXRoIGEgZm9jdXMgb24gZmxleGliaWxpdHkgYW5kIHVzZXItZnJpZW5kbHkgaW50ZXJhY3Rpb24uXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiJlOTU4ZGUyMS0zZTRkLTQ0YWQtYThjMC0wZjliOTQzMmNkMGQiLCJzdGF0dXMiOiJjYW5jZWxsZWQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLXR1cm4tZGVsaW1pdGVyIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImRlMWNhM2Y4LTIzNzMtNDE4Mi04NjE3LTA5NzYwZTc2MjVhYiIsInJlcXVlc3RfbWVzc2FnZSI6Im9rLCBsZXRzIGNvbnRpbnVlIG9uIGl0cyBkZXZlbG9wbWVudC4gVGhlIG5leHQgZmVhdHVyZSB3ZSBpbXBsZW1lbnQgaXMgYSBidXR0b24gd2hpY2ggdXNlcyBtbmUgdG8gcmVuZGVyIHRoZSBlZWcgZmlsZSBmcm9tIHdoaWNoIHdlIGNyZWF0ZWQgdGhlIG1ldHJpY3MuIFRoZSBmaWxlIHNob3VsZCBhdXRvbWF0aWNhbGx5IGRpc3BsYXkgdGhlIGN1cnJlbnQgem9vbWVkIHNlY3Rpb24gb2YgdGhlIG1ldHJpY3Mgd2l0aGluIHRoZSBndWkiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0Ijoib2ssIGxldHMgY29udGludWUgb24gaXRzIGRldmVsb3BtZW50LiBUaGUgbmV4dCBmZWF0dXJlIHdlIGltcGxlbWVudCBpcyBhIGJ1dHRvbiB3aGljaCB1c2VzIG1uZSB0byByZW5kZXIgdGhlIGVlZyBmaWxlIGZyb20gd2hpY2ggd2UgY3JlYXRlZCB0aGUgbWV0cmljcy4gVGhlIGZpbGUgc2hvdWxkIGF1dG9tYXRpY2FsbHkgZGlzcGxheSB0aGUgY3VycmVudCB6b29tZWQgc2VjdGlvbiBvZiB0aGUgbWV0cmljcyB3aXRoaW4gdGhlIGd1aSJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxOHlHdkV5WGFta3ZRQnl5N3hTb3lBMyIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiU2VhcmNoIGZvciBhbnkgZXhpc3RpbmcgTU5FIGltcG9ydHMgb3IgdXNhZ2UgaW4gdGhlIGNvZGViYXNlLCBwYXJ0aWN1bGFybHkgaW4gcmVsYXRpb24gdG8gRUVHIGZpbGUgaGFuZGxpbmcgb3IgdmlzdWFsaXphdGlvbi5cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkknbGwgaGVscCB5b3UgaW1wbGVtZW50IGEgYnV0dG9uIHRoYXQgdXNlcyBNTkUgdG8gcmVuZGVyIHRoZSBFRUcgZmlsZSBmcm9tIHdoaWNoIHRoZSBtZXRyaWNzIHdlcmUgY3JlYXRlZCwgYW5kIGVuc3VyZSBpdCBkaXNwbGF5cyB0aGUgY3VycmVudCB6b29tZWQgc2VjdGlvbiBvZiB0aGUgbWV0cmljcy4gTGV0IG1lIGZpcnN0IGdhdGhlciBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY3VycmVudCBjb2RlYmFzZSBhbmQgTU5FIGludGVncmF0aW9uIHBvc3NpYmlsaXRpZXMuXG5cbiMjIFBsYW5uaW5nXG5cbkxldCBtZSBmaXJzdCBjaGVjayBpZiBNTkUgaXMgYWxyZWFkeSBiZWluZyB1c2VkIGluIHRoZSBjb2RlYmFzZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50Ijoib2ssIGxldHMgY29udGludWUgb24gaXRzIGRldmVsb3BtZW50LiBUaGUgbmV4dCBmZWF0dXJlIHdlIGltcGxlbWVudCBpcyBhIGJ1dHRvbiB3aGljaCB1c2VzIG1uZSB0byByZW5kZXIgdGhlIGVlZyBmaWxlIGZyb20gd2hpY2ggd2UgY3JlYXRlZCB0aGUgbWV0cmljcy4gVGhlIGZpbGUgc2hvdWxkIGF1dG9tYXRpY2FsbHkgZGlzcGxheSB0aGUgY3VycmVudCB6b29tZWQgc2VjdGlvbiBvZiB0aGUgbWV0cmljcyB3aXRoaW4gdGhlIGd1aSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciIsImZvbGRlclJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NCwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifX19XSwicmVzcG9uc2VfdGV4dCI6IkknbGwgaGVscCB5b3UgaW1wbGVtZW50IGEgYnV0dG9uIHRoYXQgdXNlcyBNTkUgdG8gcmVuZGVyIHRoZSBFRUcgZmlsZSBmcm9tIHdoaWNoIHRoZSBtZXRyaWNzIHdlcmUgY3JlYXRlZCwgYW5kIGVuc3VyZSBpdCBkaXNwbGF5cyB0aGUgY3VycmVudCB6b29tZWQgc2VjdGlvbiBvZiB0aGUgbWV0cmljcy4gTGV0IG1lIGZpcnN0IGdhdGhlciBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY3VycmVudCBjb2RlYmFzZSBhbmQgTU5FIGludGVncmF0aW9uIHBvc3NpYmlsaXRpZXMuXG5cbiMjIFBsYW5uaW5nXG5cbkxldCBtZSBmaXJzdCBjaGVjayBpZiBNTkUgaXMgYWxyZWFkeSBiZWluZyB1c2VkIGluIHRoZSBjb2RlYmFzZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI4OWYwYTRlMy0wYzZhLTQ3OGQtOTk4ZS02ZTQ2ZGU4YjI2MzQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFLNEdkRmJUVGh4RFlhOTZack53a3BkIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcImd1aS9pbnN0YWxsX2RlcGVuZGVuY2llcy5weVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0IG1lIGNoZWNrIGlmIE1ORSBpcyBsaXN0ZWQgYXMgYSBkZXBlbmRlbmN5OlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogZ3VpL21ldHJpY3Nfdmlld2VyL2FwcC5weVxuXCJcIlwiXG5NYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuXCJcIlwiXG5cbmltcG9ydCBvc1xuaW1wb3J0IHN5c1xuaW1wb3J0IGN1c3RvbXRraW50ZXIgYXMgY3RrXG5cbmZyb20gLmRhdGFiYXNlX2hhbmRsZXIgaW1wb3J0IERhdGFiYXNlSGFuZGxlclxuZnJvbSAucGxvdF9mcmFtZSBpbXBvcnQgTWV0cmljc1Bsb3RGcmFtZVxuZnJvbSAuc2VsZWN0aW9uX2ZyYW1lIGltcG9ydCBTZWxlY3Rpb25GcmFtZVxuXG5cbmNsYXNzIEFwcChjdGsuQ1RrKTpcbiAgICBcIlwiXCJcbiAgICBNYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgIFwiXCJcIlxuICAgIFxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkYl9wYXRoOiBzdHIpOlxuICAgICAgICBcIlwiXCJcbiAgICAgICAgSW5pdGlhbGl6ZSB0aGUgYXBwbGljYXRpb24uXG4gICAgICAgIFxuICAgICAgICBBcmdzOlxuICAgICAgICAgICAgZGJfcGF0aDogUGF0aCB0byB0aGUgU1FMaXRlIGRhdGFiYXNlIGZpbGVcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIHN1cGVyKCkuX19pbml0X18oKVxuICAgICAgICBcbiAgICAgICAgIyBDb25maWd1cmUgd2luZG93XG4gICAgICAgIHNlbGYudGl0bGUoXCJFRUcgTWV0cmljcyBWaWV3ZXJcIilcbiAgICAgICAgc2VsZi5nZW9tZXRyeShcIjE0MDB4ODAwXCIpICAjIExhcmdlciBkZWZhdWx0IHNpemVcbiAgICAgICAgXG4gICAgICAgICMgQ29uZmlndXJlIGdyaWQgbGF5b3V0IC0gZ2l2ZSBtdWNoIG1vcmUgc3BhY2UgdG8gdGhlIHBsb3RcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkgICAgIyBTZWxlY3Rpb24gcGFuZWxcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgxLCB3ZWlnaHQ9NSkgICAgIyBQbG90IGFyZWEgKHNpZ25pZmljYW50bHkgaW5jcmVhc2VkIHdlaWdodClcbiAgICAgICAgc2VsZi5ncmlkX3Jvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgICAgICAgXG4gICAgICAgICMgSW5pdGlhbGl6ZSBkYXRhYmFzZSBoYW5kbGVyXG4gICAgICAgIHNlbGYuZGJfaGFuZGxlciA9IERhdGFiYXNlSGFuZGxlcihkYl9wYXRoKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgcGxvdCBmcmFtZSB3aXRoIG1vcmUgc3BhY2VcbiAgICAgICAgc2VsZi5wbG90X2ZyYW1lID0gTWV0cmljc1Bsb3RGcmFtZShzZWxmLCB0aXRsZT1cIk1ldHJpY3MgVmlzdWFsaXphdGlvblwiKVxuICAgICAgICBzZWxmLnBsb3RfZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTEsIHBhZHg9KDAsIDEwKSwgcGFkeT0xMCwgc3RpY2t5PVwibnNld1wiKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgc2VsZWN0aW9uIGZyYW1lIHdpdGggbmFycm93ZXIgZml4ZWQgd2lkdGhcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUgPSBTZWxlY3Rpb25GcmFtZShzZWxmLCBzZWxmLmRiX2hhbmRsZXIsIHNlbGYucGxvdF9mcmFtZSwgd2lkdGg9MjUwKVxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZS5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTEwLCBzdGlja3k9XCJuc2V3XCIpXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lLmdyaWRfcHJvcGFnYXRlKEZhbHNlKSAgIyBQcmV2ZW50IHRoZSBmcmFtZSBmcm9tIHJlc2l6aW5nIGJhc2VkIG9uIGNvbnRlbnRcbi4uLlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxOHlHdkV5WGFta3ZRQnl5N3hTb3lBMyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciIsImZvbGRlclJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NCwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSBjaGVjayBpZiBNTkUgaXMgbGlzdGVkIGFzIGEgZGVwZW5kZW5jeTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJjODg0MWUwMS03MTk0LTRlMmQtODM1My03NjRmZDkwMGQ5YjkiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFEZEFvN0t4S01pRGg2eUpWZnpMUlI0IiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJTaG93IG1lIGhvdyBFRUcgZmlsZXMgYXJlIHJlZmVyZW5jZWQgaW4gdGhlIGRhdGFiYXNlLiBMb29rIGZvciBmaWxlcGF0aCBvciBmaWxlbmFtZSBmaWVsZHMgaW4gdGhlIGRhdGFiYXNlX2hhbmRsZXIucHkgb3IgcmVsYXRlZCBmaWxlcy5cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdywgbGV0IG1lIGNoZWNrIGhvdyB0aGUgRUVHIGZpbGVzIGFyZSByZWZlcmVuY2VkIGluIHRoZSBkYXRhYmFzZSB0byB1bmRlcnN0YW5kIGhvdyB0byBhY2Nlc3MgdGhlbTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gZ3VpL2luc3RhbGxfZGVwZW5kZW5jaWVzLnB5OlxuICAgICAxXHQjIS91c3IvYmluL2VudiBweXRob24zXG4gICAgIDJcdFwiXCJcIlxuICAgICAzXHRTY3JpcHQgdG8gaW5zdGFsbCB0aGUgcmVxdWlyZWQgZGVwZW5kZW5jaWVzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgICA0XHRcbiAgICAgNVx0VGhpcyBzY3JpcHQgY2hlY2tzIGlmIHRoZSByZXF1aXJlZCBwYWNrYWdlcyBhcmUgaW5zdGFsbGVkIGFuZCBpbnN0YWxscyB0aGVtIGlmIG5lZWRlZC5cbiAgICAgNlx0XCJcIlwiXG4gICAgIDdcdFxuICAgICA4XHRpbXBvcnQgc3lzXG4gICAgIDlcdGltcG9ydCBzdWJwcm9jZXNzXG4gICAgMTBcdGltcG9ydCBpbXBvcnRsaWIudXRpbFxuICAgIDExXHRcbiAgICAxMlx0ZGVmIGNoZWNrX3BhY2thZ2UocGFja2FnZV9uYW1lKTpcbiAgICAxM1x0ICAgIFwiXCJcIkNoZWNrIGlmIGEgcGFja2FnZSBpcyBpbnN0YWxsZWQuXCJcIlwiXG4gICAgMTRcdCAgICByZXR1cm4gaW1wb3J0bGliLnV0aWwuZmluZF9zcGVjKHBhY2thZ2VfbmFtZSkgaXMgbm90IE5vbmVcbiAgICAxNVx0XG4gICAgMTZcdGRlZiBpbnN0YWxsX3BhY2thZ2UocGFja2FnZV9uYW1lKTpcbiAgICAxN1x0ICAgIFwiXCJcIkluc3RhbGwgYSBwYWNrYWdlIHVzaW5nIHBpcC5cIlwiXCJcbiAgICAxOFx0ICAgIHByaW50KGZcIkluc3RhbGxpbmcge3BhY2thZ2VfbmFtZX0uLi5cIilcbiAgICAxOVx0ICAgIHN1YnByb2Nlc3MuY2hlY2tfY2FsbChbc3lzLmV4ZWN1dGFibGUsIFwiLW1cIiwgXCJwaXBcIiwgXCJpbnN0YWxsXCIsIHBhY2thZ2VfbmFtZV0pXG4gICAgMjBcdCAgICBwcmludChmXCJ7cGFja2FnZV9uYW1lfSBpbnN0YWxsZWQgc3VjY2Vzc2Z1bGx5LlwiKVxuICAgIDIxXHRcbiAgICAyMlx0ZGVmIG1haW4oKTpcbiAgICAyM1x0ICAgIFwiXCJcIkNoZWNrIGFuZCBpbnN0YWxsIHJlcXVpcmVkIHBhY2thZ2VzLlwiXCJcIlxuICAgIDI0XHQgICAgcmVxdWlyZWRfcGFja2FnZXMgPSBbXG4gICAgMjVcdCAgICAgICAgXCJjdXN0b210a2ludGVyXCIsXG4gICAgMjZcdCAgICAgICAgXCJtYXRwbG90bGliXCIsXG4gICAgMjdcdCAgICAgICAgXCJudW1weVwiLFxuICAgIDI4XHQgICAgICAgIFwicGFuZGFzXCIsXG4gICAgMjlcdCAgICAgICAgXCJzcWxhbGNoZW15XCJcbiAgICAzMFx0ICAgIF1cbiAgICAzMVx0ICAgIFxuICAgIDMyXHQgICAgbWlzc2luZ19wYWNrYWdlcyA9IFtdXG4gICAgMzNcdCAgICBcbiAgICAzNFx0ICAgICMgQ2hlY2sgd2hpY2ggcGFja2FnZXMgYXJlIG1pc3NpbmdcbiAgICAzNVx0ICAgIGZvciBwYWNrYWdlIGluIHJlcXVpcmVkX3BhY2thZ2VzOlxuICAgIDM2XHQgICAgICAgIGlmIG5vdCBjaGVja19wYWNrYWdlKHBhY2thZ2UpOlxuICAgIDM3XHQgICAgICAgICAgICBtaXNzaW5nX3BhY2thZ2VzLmFwcGVuZChwYWNrYWdlKVxuICAgIDM4XHQgICAgXG4gICAgMzlcdCAgICAjIEluc3RhbGwgbWlzc2luZyBwYWNrYWdlc1xuICAgIDQwXHQgICAgaWYgbWlzc2luZ19wYWNrYWdlczpcbiAgICA0MVx0ICAgICAgICBwcmludChmXCJUaGUgZm9sbG93aW5nIHBhY2thZ2VzIG5lZWQgdG8gYmUgaW5zdGFsbGVkOiB7JywgJy5qb2luKG1pc3NpbmdfcGFja2FnZXMpfVwiKVxuICAgIDQyXHQgICAgICAgIHRyeTpcbiAgICA0M1x0ICAgICAgICAgICAgZm9yIHBhY2thZ2UgaW4gbWlzc2luZ19wYWNrYWdlczpcbiAgICA0NFx0ICAgICAgICAgICAgICAgIGluc3RhbGxfcGFja2FnZShwYWNrYWdlKVxuICAgIDQ1XHQgICAgICAgICAgICBwcmludChcIkFsbCByZXF1aXJlZCBwYWNrYWdlcyBoYXZlIGJlZW4gaW5zdGFsbGVkLlwiKVxuICAgIDQ2XHQgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcbiAgICA0N1x0ICAgICAgICAgICAgcHJpbnQoZlwiRXJyb3IgaW5zdGFsbGluZyBwYWNrYWdlczoge2V9XCIpXG4gICAgNDhcdCAgICAgICAgICAgIHByaW50KFwiUGxlYXNlIGluc3RhbGwgdGhlIHJlcXVpcmVkIHBhY2thZ2VzIG1hbnVhbGx5OlwiKVxuICAgIDQ5XHQgICAgICAgICAgICBmb3IgcGFja2FnZSBpbiBtaXNzaW5nX3BhY2thZ2VzOlxuICAgIDUwXHQgICAgICAgICAgICAgICAgcHJpbnQoZlwiICBwaXAgaW5zdGFsbCB7cGFja2FnZX1cIilcbiAgICA1MVx0ICAgICAgICAgICAgc3lzLmV4aXQoMSlcbiAgICA1Mlx0ICAgIGVsc2U6XG4gICAgNTNcdCAgICAgICAgcHJpbnQoXCJBbGwgcmVxdWlyZWQgcGFja2FnZXMgYXJlIGFscmVhZHkgaW5zdGFsbGVkLlwiKVxuICAgIDU0XHRcbiAgICA1NVx0aWYgX19uYW1lX18gPT0gXCJfX21haW5fX1wiOlxuICAgIDU2XHQgICAgbWFpbigpXG4gICAgNTdcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogNTdcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUs0R2RGYlRUaHhEWWE5NlpyTndrcGQifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIiLCJmb2xkZXJSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjQsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIn19fV0sInJlc3BvbnNlX3RleHQiOiJOb3csIGxldCBtZSBjaGVjayBob3cgdGhlIEVFRyBmaWxlcyBhcmUgcmVmZXJlbmNlZCBpbiB0aGUgZGF0YWJhc2UgdG8gdW5kZXJzdGFuZCBob3cgdG8gYWNjZXNzIHRoZW06XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNDNjN2UyMzEtOTRkZS00ZjJkLWE1ZjktZWUyMTQ0ZjIzMjMwIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSzI5R1IyakNHSzJHRDVySEJFQmkzdiIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiU2hvdyBtZSB0aGUgZ2V0X2VlZ3NfZm9yX2V4cGVyaW1lbnQgbWV0aG9kIGluIHRoZSBEYXRhYmFzZUhhbmRsZXIgY2xhc3MgYW5kIGFueSBvdGhlciBtZXRob2RzIHRoYXQgcmV0cmlldmUgRUVHIGZpbGUgaW5mb3JtYXRpb24uXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQgbWUgbG9vayBhdCB0aGUgZGF0YWJhc2UgaGFuZGxlciBtb3JlIHNwZWNpZmljYWxseTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IGd1aS9tZXRyaWNzX3ZpZXdlci9hcHAucHlcblwiXCJcIlxuTWFpbiBhcHBsaWNhdGlvbiBjbGFzcyBmb3IgdGhlIEVFRyBNZXRyaWNzIFZpZXdlci5cblwiXCJcIlxuXG5pbXBvcnQgb3NcbmltcG9ydCBzeXNcbmltcG9ydCBjdXN0b210a2ludGVyIGFzIGN0a1xuXG5mcm9tIC5kYXRhYmFzZV9oYW5kbGVyIGltcG9ydCBEYXRhYmFzZUhhbmRsZXJcbmZyb20gLnBsb3RfZnJhbWUgaW1wb3J0IE1ldHJpY3NQbG90RnJhbWVcbmZyb20gLnNlbGVjdGlvbl9mcmFtZSBpbXBvcnQgU2VsZWN0aW9uRnJhbWVcblxuXG5jbGFzcyBBcHAoY3RrLkNUayk6XG4gICAgXCJcIlwiXG4gICAgTWFpbiBhcHBsaWNhdGlvbiBjbGFzcyBmb3IgdGhlIEVFRyBNZXRyaWNzIFZpZXdlci5cbiAgICBcIlwiXCJcbiAgICBcbiAgICBkZWYgX19pbml0X18oc2VsZiwgZGJfcGF0aDogc3RyKTpcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIEluaXRpYWxpemUgdGhlIGFwcGxpY2F0aW9uLlxuICAgICAgICBcbiAgICAgICAgQXJnczpcbiAgICAgICAgICAgIGRiX3BhdGg6IFBhdGggdG8gdGhlIFNRTGl0ZSBkYXRhYmFzZSBmaWxlXG4gICAgICAgIFwiXCJcIlxuICAgICAgICBzdXBlcigpLl9faW5pdF9fKClcbiAgICAgICAgXG4gICAgICAgICMgQ29uZmlndXJlIHdpbmRvd1xuICAgICAgICBzZWxmLnRpdGxlKFwiRUVHIE1ldHJpY3MgVmlld2VyXCIpXG4gICAgICAgIHNlbGYuZ2VvbWV0cnkoXCIxNDAweDgwMFwiKSAgIyBMYXJnZXIgZGVmYXVsdCBzaXplXG4gICAgICAgIFxuICAgICAgICAjIENvbmZpZ3VyZSBncmlkIGxheW91dCAtIGdpdmUgbXVjaCBtb3JlIHNwYWNlIHRvIHRoZSBwbG90XG4gICAgICAgIHNlbGYuZ3JpZF9jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpICAgICMgU2VsZWN0aW9uIHBhbmVsXG4gICAgICAgIHNlbGYuZ3JpZF9jb2x1bW5jb25maWd1cmUoMSwgd2VpZ2h0PTUpICAgICMgUGxvdCBhcmVhIChzaWduaWZpY2FudGx5IGluY3JlYXNlZCB3ZWlnaHQpXG4gICAgICAgIHNlbGYuZ3JpZF9yb3djb25maWd1cmUoMCwgd2VpZ2h0PTEpXG4gICAgICAgIFxuICAgICAgICAjIEluaXRpYWxpemUgZGF0YWJhc2UgaGFuZGxlclxuICAgICAgICBzZWxmLmRiX2hhbmRsZXIgPSBEYXRhYmFzZUhhbmRsZXIoZGJfcGF0aClcbiAgICAgICAgXG4gICAgICAgICMgQ3JlYXRlIHBsb3QgZnJhbWUgd2l0aCBtb3JlIHNwYWNlXG4gICAgICAgIHNlbGYucGxvdF9mcmFtZSA9IE1ldHJpY3NQbG90RnJhbWUoc2VsZiwgdGl0bGU9XCJNZXRyaWNzIFZpc3VhbGl6YXRpb25cIilcbiAgICAgICAgc2VsZi5wbG90X2ZyYW1lLmdyaWQocm93PTAsIGNvbHVtbj0xLCBwYWR4PSgwLCAxMCksIHBhZHk9MTAsIHN0aWNreT1cIm5zZXdcIilcbiAgICAgICAgXG4gICAgICAgICMgQ3JlYXRlIHNlbGVjdGlvbiBmcmFtZSB3aXRoIG5hcnJvd2VyIGZpeGVkIHdpZHRoXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lID0gU2VsZWN0aW9uRnJhbWUoc2VsZiwgc2VsZi5kYl9oYW5kbGVyLCBzZWxmLnBsb3RfZnJhbWUsIHdpZHRoPTI1MClcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0xMCwgc3RpY2t5PVwibnNld1wiKVxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZS5ncmlkX3Byb3BhZ2F0ZShGYWxzZSkgICMgUHJldmVudCB0aGUgZnJhbWUgZnJvbSByZXNpemluZyBiYXNlZCBvbiBjb250ZW50XG4uLi5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMURkQW83S3hLTWlEaDZ5SlZmekxSUjQifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIiLCJmb2xkZXJSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjQsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIn19fV0sInJlc3BvbnNlX3RleHQiOiJMZXQgbWUgbG9vayBhdCB0aGUgZGF0YWJhc2UgaGFuZGxlciBtb3JlIHNwZWNpZmljYWxseTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI5ZDBjNTgwMS04Y2QzLTRhZjktYjBkMC1mMDdlOWI5OGM2MzEiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFFV29XcFBjbVV6b1pVMmZIR3ZXSGl6IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcImd1aS9tZXRyaWNzX3ZpZXdlci9kYXRhYmFzZV9oYW5kbGVyLnB5XCIsIFwidmlld19yYW5nZVwiOiBbNTAsIDcwXX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSBsb29rIGF0IHRoZSBkYXRhYmFzZSBoYW5kbGVyIGRpcmVjdGx5OlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogZ3VpL21ldHJpY3Nfdmlld2VyL2FwcC5weVxuXCJcIlwiXG5NYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuXCJcIlwiXG5cbmltcG9ydCBvc1xuaW1wb3J0IHN5c1xuaW1wb3J0IGN1c3RvbXRraW50ZXIgYXMgY3RrXG5cbmZyb20gLmRhdGFiYXNlX2hhbmRsZXIgaW1wb3J0IERhdGFiYXNlSGFuZGxlclxuZnJvbSAucGxvdF9mcmFtZSBpbXBvcnQgTWV0cmljc1Bsb3RGcmFtZVxuZnJvbSAuc2VsZWN0aW9uX2ZyYW1lIGltcG9ydCBTZWxlY3Rpb25GcmFtZVxuXG5cbmNsYXNzIEFwcChjdGsuQ1RrKTpcbiAgICBcIlwiXCJcbiAgICBNYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgIFwiXCJcIlxuICAgIFxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkYl9wYXRoOiBzdHIpOlxuICAgICAgICBcIlwiXCJcbiAgICAgICAgSW5pdGlhbGl6ZSB0aGUgYXBwbGljYXRpb24uXG4gICAgICAgIFxuICAgICAgICBBcmdzOlxuICAgICAgICAgICAgZGJfcGF0aDogUGF0aCB0byB0aGUgU1FMaXRlIGRhdGFiYXNlIGZpbGVcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIHN1cGVyKCkuX19pbml0X18oKVxuICAgICAgICBcbiAgICAgICAgIyBDb25maWd1cmUgd2luZG93XG4gICAgICAgIHNlbGYudGl0bGUoXCJFRUcgTWV0cmljcyBWaWV3ZXJcIilcbiAgICAgICAgc2VsZi5nZW9tZXRyeShcIjE0MDB4ODAwXCIpICAjIExhcmdlciBkZWZhdWx0IHNpemVcbiAgICAgICAgXG4gICAgICAgICMgQ29uZmlndXJlIGdyaWQgbGF5b3V0IC0gZ2l2ZSBtdWNoIG1vcmUgc3BhY2UgdG8gdGhlIHBsb3RcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkgICAgIyBTZWxlY3Rpb24gcGFuZWxcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgxLCB3ZWlnaHQ9NSkgICAgIyBQbG90IGFyZWEgKHNpZ25pZmljYW50bHkgaW5jcmVhc2VkIHdlaWdodClcbiAgICAgICAgc2VsZi5ncmlkX3Jvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgICAgICAgXG4gICAgICAgICMgSW5pdGlhbGl6ZSBkYXRhYmFzZSBoYW5kbGVyXG4gICAgICAgIHNlbGYuZGJfaGFuZGxlciA9IERhdGFiYXNlSGFuZGxlcihkYl9wYXRoKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgcGxvdCBmcmFtZSB3aXRoIG1vcmUgc3BhY2VcbiAgICAgICAgc2VsZi5wbG90X2ZyYW1lID0gTWV0cmljc1Bsb3RGcmFtZShzZWxmLCB0aXRsZT1cIk1ldHJpY3MgVmlzdWFsaXphdGlvblwiKVxuICAgICAgICBzZWxmLnBsb3RfZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTEsIHBhZHg9KDAsIDEwKSwgcGFkeT0xMCwgc3RpY2t5PVwibnNld1wiKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgc2VsZWN0aW9uIGZyYW1lIHdpdGggbmFycm93ZXIgZml4ZWQgd2lkdGhcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUgPSBTZWxlY3Rpb25GcmFtZShzZWxmLCBzZWxmLmRiX2hhbmRsZXIsIHNlbGYucGxvdF9mcmFtZSwgd2lkdGg9MjUwKVxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZS5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTEwLCBzdGlja3k9XCJuc2V3XCIpXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lLmdyaWRfcHJvcGFnYXRlKEZhbHNlKSAgIyBQcmV2ZW50IHRoZSBmcmFtZSBmcm9tIHJlc2l6aW5nIGJhc2VkIG9uIGNvbnRlbnRcbi4uLlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSzI5R1IyakNHSzJHRDVySEJFQmkzdiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciIsImZvbGRlclJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NCwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSBsb29rIGF0IHRoZSBkYXRhYmFzZSBoYW5kbGVyIGRpcmVjdGx5OlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImQ0ZGQzZjQyLWNhYjEtNGRhZS04ODY3LWIzNGZkNTJhOWVhZSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMThGbXNwd0JHbUVWOUNTeUtudUc2RGEiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwiZ3VpL21ldHJpY3Nfdmlld2VyL3NlbGVjdGlvbl9mcmFtZS5weVwiLCBcInZpZXdfcmFuZ2VcIjogWzI4MCwgMzAwXX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkdyZWF0ISBJIGNhbiBzZWUgdGhhdCB0aGUgRUVHIGZpbGVzIGhhdmUgYm90aCBhIGZpbGVuYW1lIGFuZCBmaWxlcGF0aCBzdG9yZWQgaW4gdGhlIGRhdGFiYXNlLiBOb3cgbGV0J3MgY2hlY2sgaG93IHRoZSBzZWxlY3Rpb24gZnJhbWUgaXMgc3RydWN0dXJlZCB0byB1bmRlcnN0YW5kIHdoZXJlIHRvIGFkZCBvdXIgbmV3IGJ1dHRvbjpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gZ3VpL21ldHJpY3Nfdmlld2VyL2RhdGFiYXNlX2hhbmRsZXIucHk6XG4gICAgNTBcdCAgICBcbiAgICA1MVx0ICAgIGRlZiBnZXRfZWVnc19mb3JfZXhwZXJpbWVudChzZWxmLCBleHBlcmltZW50X2lkOiBzdHIpIC0+IExpc3RbRGljdFtzdHIsIEFueV1dOlxuICAgIDUyXHQgICAgICAgIFwiXCJcIlxuICAgIDUzXHQgICAgICAgIEdldCBhbGwgRUVHcyBhc3NvY2lhdGVkIHdpdGggYSBzcGVjaWZpYyBleHBlcmltZW50LlxuICAgIDU0XHQgICAgICAgIFxuICAgIDU1XHQgICAgICAgIEFyZ3M6XG4gICAgNTZcdCAgICAgICAgICAgIGV4cGVyaW1lbnRfaWQ6IElEIG9mIHRoZSBleHBlcmltZW50XG4gICAgNTdcdCAgICAgICAgICAgIFxuICAgIDU4XHQgICAgICAgIFJldHVybnM6XG4gICAgNTlcdCAgICAgICAgICAgIExpc3Qgb2YgZGljdGlvbmFyaWVzIGNvbnRhaW5pbmcgRUVHIGluZm9ybWF0aW9uXG4gICAgNjBcdCAgICAgICAgXCJcIlwiXG4gICAgNjFcdCAgICAgICAgZXhwZXJpbWVudCA9IHNlbGYuc2Vzc2lvbi5nZXQoQWxjaGVtaXN0LkV4cGVyaW1lbnQsIGV4cGVyaW1lbnRfaWQpXG4gICAgNjJcdCAgICAgICAgaWYgbm90IGV4cGVyaW1lbnQ6XG4gICAgNjNcdCAgICAgICAgICAgIHJldHVybiBbXVxuICAgIDY0XHQgICAgICAgIFxuICAgIDY1XHQgICAgICAgIHJldHVybiBbeydpZCc6IGVlZy5pZCwgJ2ZpbGVuYW1lJzogZWVnLmZpbGVuYW1lLCAnZmlsZXBhdGgnOiBlZWcuZmlsZXBhdGh9IGZvciBlZWcgaW4gZXhwZXJpbWVudC5lZWdzXVxuICAgIDY2XHQgICAgXG4gICAgNjdcdCAgICBkZWYgZ2V0X21ldHJpY3NfZGF0YShzZWxmLCBleHBlcmltZW50X2lkOiBzdHIsIGVlZ19pZDogc3RyKSAtPiBwZC5EYXRhRnJhbWU6XG4gICAgNjhcdCAgICAgICAgXCJcIlwiXG4gICAgNjlcdCAgICAgICAgR2V0IG1ldHJpY3MgZGF0YSBmb3IgYSBzcGVjaWZpYyBleHBlcmltZW50IGFuZCBFRUcuXG4gICAgNzBcdCAgICAgICAgXG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAxMjZcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUVXb1dwUGNtVXpvWlUyZkhHdldIaXoifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIiLCJmb2xkZXJSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjQsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIn19fV0sInJlc3BvbnNlX3RleHQiOiJHcmVhdCEgSSBjYW4gc2VlIHRoYXQgdGhlIEVFRyBmaWxlcyBoYXZlIGJvdGggYSBmaWxlbmFtZSBhbmQgZmlsZXBhdGggc3RvcmVkIGluIHRoZSBkYXRhYmFzZS4gTm93IGxldCdzIGNoZWNrIGhvdyB0aGUgc2VsZWN0aW9uIGZyYW1lIGlzIHN0cnVjdHVyZWQgdG8gdW5kZXJzdGFuZCB3aGVyZSB0byBhZGQgb3VyIG5ldyBidXR0b246XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZmVmM2Y2NzMtODBjYy00NjRiLWFmZDItMjRkY2U2ZGY2YTAxIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNktZUnJHYkRIZmhtY1JVY0NuN2lROCIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiU2hvdyBtZSBob3cgdGhlIGN1cnJlbnQgRUVHIGZpbGUgaXMgc3RvcmVkIG9yIHJlZmVyZW5jZWQgaW4gdGhlIFNlbGVjdGlvbkZyYW1lIGNsYXNzLiBMb29rIGZvciB2YXJpYWJsZXMgbGlrZSBjdXJyZW50X2VlZ19pZCwgc2VsZWN0ZWRfZWVnLCBvciBzaW1pbGFyLlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93LCBsZXQncyBjaGVjayBpZiB3ZSBoYXZlIGFjY2VzcyB0byB0aGUgY3VycmVudCBFRUcgZmlsZSBpbmZvcm1hdGlvbiBpbiB0aGUgc2VsZWN0aW9uIGZyYW1lOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBndWkvbWV0cmljc192aWV3ZXIvc2VsZWN0aW9uX2ZyYW1lLnB5OlxuICAgMjgwXHQgICAgICAgICMgUmVzZXQgem9vbSBidXR0b25cbiAgIDI4MVx0ICAgICAgICBzZWxmLnJlc2V0X3pvb21fYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgIDI4Mlx0ICAgICAgICAgICAgc2VsZiwgXG4gICAyODNcdCAgICAgICAgICAgIHRleHQ9XCJSZXNldCBab29tXCIsIFxuICAgMjg0XHQgICAgICAgICAgICBjb21tYW5kPXNlbGYucmVzZXRfdGltZV93aW5kb3csXG4gICAyODVcdCAgICAgICAgICAgIGhlaWdodD0yNSxcbiAgIDI4Nlx0ICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250XG4gICAyODdcdCAgICAgICAgKVxuICAgMjg4XHQgICAgICAgIHNlbGYucmVzZXRfem9vbV9idXR0b24uZ3JpZChyb3c9NywgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0oNSwgMCksIHN0aWNreT1cImV3XCIpXG4gICAyODlcdCAgICAgICAgXG4gICAyOTBcdCAgICAgICAgIyBVcGRhdGUgYnV0dG9uIC0gbW9yZSBjb21wYWN0XG4gICAyOTFcdCAgICAgICAgc2VsZi51cGRhdGVfYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgIDI5Mlx0ICAgICAgICAgICAgc2VsZiwgXG4gICAyOTNcdCAgICAgICAgICAgIHRleHQ9XCJVcGRhdGUgUGxvdFwiLCBcbiAgIDI5NFx0ICAgICAgICAgICAgY29tbWFuZD1zZWxmLnVwZGF0ZV9wbG90LFxuICAgMjk1XHQgICAgICAgICAgICBoZWlnaHQ9MzAsXG4gICAyOTZcdCAgICAgICAgICAgIGZvbnQ9Z2V0X2J1dHRvbl9mb250KClcbiAgIDI5N1x0ICAgICAgICApXG4gICAyOThcdCAgICAgICAgc2VsZi51cGRhdGVfYnV0dG9uLmdyaWQocm93PTcsIGNvbHVtbj0xLCBwYWR4PTUsIHBhZHk9KDUsIDgpLCBzdGlja3k9XCJld1wiKVxuICAgMjk5XHQgICAgICAgIFxuICAgMzAwXHQgICAgICAgICMgSW5pdGlhbGl6ZSB3aXRoIHRoZSBmaXJzdCBleHBlcmltZW50IGlmIGF2YWlsYWJsZVxuVG90YWwgbGluZXMgaW4gZmlsZTogNjI1XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE4Rm1zcHdCR21FVjlDU3lLbnVHNkRhIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIiwiZm9sZGVyUm9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo0LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiTm93LCBsZXQncyBjaGVjayBpZiB3ZSBoYXZlIGFjY2VzcyB0byB0aGUgY3VycmVudCBFRUcgZmlsZSBpbmZvcm1hdGlvbiBpbiB0aGUgc2VsZWN0aW9uIGZyYW1lOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjllODU4NTEyLTY2NzQtNDVjOC1hZjg3LTdkZTZjOWQ5MjcyYSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTNGb0tieVBzWGNrTmVUeFYzTEZDcTgiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwiZ3VpL21ldHJpY3Nfdmlld2VyL3NlbGVjdGlvbl9mcmFtZS5weVwiLCBcInZpZXdfcmFuZ2VcIjogWzMzNiwgMzU2XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSBsb29rIGF0IHRoZSBzZWxlY3Rpb24gZnJhbWUncyBvbl9lZWdfc2VsZWN0ZWQgbWV0aG9kOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogZ3VpL21ldHJpY3Nfdmlld2VyL2FwcC5weVxuXCJcIlwiXG5NYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuXCJcIlwiXG5cbmltcG9ydCBvc1xuaW1wb3J0IHN5c1xuaW1wb3J0IGN1c3RvbXRraW50ZXIgYXMgY3RrXG5cbmZyb20gLmRhdGFiYXNlX2hhbmRsZXIgaW1wb3J0IERhdGFiYXNlSGFuZGxlclxuZnJvbSAucGxvdF9mcmFtZSBpbXBvcnQgTWV0cmljc1Bsb3RGcmFtZVxuZnJvbSAuc2VsZWN0aW9uX2ZyYW1lIGltcG9ydCBTZWxlY3Rpb25GcmFtZVxuXG5cbmNsYXNzIEFwcChjdGsuQ1RrKTpcbiAgICBcIlwiXCJcbiAgICBNYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgIFwiXCJcIlxuICAgIFxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkYl9wYXRoOiBzdHIpOlxuICAgICAgICBcIlwiXCJcbiAgICAgICAgSW5pdGlhbGl6ZSB0aGUgYXBwbGljYXRpb24uXG4gICAgICAgIFxuICAgICAgICBBcmdzOlxuICAgICAgICAgICAgZGJfcGF0aDogUGF0aCB0byB0aGUgU1FMaXRlIGRhdGFiYXNlIGZpbGVcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIHN1cGVyKCkuX19pbml0X18oKVxuICAgICAgICBcbiAgICAgICAgIyBDb25maWd1cmUgd2luZG93XG4gICAgICAgIHNlbGYudGl0bGUoXCJFRUcgTWV0cmljcyBWaWV3ZXJcIilcbiAgICAgICAgc2VsZi5nZW9tZXRyeShcIjE0MDB4ODAwXCIpICAjIExhcmdlciBkZWZhdWx0IHNpemVcbiAgICAgICAgXG4gICAgICAgICMgQ29uZmlndXJlIGdyaWQgbGF5b3V0IC0gZ2l2ZSBtdWNoIG1vcmUgc3BhY2UgdG8gdGhlIHBsb3RcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkgICAgIyBTZWxlY3Rpb24gcGFuZWxcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgxLCB3ZWlnaHQ9NSkgICAgIyBQbG90IGFyZWEgKHNpZ25pZmljYW50bHkgaW5jcmVhc2VkIHdlaWdodClcbiAgICAgICAgc2VsZi5ncmlkX3Jvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgICAgICAgXG4gICAgICAgICMgSW5pdGlhbGl6ZSBkYXRhYmFzZSBoYW5kbGVyXG4gICAgICAgIHNlbGYuZGJfaGFuZGxlciA9IERhdGFiYXNlSGFuZGxlcihkYl9wYXRoKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgcGxvdCBmcmFtZSB3aXRoIG1vcmUgc3BhY2VcbiAgICAgICAgc2VsZi5wbG90X2ZyYW1lID0gTWV0cmljc1Bsb3RGcmFtZShzZWxmLCB0aXRsZT1cIk1ldHJpY3MgVmlzdWFsaXphdGlvblwiKVxuICAgICAgICBzZWxmLnBsb3RfZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTEsIHBhZHg9KDAsIDEwKSwgcGFkeT0xMCwgc3RpY2t5PVwibnNld1wiKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgc2VsZWN0aW9uIGZyYW1lIHdpdGggbmFycm93ZXIgZml4ZWQgd2lkdGhcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUgPSBTZWxlY3Rpb25GcmFtZShzZWxmLCBzZWxmLmRiX2hhbmRsZXIsIHNlbGYucGxvdF9mcmFtZSwgd2lkdGg9MjUwKVxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZS5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTEwLCBzdGlja3k9XCJuc2V3XCIpXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lLmdyaWRfcHJvcGFnYXRlKEZhbHNlKSAgIyBQcmV2ZW50IHRoZSBmcmFtZSBmcm9tIHJlc2l6aW5nIGJhc2VkIG9uIGNvbnRlbnRcbi4uLlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNktZUnJHYkRIZmhtY1JVY0NuN2lROCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciIsImZvbGRlclJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NCwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSBsb29rIGF0IHRoZSBzZWxlY3Rpb24gZnJhbWUncyBvbl9lZWdfc2VsZWN0ZWQgbWV0aG9kOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImQxNGZkYmY1LTFjYWEtNDIzNC1hMDU4LTQ5NzA4NTNiNDU2NyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMU1ZZVlOTEJHU0sxNHdud0xCR3JCZjciLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwiZ3VpL21ldHJpY3Nfdmlld2VyL3NlbGVjdGlvbl9mcmFtZS5weVwiLCBcInZpZXdfcmFuZ2VcIjogWzU2MCwgNTgwXX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSBhbHNvIGNoZWNrIGhvdyB0aGUgdGltZSB3aW5kb3cgaXMgaGFuZGxlZDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gZ3VpL21ldHJpY3Nfdmlld2VyL3NlbGVjdGlvbl9mcmFtZS5weTpcbiAgIDMzNlx0ICAgIGRlZiBvbl9lZWdfc2VsZWN0ZWQoc2VsZiwgc2VsZWN0aW9uOiBzdHIpOlxuICAgMzM3XHQgICAgICAgIFwiXCJcIlxuICAgMzM4XHQgICAgICAgIEhhbmRsZSBFRUcgc2VsZWN0aW9uIGNoYW5nZS5cbiAgIDMzOVx0ICAgICAgICBcbiAgIDM0MFx0ICAgICAgICBBcmdzOlxuICAgMzQxXHQgICAgICAgICAgICBzZWxlY3Rpb246IFNlbGVjdGVkIEVFRyBuYW1lXG4gICAzNDJcdCAgICAgICAgXCJcIlwiXG4gICAzNDNcdCAgICAgICAgIyBGaW5kIHRoZSBzZWxlY3RlZCBFRUdcbiAgIDM0NFx0ICAgICAgICBzZWxlY3RlZF9lZWcgPSBOb25lXG4gICAzNDVcdCAgICAgICAgZm9yIGVlZyBpbiBzZWxmLmVlZ3M6XG4gICAzNDZcdCAgICAgICAgICAgIGlmIGVlZ1snZmlsZW5hbWUnXSA9PSBzZWxlY3Rpb246XG4gICAzNDdcdCAgICAgICAgICAgICAgICBzZWxlY3RlZF9lZWcgPSBlZWdcbiAgIDM0OFx0ICAgICAgICAgICAgICAgIGJyZWFrXG4gICAzNDlcdCAgICAgICAgXG4gICAzNTBcdCAgICAgICAgaWYgbm90IHNlbGVjdGVkX2VlZzpcbiAgIDM1MVx0ICAgICAgICAgICAgcmV0dXJuXG4gICAzNTJcdCAgICAgICAgXG4gICAzNTNcdCAgICAgICAgIyBVcGRhdGUgbWV0cmljcyBkcm9wZG93blxuICAgMzU0XHQgICAgICAgIHNlbGYuY3VycmVudF9lZWdfaWQgPSBzZWxlY3RlZF9lZWdbJ2lkJ11cbiAgIDM1NVx0ICAgICAgICBzZWxmLnVwZGF0ZV9tZXRyaWNzX2Ryb3Bkb3duKClcbiAgIDM1Nlx0ICAgICAgICBzZWxmLnVwZGF0ZV9jaGFubmVsc19jaGVja2JveGVzKClcblRvdGFsIGxpbmVzIGluIGZpbGU6IDYyNVxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxM0ZvS2J5UHNYY2tOZVR4VjNMRkNxOCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciIsImZvbGRlclJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NCwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSBhbHNvIGNoZWNrIGhvdyB0aGUgdGltZSB3aW5kb3cgaXMgaGFuZGxlZDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIxZDNjMjQzZC04MjYwLTRlNWEtYmJmZi02MGEwYWUzNDIxNjEiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFLeU04TDh0bVlGVGVSa0FIdUpqcTFuIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcImd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHlcIiwgXCJ2aWV3X3JhbmdlXCI6IFs1ODAsIDYwMF19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIGd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHk6XG4gICA1NjBcdCAgICBkZWYgdXBkYXRlX3Bsb3Qoc2VsZik6XG4gICA1NjFcdCAgICAgICAgXCJcIlwiVXBkYXRlIHRoZSBwbG90IHdpdGggdGhlIHNlbGVjdGVkIG1ldHJpYyBhbmQgY2hhbm5lbHMuXCJcIlwiXG4gICA1NjJcdCAgICAgICAgaWYgbm90IGhhc2F0dHIoc2VsZiwgJ2N1cnJlbnRfZXhwZXJpbWVudF9pZCcpIG9yIG5vdCBoYXNhdHRyKHNlbGYsICdjdXJyZW50X2VlZ19pZCcpIG9yIG5vdCBzZWxmLmN1cnJlbnRfbWV0cmljOlxuICAgNTYzXHQgICAgICAgICAgICByZXR1cm5cbiAgIDU2NFx0ICAgICAgICBcbiAgIDU2NVx0ICAgICAgICAjIEdldCBzZWxlY3RlZCBjaGFubmVsc1xuICAgNTY2XHQgICAgICAgIHNlbGVjdGVkX2NoYW5uZWxzID0gW2NoYW5uZWwgZm9yIGNoYW5uZWwsIHZhciBpbiBzZWxmLmNoYW5uZWxfdmFycy5pdGVtcygpIGlmIHZhci5nZXQoKV1cbiAgIDU2N1x0ICAgICAgICBcbiAgIDU2OFx0ICAgICAgICAjIEdldCBzZWxlY3RlZCBhZ2dyZWdhdGlvbiBtZXRob2RzXG4gICA1NjlcdCAgICAgICAgc2VsZWN0ZWRfYWdncmVnYXRpb25zID0gW2FnZyBmb3IgYWdnLCB2YXIgaW4gc2VsZi5hZ2dyZWdhdGlvbl92YXJzLml0ZW1zKCkgaWYgdmFyLmdldCgpXVxuICAgNTcwXHQgICAgICAgIFxuICAgNTcxXHQgICAgICAgICMgQ2hlY2sgaWYgd2Ugc2hvdWxkIHNob3cgb25seSBhZ2dyZWdhdGlvbnNcbiAgIDU3Mlx0ICAgICAgICBhZ2dyZWdhdGlvbl9vbmx5ID0gc2VsZi5hZ2dyZWdhdGlvbl9vbmx5X3Zhci5nZXQoKVxuICAgNTczXHQgICAgICAgIFxuICAgNTc0XHQgICAgICAgICMgQ2hlY2sgaWYgd2UgaGF2ZSB2YWxpZCBzZWxlY3Rpb25zXG4gICA1NzVcdCAgICAgICAgaWYgKG5vdCBzZWxlY3RlZF9jaGFubmVscyBhbmQgbm90IHNlbGVjdGVkX2FnZ3JlZ2F0aW9ucykgb3IgXFxcbiAgIDU3Nlx0ICAgICAgICAgICAoYWdncmVnYXRpb25fb25seSBhbmQgbm90IHNlbGVjdGVkX2FnZ3JlZ2F0aW9ucyk6XG4gICA1NzdcdCAgICAgICAgICAgIHNlbGYucGxvdF9mcmFtZS51cGRhdGVfcGxvdChOb25lLCBOb25lLCBOb25lLCBcIk5vIGNoYW5uZWxzIG9yIGFnZ3JlZ2F0aW9ucyBzZWxlY3RlZFwiKVxuICAgNTc4XHQgICAgICAgICAgICByZXR1cm5cbiAgIDU3OVx0ICAgICAgICBcbiAgIDU4MFx0ICAgICAgICAjIEdldCBkYXRhIGZvciB0aGUgc2VsZWN0ZWQgZXhwZXJpbWVudCBhbmQgRUVHXG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA2MjVcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMU1ZZVlOTEJHU0sxNHdud0xCR3JCZjcifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIiLCJmb2xkZXJSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjQsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIn19fV0sInJlc3BvbnNlX3RleHQiOiIiLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMjQ5OTEzZmEtYWMwZS00NWI4LWFiMjMtZDZmNjBmMjQ1YjIxIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQ3NSOEtlN2NmNDNhYW1yOGdSaHJxaiIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwiZ3VpL2luc3RhbGxfZGVwZW5kZW5jaWVzLnB5XCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIiAgICByZXF1aXJlZF9wYWNrYWdlcyA9IFtcXG4gICAgICAgIFxcXCJjdXN0b210a2ludGVyXFxcIixcXG4gICAgICAgIFxcXCJtYXRwbG90bGliXFxcIixcXG4gICAgICAgIFxcXCJudW1weVxcXCIsXFxuICAgICAgICBcXFwicGFuZGFzXFxcIixcXG4gICAgICAgIFxcXCJzcWxhbGNoZW15XFxcIlxcbiAgICBdXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAyNCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAzMCwgXCJuZXdfc3RyXCI6IFwiICAgIHJlcXVpcmVkX3BhY2thZ2VzID0gW1xcbiAgICAgICAgXFxcImN1c3RvbXRraW50ZXJcXFwiLFxcbiAgICAgICAgXFxcIm1hdHBsb3RsaWJcXFwiLFxcbiAgICAgICAgXFxcIm51bXB5XFxcIixcXG4gICAgICAgIFxcXCJwYW5kYXNcXFwiLFxcbiAgICAgICAgXFxcInNxbGFsY2hlbXlcXFwiLFxcbiAgICAgICAgXFxcIm1uZVxcXCJcXG4gICAgXVwifV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgSSBoYXZlIGEgZ29vZCB1bmRlcnN0YW5kaW5nIG9mIHRoZSBjb2RlYmFzZS4gTGV0J3MgY3JlYXRlIGEgZGV0YWlsZWQgcGxhbiBmb3IgaW1wbGVtZW50aW5nIHRoZSBNTkUgRUVHIHZpZXdlciBidXR0b246XG5cbiMjIERldGFpbGVkIEltcGxlbWVudGF0aW9uIFBsYW5cblxuMS4gKipBZGQgTU5FIGFzIGEgZGVwZW5kZW5jeSoqXG4gICAtIFVwZGF0ZSBgaW5zdGFsbF9kZXBlbmRlbmNpZXMucHlgIHRvIGluY2x1ZGUgTU5FXG5cbjIuICoqQ3JlYXRlIGFuIEVFRyBWaWV3ZXIgRnVuY3Rpb24qKlxuICAgLSBDcmVhdGUgYSBuZXcgbWV0aG9kIGluIHRoZSBgU2VsZWN0aW9uRnJhbWVgIGNsYXNzIHRvIGhhbmRsZSBvcGVuaW5nIHRoZSBFRUcgZmlsZSB3aXRoIE1ORVxuICAgLSBUaGlzIG1ldGhvZCB3aWxsOlxuICAgICAtIEdldCB0aGUgY3VycmVudCBFRUcgZmlsZSBwYXRoIGZyb20gdGhlIGRhdGFiYXNlXG4gICAgIC0gTG9hZCB0aGUgRUVHIGZpbGUgdXNpbmcgTU5FXG4gICAgIC0gR2V0IHRoZSBjdXJyZW50IHRpbWUgd2luZG93IGZyb20gdGhlIHNlbGVjdGlvbiBmcmFtZVxuICAgICAtIERpc3BsYXkgdGhlIEVFRyBkYXRhIGluIGEgbmV3IHdpbmRvdywgZm9jdXNlZCBvbiB0aGUgc2VsZWN0ZWQgdGltZSB3aW5kb3dcblxuMy4gKipBZGQgYSBcIlZpZXcgRUVHXCIgQnV0dG9uKipcbiAgIC0gQWRkIGEgbmV3IGJ1dHRvbiB0byB0aGUgc2VsZWN0aW9uIGZyYW1lIFVJXG4gICAtIFBvc2l0aW9uIGl0IG5lYXIgdGhlIFwiUmVzZXQgWm9vbVwiIGFuZCBcIlVwZGF0ZSBQbG90XCIgYnV0dG9uc1xuICAgLSBDb25uZWN0IGl0IHRvIHRoZSBuZXcgRUVHIHZpZXdlciBtZXRob2RcblxuTGV0J3Mgc3RhcnQgaW1wbGVtZW50aW5nIHRoZXNlIGNoYW5nZXM6XG5cbiMjIyAxLiBBZGQgTU5FIGFzIGEgZGVwZW5kZW5jeVxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBndWkvbWV0cmljc192aWV3ZXIvc2VsZWN0aW9uX2ZyYW1lLnB5OlxuICAgNTgwXHQgICAgICAgICMgR2V0IGRhdGEgZm9yIHRoZSBzZWxlY3RlZCBleHBlcmltZW50IGFuZCBFRUdcbiAgIDU4MVx0ICAgICAgICBkZiA9IHNlbGYuZGJfaGFuZGxlci5nZXRfbWV0cmljc19kYXRhKHNlbGYuY3VycmVudF9leHBlcmltZW50X2lkLCBzZWxmLmN1cnJlbnRfZWVnX2lkKVxuICAgNTgyXHQgICAgICAgIFxuICAgNTgzXHQgICAgICAgIGlmIGRmLmVtcHR5OlxuICAgNTg0XHQgICAgICAgICAgICBzZWxmLnBsb3RfZnJhbWUudXBkYXRlX3Bsb3QoTm9uZSwgTm9uZSwgTm9uZSwgXCJObyBkYXRhIGF2YWlsYWJsZVwiKVxuICAgNTg1XHQgICAgICAgICAgICByZXR1cm5cbiAgIDU4Nlx0ICAgICAgICBcbiAgIDU4N1x0ICAgICAgICAjIEdldCB0aW1lIHdpbmRvdyB2YWx1ZXNcbiAgIDU4OFx0ICAgICAgICB0cnk6XG4gICA1ODlcdCAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBmbG9hdChzZWxmLnN0YXJ0X3RpbWVfdmFyLmdldCgpKSBpZiBzZWxmLnN0YXJ0X3RpbWVfdmFyLmdldCgpIGVsc2UgTm9uZVxuICAgNTkwXHQgICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOlxuICAgNTkxXHQgICAgICAgICAgICBzdGFydF90aW1lID0gTm9uZVxuICAgNTkyXHQgICAgICAgICAgICBzZWxmLnN0YXJ0X3RpbWVfdmFyLnNldChcIjBcIilcbiAgIDU5M1x0ICAgICAgICBcbiAgIDU5NFx0ICAgICAgICB0cnk6XG4gICA1OTVcdCAgICAgICAgICAgIGVuZF90aW1lID0gZmxvYXQoc2VsZi5lbmRfdGltZV92YXIuZ2V0KCkpIGlmIHNlbGYuZW5kX3RpbWVfdmFyLmdldCgpIGVsc2UgTm9uZVxuICAgNTk2XHQgICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOlxuICAgNTk3XHQgICAgICAgICAgICBlbmRfdGltZSA9IE5vbmVcbiAgIDU5OFx0ICAgICAgICAgICAgc2VsZi5lbmRfdGltZV92YXIuc2V0KFwiXCIpXG4gICA1OTlcdCAgICAgICAgXG4gICA2MDBcdCAgICAgICAgIyBVcGRhdGUgdGhlIHBsb3RcblRvdGFsIGxpbmVzIGluIGZpbGU6IDYyNVxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxS3lNOEw4dG1ZRlRlUmtBSHVKanExbiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciIsImZvbGRlclJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NCwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifX19XSwicmVzcG9uc2VfdGV4dCI6Ik5vdyBJIGhhdmUgYSBnb29kIHVuZGVyc3RhbmRpbmcgb2YgdGhlIGNvZGViYXNlLiBMZXQncyBjcmVhdGUgYSBkZXRhaWxlZCBwbGFuIGZvciBpbXBsZW1lbnRpbmcgdGhlIE1ORSBFRUcgdmlld2VyIGJ1dHRvbjpcblxuIyMgRGV0YWlsZWQgSW1wbGVtZW50YXRpb24gUGxhblxuXG4xLiAqKkFkZCBNTkUgYXMgYSBkZXBlbmRlbmN5KipcbiAgIC0gVXBkYXRlIGBpbnN0YWxsX2RlcGVuZGVuY2llcy5weWAgdG8gaW5jbHVkZSBNTkVcblxuMi4gKipDcmVhdGUgYW4gRUVHIFZpZXdlciBGdW5jdGlvbioqXG4gICAtIENyZWF0ZSBhIG5ldyBtZXRob2QgaW4gdGhlIGBTZWxlY3Rpb25GcmFtZWAgY2xhc3MgdG8gaGFuZGxlIG9wZW5pbmcgdGhlIEVFRyBmaWxlIHdpdGggTU5FXG4gICAtIFRoaXMgbWV0aG9kIHdpbGw6XG4gICAgIC0gR2V0IHRoZSBjdXJyZW50IEVFRyBmaWxlIHBhdGggZnJvbSB0aGUgZGF0YWJhc2VcbiAgICAgLSBMb2FkIHRoZSBFRUcgZmlsZSB1c2luZyBNTkVcbiAgICAgLSBHZXQgdGhlIGN1cnJlbnQgdGltZSB3aW5kb3cgZnJvbSB0aGUgc2VsZWN0aW9uIGZyYW1lXG4gICAgIC0gRGlzcGxheSB0aGUgRUVHIGRhdGEgaW4gYSBuZXcgd2luZG93LCBmb2N1c2VkIG9uIHRoZSBzZWxlY3RlZCB0aW1lIHdpbmRvd1xuXG4zLiAqKkFkZCBhIFwiVmlldyBFRUdcIiBCdXR0b24qKlxuICAgLSBBZGQgYSBuZXcgYnV0dG9uIHRvIHRoZSBzZWxlY3Rpb24gZnJhbWUgVUlcbiAgIC0gUG9zaXRpb24gaXQgbmVhciB0aGUgXCJSZXNldCBab29tXCIgYW5kIFwiVXBkYXRlIFBsb3RcIiBidXR0b25zXG4gICAtIENvbm5lY3QgaXQgdG8gdGhlIG5ldyBFRUcgdmlld2VyIG1ldGhvZFxuXG5MZXQncyBzdGFydCBpbXBsZW1lbnRpbmcgdGhlc2UgY2hhbmdlczpcblxuIyMjIDEuIEFkZCBNTkUgYXMgYSBkZXBlbmRlbmN5XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMjQyYTMzOGMtMTYyYi00ZWJiLWExZjktOTkxYzYzNWEzOGYzIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxTjhENFNzQmJjam80Z1F4a3NrRGZidCIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwiZ3VpL3J1bl9tZXRyaWNzX3ZpZXdlci5weVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgXFxcIkNoZWNrIGlmIGFsbCByZXF1aXJlZCBkZXBlbmRlbmNpZXMgYXJlIGluc3RhbGxlZC5cXFwiXFxcIlxcXCJcXG4gICAgcmVxdWlyZWRfcGFja2FnZXMgPSBbXFxcImN1c3RvbXRraW50ZXJcXFwiLCBcXFwibWF0cGxvdGxpYlxcXCIsIFxcXCJudW1weVxcXCIsIFxcXCJwYW5kYXNcXFwiLCBcXFwic3FsYWxjaGVteVxcXCJdXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAyMCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAyMSwgXCJuZXdfc3RyXCI6IFwiICAgIFxcXCJDaGVjayBpZiBhbGwgcmVxdWlyZWQgZGVwZW5kZW5jaWVzIGFyZSBpbnN0YWxsZWQuXFxcIlxcXCJcXFwiXFxuICAgIHJlcXVpcmVkX3BhY2thZ2VzID0gW1xcXCJjdXN0b210a2ludGVyXFxcIiwgXFxcIm1hdHBsb3RsaWJcXFwiLCBcXFwibnVtcHlcXFwiLCBcXFwicGFuZGFzXFxcIiwgXFxcInNxbGFsY2hlbXlcXFwiLCBcXFwibW5lXFxcIl1cIn1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIyMjIDIuIFVwZGF0ZSBydW5fbWV0cmljc192aWV3ZXIucHkgdG8gY2hlY2sgZm9yIE1ORVxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBndWkvaW5zdGFsbF9kZXBlbmRlbmNpZXMucHkuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAyMFx0ICAgIHByaW50KGZcIntwYWNrYWdlX25hbWV9IGluc3RhbGxlZCBzdWNjZXNzZnVsbHkuXCIpXG4gICAgMjFcdFxuICAgIDIyXHRkZWYgbWFpbigpOlxuICAgIDIzXHQgICAgXCJcIlwiQ2hlY2sgYW5kIGluc3RhbGwgcmVxdWlyZWQgcGFja2FnZXMuXCJcIlwiXG4gICAgMjRcdCAgICByZXF1aXJlZF9wYWNrYWdlcyA9IFtcbiAgICAyNVx0ICAgICAgICBcImN1c3RvbXRraW50ZXJcIixcbiAgICAyNlx0ICAgICAgICBcIm1hdHBsb3RsaWJcIixcbiAgICAyN1x0ICAgICAgICBcIm51bXB5XCIsXG4gICAgMjhcdCAgICAgICAgXCJwYW5kYXNcIixcbiAgICAyOVx0ICAgICAgICBcInNxbGFsY2hlbXlcIixcbiAgICAzMFx0ICAgICAgICBcIm1uZVwiXG4gICAgMzFcdCAgICBdXG4gICAgMzJcdFxuICAgIDMzXHQgICAgbWlzc2luZ19wYWNrYWdlcyA9IFtdXG4gICAgMzRcdFxuICAgIDM1XHQgICAgIyBDaGVjayB3aGljaCBwYWNrYWdlcyBhcmUgbWlzc2luZ1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFDc1I4S2U3Y2Y0M2FhbXI4Z1JocnFqIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIiwiZm9sZGVyUm9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo0LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiIyMjIDIuIFVwZGF0ZSBydW5fbWV0cmljc192aWV3ZXIucHkgdG8gY2hlY2sgZm9yIE1ORVxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImNhYTJjZTQyLWMyM2QtNDgwYi1hYjMyLTQwZDY2NWViMGQ1YSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTdScW4yVFlOZHk2OXpDU3Q2b1dta0EiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcImd1aS9ydW5fbWV0cmljc192aWV3ZXIucHlcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgIHJlcXVpcmVkX3BhY2thZ2VzID0gW1xcXCJjdXN0b210a2ludGVyXFxcIiwgXFxcIm1hdHBsb3RsaWJcXFwiLCBcXFwibnVtcHlcXFwiLCBcXFwicGFuZGFzXFxcIiwgXFxcInNxbGFsY2hlbXlcXFwiXVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMjEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMjEsIFwibmV3X3N0clwiOiBcIiAgICByZXF1aXJlZF9wYWNrYWdlcyA9IFtcXFwiY3VzdG9tdGtpbnRlclxcXCIsIFxcXCJtYXRwbG90bGliXFxcIiwgXFxcIm51bXB5XFxcIiwgXFxcInBhbmRhc1xcXCIsIFxcXCJzcWxhbGNoZW15XFxcIiwgXFxcIm1uZVxcXCJdXCJ9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSBmaXggdGhhdDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZhaWxlZCB0byBlZGl0IHRoZSBmaWxlIGd1aS9ydW5fbWV0cmljc192aWV3ZXIucHkuIFNlZSBiZWxvdyBmb3IgZGV0YWlscy5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcbk5vIHJlcGxhY2VtZW50IHdhcyBwZXJmb3JtZWQsIG9sZFN0ciBkaWQgbm90IGFwcGVhciB2ZXJiYXRpbSBpbiBndWkvcnVuX21ldHJpY3Nfdmlld2VyLnB5LlxuVGhlIGNvbnRlbnQgaW4gdGhlIHNwZWNpZmllZCByZWdpb24gaXM6XG4gICAgMTZcdGltcG9ydCBzeXNcbiAgICAxN1x0aW1wb3J0IGltcG9ydGxpYi51dGlsXG4gICAgMThcdFxuICAgIDE5XHRkZWYgY2hlY2tfZGVwZW5kZW5jaWVzKCk6XG4gICAgMjBcdCAgICBcIlwiXCJDaGVjayBpZiBhbGwgcmVxdWlyZWQgZGVwZW5kZW5jaWVzIGFyZSBpbnN0YWxsZWQuXCJcIlwiXG4gICAgMjFcdCAgICByZXF1aXJlZF9wYWNrYWdlcyA9IFtcImN1c3RvbXRraW50ZXJcIiwgXCJtYXRwbG90bGliXCIsIFwibnVtcHlcIiwgXCJwYW5kYXNcIiwgXCJzcWxhbGNoZW15XCJdXG4gICAgMjJcdCAgICBtaXNzaW5nX3BhY2thZ2VzID0gW11cbiAgICAyM1x0XG4gICAgMjRcdCAgICBmb3IgcGFja2FnZSBpbiByZXF1aXJlZF9wYWNrYWdlczpcbiAgICAyNVx0ICAgICAgICBpZiBpbXBvcnRsaWIudXRpbC5maW5kX3NwZWMocGFja2FnZSkgaXMgTm9uZTpcblxuRGlmZiBiZXR3ZWVuIG9sZFN0ciBhbmQgdGhlIHNwZWNpZmllZCByZWdpb24gaXM6XG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4tLS0gb2xkU3RyXG4rKysgcmVnaW9uQ29udGVudFxuQEAgLTEsMiArMSwyIEBAXG4tICAgIFwiQ2hlY2sgaWYgYWxsIHJlcXVpcmVkIGRlcGVuZGVuY2llcyBhcmUgaW5zdGFsbGVkLlwiXCJcIlxuKyAgICBcIlwiXCJDaGVjayBpZiBhbGwgcmVxdWlyZWQgZGVwZW5kZW5jaWVzIGFyZSBpbnN0YWxsZWQuXCJcIlwiXG4gICAgIHJlcXVpcmVkX3BhY2thZ2VzID0gW1wiY3VzdG9tdGtpbnRlclwiLCBcIm1hdHBsb3RsaWJcIiwgXCJudW1weVwiLCBcInBhbmRhc1wiLCBcInNxbGFsY2hlbXlcIl1cblxuXG5GaXggZmFpbGVkIHN0cl9yZXBsYWNlX2VudHJpZXMgYWNjb3JkaW5nbHkgYW5kIHRyeSBhZ2Fpbi5cbiIsImlzX2Vycm9yIjp0cnVlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxTjhENFNzQmJjam80Z1F4a3NrRGZidCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciIsImZvbGRlclJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NCwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSBmaXggdGhhdDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIxY2I5OGMxYi0wMTYwLTQ4ZWQtYTc3YS00MWYwMTQ5N2IxNmEiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFLRkZVcksya3JlN3p5NmdmeDlVU2NQIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJndWkvbWV0cmljc192aWV3ZXIvc2VsZWN0aW9uX2ZyYW1lLnB5XCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcImZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBEaWN0LCBUdXBsZSwgT3B0aW9uYWwsIEFueSwgQ2FsbGFibGVcXG5pbXBvcnQgY3VzdG9tdGtpbnRlciBhcyBjdGtcXG5cXG5mcm9tIC5kYXRhYmFzZV9oYW5kbGVyIGltcG9ydCBEYXRhYmFzZUhhbmRsZXJcXG5mcm9tIC5wbG90X2ZyYW1lIGltcG9ydCBNZXRyaWNzUGxvdEZyYW1lXFxuZnJvbSAudXRpbHMgaW1wb3J0IChcXG4gICAgZ2V0X2xhYmVsX2ZvbnQsIFxcbiAgICBnZXRfZHJvcGRvd25fZm9udCwgXFxuICAgIGdldF9idXR0b25fZm9udCxcXG4gICAgQ09NTU9OX0NIQU5ORUxTLFxcbiAgICBBTFRFUk5BVElWRV9DSEFOTkVMX05BTUVTXFxuKVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogOCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAxOSwgXCJuZXdfc3RyXCI6IFwiZnJvbSB0eXBpbmcgaW1wb3J0IExpc3QsIERpY3QsIFR1cGxlLCBPcHRpb25hbCwgQW55LCBDYWxsYWJsZVxcbmltcG9ydCBvc1xcbmltcG9ydCBjdXN0b210a2ludGVyIGFzIGN0a1xcbmltcG9ydCB0a2ludGVyIGFzIHRrXFxuZnJvbSB0a2ludGVyIGltcG9ydCBtZXNzYWdlYm94XFxuaW1wb3J0IG1uZVxcbmltcG9ydCBudW1weSBhcyBucFxcblxcbmZyb20gLmRhdGFiYXNlX2hhbmRsZXIgaW1wb3J0IERhdGFiYXNlSGFuZGxlclxcbmZyb20gLnBsb3RfZnJhbWUgaW1wb3J0IE1ldHJpY3NQbG90RnJhbWVcXG5mcm9tIC51dGlscyBpbXBvcnQgKFxcbiAgICBnZXRfbGFiZWxfZm9udCwgXFxuICAgIGdldF9kcm9wZG93bl9mb250LCBcXG4gICAgZ2V0X2J1dHRvbl9mb250LFxcbiAgICBDT01NT05fQ0hBTk5FTFMsXFxuICAgIEFMVEVSTkFUSVZFX0NIQU5ORUxfTkFNRVNcXG4pXCJ9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIyAzLiBDcmVhdGUgYSBuZXcgRUVHIHZpZXdlciBtZXRob2QgaW4gdGhlIFNlbGVjdGlvbkZyYW1lIGNsYXNzXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIGd1aS9ydW5fbWV0cmljc192aWV3ZXIucHkuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAxN1x0aW1wb3J0IGltcG9ydGxpYi51dGlsXG4gICAgMThcdFxuICAgIDE5XHRkZWYgY2hlY2tfZGVwZW5kZW5jaWVzKCk6XG4gICAgMjBcdCAgICBcIlwiXCJDaGVjayBpZiBhbGwgcmVxdWlyZWQgZGVwZW5kZW5jaWVzIGFyZSBpbnN0YWxsZWQuXCJcIlwiXG4gICAgMjFcdCAgICByZXF1aXJlZF9wYWNrYWdlcyA9IFtcImN1c3RvbXRraW50ZXJcIiwgXCJtYXRwbG90bGliXCIsIFwibnVtcHlcIiwgXCJwYW5kYXNcIiwgXCJzcWxhbGNoZW15XCIsIFwibW5lXCJdXG4gICAgMjJcdCAgICBtaXNzaW5nX3BhY2thZ2VzID0gW11cbiAgICAyM1x0XG4gICAgMjRcdCAgICBmb3IgcGFja2FnZSBpbiByZXF1aXJlZF9wYWNrYWdlczpcbiAgICAyNVx0ICAgICAgICBpZiBpbXBvcnRsaWIudXRpbC5maW5kX3NwZWMocGFja2FnZSkgaXMgTm9uZTpcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxN1JxbjJUWU5keTY5ekNTdDZvV21rQSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciIsImZvbGRlclJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NCwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifX19XSwicmVzcG9uc2VfdGV4dCI6IiMjIyAzLiBDcmVhdGUgYSBuZXcgRUVHIHZpZXdlciBtZXRob2QgaW4gdGhlIFNlbGVjdGlvbkZyYW1lIGNsYXNzXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNDExMDI1ZTMtMzlkMi00OGE4LTllZDEtNzQzNWRmNjk2MTBjIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNUtUU2F3emMzeFdhUURZQktNNWRNYiIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwiZ3VpL21ldHJpY3Nfdmlld2VyL3NlbGVjdGlvbl9mcmFtZS5weVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgZGVmIHVwZGF0ZV9wbG90KHNlbGYpOlxcbiAgICAgICAgXFxcIlxcXCJcXFwiVXBkYXRlIHRoZSBwbG90IHdpdGggdGhlIHNlbGVjdGVkIG1ldHJpYyBhbmQgY2hhbm5lbHMuXFxcIlxcXCJcXFwiXFxuICAgICAgICBpZiBub3QgaGFzYXR0cihzZWxmLCAnY3VycmVudF9leHBlcmltZW50X2lkJykgb3Igbm90IGhhc2F0dHIoc2VsZiwgJ2N1cnJlbnRfZWVnX2lkJykgb3Igbm90IHNlbGYuY3VycmVudF9tZXRyaWM6XFxuICAgICAgICAgICAgcmV0dXJuXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA1NjAsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogNTYzLCBcIm5ld19zdHJcIjogXCIgICAgZGVmIHZpZXdfZWVnKHNlbGYpOlxcbiAgICAgICAgXFxcIlxcXCJcXFwiT3BlbiB0aGUgY3VycmVudCBFRUcgZmlsZSB3aXRoIE1ORSBhbmQgZGlzcGxheSBpdCBpbiBhIG5ldyB3aW5kb3cuXFxcIlxcXCJcXFwiXFxuICAgICAgICBpZiBub3QgaGFzYXR0cihzZWxmLCAnY3VycmVudF9leHBlcmltZW50X2lkJykgb3Igbm90IGhhc2F0dHIoc2VsZiwgJ2N1cnJlbnRfZWVnX2lkJyk6XFxuICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93aW5mbyhcXFwiTm8gRUVHIFNlbGVjdGVkXFxcIiwgXFxcIlBsZWFzZSBzZWxlY3QgYW4gZXhwZXJpbWVudCBhbmQgRUVHIGZpbGUgZmlyc3QuXFxcIilcXG4gICAgICAgICAgICByZXR1cm5cXG4gICAgICAgIFxcbiAgICAgICAgIyBGaW5kIHRoZSBzZWxlY3RlZCBFRUcgdG8gZ2V0IGl0cyBmaWxlcGF0aFxcbiAgICAgICAgc2VsZWN0ZWRfZWVnID0gTm9uZVxcbiAgICAgICAgZm9yIGVlZyBpbiBzZWxmLmVlZ3M6XFxuICAgICAgICAgICAgaWYgZWVnWydpZCddID09IHNlbGYuY3VycmVudF9lZWdfaWQ6XFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkX2VlZyA9IGVlZ1xcbiAgICAgICAgICAgICAgICBicmVha1xcbiAgICAgICAgXFxuICAgICAgICBpZiBub3Qgc2VsZWN0ZWRfZWVnIG9yIG5vdCBzZWxlY3RlZF9lZWcuZ2V0KCdmaWxlcGF0aCcpOlxcbiAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKFxcXCJFcnJvclxcXCIsIFxcXCJDb3VsZCBub3QgZmluZCB0aGUgRUVHIGZpbGUgcGF0aC5cXFwiKVxcbiAgICAgICAgICAgIHJldHVyblxcbiAgICAgICAgXFxuICAgICAgICBlZWdfZmlsZXBhdGggPSBzZWxlY3RlZF9lZWdbJ2ZpbGVwYXRoJ11cXG4gICAgICAgIFxcbiAgICAgICAgIyBDaGVjayBpZiB0aGUgZmlsZSBleGlzdHNcXG4gICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhlZWdfZmlsZXBhdGgpOlxcbiAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKFxcXCJGaWxlIE5vdCBGb3VuZFxcXCIsIGZcXFwiVGhlIEVFRyBmaWxlIHdhcyBub3QgZm91bmQgYXQ6XFxcXG57ZWVnX2ZpbGVwYXRofVxcXCIpXFxuICAgICAgICAgICAgcmV0dXJuXFxuICAgICAgICBcXG4gICAgICAgICMgR2V0IHRoZSBjdXJyZW50IHRpbWUgd2luZG93XFxuICAgICAgICB0cnk6XFxuICAgICAgICAgICAgc3RhcnRfdGltZSA9IGZsb2F0KHNlbGYuc3RhcnRfdGltZV92YXIuZ2V0KCkpIGlmIHNlbGYuc3RhcnRfdGltZV92YXIuZ2V0KCkgZWxzZSBOb25lXFxuICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjpcXG4gICAgICAgICAgICBzdGFydF90aW1lID0gTm9uZVxcbiAgICAgICAgXFxuICAgICAgICB0cnk6XFxuICAgICAgICAgICAgZW5kX3RpbWUgPSBmbG9hdChzZWxmLmVuZF90aW1lX3Zhci5nZXQoKSkgaWYgc2VsZi5lbmRfdGltZV92YXIuZ2V0KCkgZWxzZSBOb25lXFxuICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjpcXG4gICAgICAgICAgICBlbmRfdGltZSA9IE5vbmVcXG4gICAgICAgIFxcbiAgICAgICAgIyBUcnkgdG8gbG9hZCB0aGUgRUVHIGZpbGUgd2l0aCBNTkVcXG4gICAgICAgIHRyeTpcXG4gICAgICAgICAgICAjIFNob3cgYSBsb2FkaW5nIG1lc3NhZ2VcXG4gICAgICAgICAgICBzZWxmLmxvYWRpbmdfd2luZG93ID0gdGsuVG9wbGV2ZWwoc2VsZilcXG4gICAgICAgICAgICBzZWxmLmxvYWRpbmdfd2luZG93LnRpdGxlKFxcXCJMb2FkaW5nIEVFR1xcXCIpXFxuICAgICAgICAgICAgc2VsZi5sb2FkaW5nX3dpbmRvdy5nZW9tZXRyeShcXFwiMzAweDEwMFxcXCIpXFxuICAgICAgICAgICAgc2VsZi5sb2FkaW5nX3dpbmRvdy50cmFuc2llbnQoc2VsZi5tYXN0ZXIpXFxuICAgICAgICAgICAgc2VsZi5sb2FkaW5nX3dpbmRvdy5ncmFiX3NldCgpXFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgbG9hZGluZ19sYWJlbCA9IHRrLkxhYmVsKHNlbGYubG9hZGluZ193aW5kb3csIHRleHQ9XFxcIkxvYWRpbmcgRUVHIGZpbGUuLi5cXFxcblRoaXMgbWF5IHRha2UgYSBtb21lbnQuXFxcIilcXG4gICAgICAgICAgICBsb2FkaW5nX2xhYmVsLnBhY2soZXhwYW5kPVRydWUsIGZpbGw9dGsuQk9USCwgcGFkeD0yMCwgcGFkeT0yMClcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBzZWxmLmxvYWRpbmdfd2luZG93LnVwZGF0ZSgpXFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgIyBMb2FkIHRoZSBFRUcgZmlsZVxcbiAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3JhdyhlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICAjIENsb3NlIHRoZSBsb2FkaW5nIHdpbmRvd1xcbiAgICAgICAgICAgIHNlbGYubG9hZGluZ193aW5kb3cuZGVzdHJveSgpXFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgIyBTZXQgdGhlIHRpbWUgd2luZG93IGlmIHNwZWNpZmllZFxcbiAgICAgICAgICAgIGlmIHN0YXJ0X3RpbWUgaXMgbm90IE5vbmUgYW5kIGVuZF90aW1lIGlzIG5vdCBOb25lOlxcbiAgICAgICAgICAgICAgICAjIENvbnZlcnQgZnJvbSBzZWNvbmRzIHRvIHBvaW50cyBpZiBuZWVkZWRcXG4gICAgICAgICAgICAgICAgc3RhcnRfaWR4ID0gbWF4KDAsIGludChzdGFydF90aW1lICogcmF3LmluZm9bJ3NmcmVxJ10pKVxcbiAgICAgICAgICAgICAgICBlbmRfaWR4ID0gbWluKGxlbihyYXcudGltZXMpLCBpbnQoZW5kX3RpbWUgKiByYXcuaW5mb1snc2ZyZXEnXSkpXFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAjIENyZWF0ZSBhIHBsb3Qgd2l0aCB0aGUgc3BlY2lmaWVkIHRpbWUgd2luZG93XFxuICAgICAgICAgICAgICAgIGZpZyA9IHJhdy5wbG90KHN0YXJ0PXN0YXJ0X2lkeCwgZHVyYXRpb249KGVuZF9pZHgtc3RhcnRfaWR4KS9yYXcuaW5mb1snc2ZyZXEnXSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsaW5ncz0nYXV0bycsIGJsb2NrPUZhbHNlLCBzaG93PUZhbHNlKVxcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgIyBTZXQgdGhlIHdpbmRvdyB0aXRsZSB0byBpbmNsdWRlIHRoZSBFRUcgZmlsZW5hbWVcXG4gICAgICAgICAgICAgICAgZmlnLmNhbnZhcy5tYW5hZ2VyLnNldF93aW5kb3dfdGl0bGUoZlxcXCJNTkUgRUVHIFZpZXdlciAtIHtzZWxlY3RlZF9lZWdbJ2ZpbGVuYW1lJ119XFxcIilcXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICMgU2hvdyB0aGUgcGxvdFxcbiAgICAgICAgICAgICAgICBmaWcuc2hvdygpXFxuICAgICAgICAgICAgZWxzZTpcXG4gICAgICAgICAgICAgICAgIyBKdXN0IHNob3cgdGhlIHdob2xlIEVFR1xcbiAgICAgICAgICAgICAgICBmaWcgPSByYXcucGxvdChzY2FsaW5ncz0nYXV0bycsIGJsb2NrPUZhbHNlLCBzaG93PUZhbHNlKVxcbiAgICAgICAgICAgICAgICBmaWcuY2FudmFzLm1hbmFnZXIuc2V0X3dpbmRvd190aXRsZShmXFxcIk1ORSBFRUcgVmlld2VyIC0ge3NlbGVjdGVkX2VlZ1snZmlsZW5hbWUnXX1cXFwiKVxcbiAgICAgICAgICAgICAgICBmaWcuc2hvdygpXFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxcbiAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKFxcXCJFcnJvclxcXCIsIGZcXFwiRmFpbGVkIHRvIG9wZW4gdGhlIEVFRyBmaWxlIHdpdGggTU5FOlxcXFxue3N0cihlKX1cXFwiKVxcbiAgICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ2xvYWRpbmdfd2luZG93JykgYW5kIHNlbGYubG9hZGluZ193aW5kb3cud2luZm9fZXhpc3RzKCk6XFxuICAgICAgICAgICAgICAgIHNlbGYubG9hZGluZ193aW5kb3cuZGVzdHJveSgpXFxuICAgIFxcbiAgICBkZWYgdXBkYXRlX3Bsb3Qoc2VsZik6XFxuICAgICAgICBcXFwiXFxcIlxcXCJVcGRhdGUgdGhlIHBsb3Qgd2l0aCB0aGUgc2VsZWN0ZWQgbWV0cmljIGFuZCBjaGFubmVscy5cXFwiXFxcIlxcXCJcXG4gICAgICAgIGlmIG5vdCBoYXNhdHRyKHNlbGYsICdjdXJyZW50X2V4cGVyaW1lbnRfaWQnKSBvciBub3QgaGFzYXR0cihzZWxmLCAnY3VycmVudF9lZWdfaWQnKSBvciBub3Qgc2VsZi5jdXJyZW50X21ldHJpYzpcXG4gICAgICAgICAgICByZXR1cm5cIn1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93LCBsZXQncyBhZGQgdGhlIHZpZXdfZWVnIG1ldGhvZCB0byB0aGUgU2VsZWN0aW9uRnJhbWUgY2xhc3M6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIGd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHkuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgNFx0VGhpcyBtb2R1bGUgcHJvdmlkZXMgdGhlIFNlbGVjdGlvbkZyYW1lIGNsYXNzIGZvciBzZWxlY3RpbmcgZXhwZXJpbWVudHMsIEVFR3MsXG4gICAgIDVcdG1ldHJpY3MsIGNoYW5uZWxzLCBhbmQgb3RoZXIgdmlzdWFsaXphdGlvbiBvcHRpb25zLlxuICAgICA2XHRcIlwiXCJcbiAgICAgN1x0XG4gICAgIDhcdGZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBEaWN0LCBUdXBsZSwgT3B0aW9uYWwsIEFueSwgQ2FsbGFibGVcbiAgICAgOVx0aW1wb3J0IG9zXG4gICAgMTBcdGltcG9ydCBjdXN0b210a2ludGVyIGFzIGN0a1xuICAgIDExXHRpbXBvcnQgdGtpbnRlciBhcyB0a1xuICAgIDEyXHRmcm9tIHRraW50ZXIgaW1wb3J0IG1lc3NhZ2Vib3hcbiAgICAxM1x0aW1wb3J0IG1uZVxuICAgIDE0XHRpbXBvcnQgbnVtcHkgYXMgbnBcbiAgICAxNVx0XG4gICAgMTZcdGZyb20gLmRhdGFiYXNlX2hhbmRsZXIgaW1wb3J0IERhdGFiYXNlSGFuZGxlclxuICAgIDE3XHRmcm9tIC5wbG90X2ZyYW1lIGltcG9ydCBNZXRyaWNzUGxvdEZyYW1lXG4gICAgMThcdGZyb20gLnV0aWxzIGltcG9ydCAoXG4gICAgMTlcdCAgICBnZXRfbGFiZWxfZm9udCxcbiAgICAyMFx0ICAgIGdldF9kcm9wZG93bl9mb250LFxuICAgIDIxXHQgICAgZ2V0X2J1dHRvbl9mb250LFxuICAgIDIyXHQgICAgQ09NTU9OX0NIQU5ORUxTLFxuICAgIDIzXHQgICAgQUxURVJOQVRJVkVfQ0hBTk5FTF9OQU1FU1xuICAgIDI0XHQpXG4gICAgMjVcdFxuICAgIDI2XHRcbiAgICAyN1x0Y2xhc3MgU2VsZWN0aW9uRnJhbWUoY3RrLkNUa0ZyYW1lKTpcbiAgICAyOFx0ICAgIFwiXCJcIlxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFLRkZVcksya3JlN3p5NmdmeDlVU2NQIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIiwiZm9sZGVyUm9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo0LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiTm93LCBsZXQncyBhZGQgdGhlIHZpZXdfZWVnIG1ldGhvZCB0byB0aGUgU2VsZWN0aW9uRnJhbWUgY2xhc3M6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMzI4MWE2ZGQtN2U2OS00OWVjLThhZjMtODk5Mjg3YTVhMDYzIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMW9wTUVzU1ZXb2lFWHJuUVhVV2hhYiIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwiZ3VpL21ldHJpY3Nfdmlld2VyL3NlbGVjdGlvbl9mcmFtZS5weVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgICAgICMgUmVzZXQgem9vbSBidXR0b25cXG4gICAgICAgIHNlbGYucmVzZXRfem9vbV9idXR0b24gPSBjdGsuQ1RrQnV0dG9uKFxcbiAgICAgICAgICAgIHNlbGYsIFxcbiAgICAgICAgICAgIHRleHQ9XFxcIlJlc2V0IFpvb21cXFwiLCBcXG4gICAgICAgICAgICBjb21tYW5kPXNlbGYucmVzZXRfdGltZV93aW5kb3csXFxuICAgICAgICAgICAgaGVpZ2h0PTI1LFxcbiAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udFxcbiAgICAgICAgKVxcbiAgICAgICAgc2VsZi5yZXNldF96b29tX2J1dHRvbi5ncmlkKHJvdz03LCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PSg1LCAwKSwgc3RpY2t5PVxcXCJld1xcXCIpXFxuICAgICAgICBcXG4gICAgICAgICMgVXBkYXRlIGJ1dHRvbiAtIG1vcmUgY29tcGFjdFxcbiAgICAgICAgc2VsZi51cGRhdGVfYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcXG4gICAgICAgICAgICBzZWxmLCBcXG4gICAgICAgICAgICB0ZXh0PVxcXCJVcGRhdGUgUGxvdFxcXCIsIFxcbiAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi51cGRhdGVfcGxvdCxcXG4gICAgICAgICAgICBoZWlnaHQ9MzAsXFxuICAgICAgICAgICAgZm9udD1nZXRfYnV0dG9uX2ZvbnQoKVxcbiAgICAgICAgKVxcbiAgICAgICAgc2VsZi51cGRhdGVfYnV0dG9uLmdyaWQocm93PTcsIGNvbHVtbj0xLCBwYWR4PTUsIHBhZHk9KDUsIDgpLCBzdGlja3k9XFxcImV3XFxcIilcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDI4MCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAyOTgsIFwibmV3X3N0clwiOiBcIiAgICAgICAgIyBSZXNldCB6b29tIGJ1dHRvblxcbiAgICAgICAgc2VsZi5yZXNldF96b29tX2J1dHRvbiA9IGN0ay5DVGtCdXR0b24oXFxuICAgICAgICAgICAgc2VsZiwgXFxuICAgICAgICAgICAgdGV4dD1cXFwiUmVzZXQgWm9vbVxcXCIsIFxcbiAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi5yZXNldF90aW1lX3dpbmRvdyxcXG4gICAgICAgICAgICBoZWlnaHQ9MjUsXFxuICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250XFxuICAgICAgICApXFxuICAgICAgICBzZWxmLnJlc2V0X3pvb21fYnV0dG9uLmdyaWQocm93PTcsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9KDUsIDApLCBzdGlja3k9XFxcImV3XFxcIilcXG4gICAgICAgIFxcbiAgICAgICAgIyBVcGRhdGUgYnV0dG9uIC0gbW9yZSBjb21wYWN0XFxuICAgICAgICBzZWxmLnVwZGF0ZV9idXR0b24gPSBjdGsuQ1RrQnV0dG9uKFxcbiAgICAgICAgICAgIHNlbGYsIFxcbiAgICAgICAgICAgIHRleHQ9XFxcIlVwZGF0ZSBQbG90XFxcIiwgXFxuICAgICAgICAgICAgY29tbWFuZD1zZWxmLnVwZGF0ZV9wbG90LFxcbiAgICAgICAgICAgIGhlaWdodD0zMCxcXG4gICAgICAgICAgICBmb250PWdldF9idXR0b25fZm9udCgpXFxuICAgICAgICApXFxuICAgICAgICBzZWxmLnVwZGF0ZV9idXR0b24uZ3JpZChyb3c9NywgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT0oNSwgMCksIHN0aWNreT1cXFwiZXdcXFwiKVxcbiAgICAgICAgXFxuICAgICAgICAjIFZpZXcgRUVHIGJ1dHRvblxcbiAgICAgICAgc2VsZi52aWV3X2VlZ19idXR0b24gPSBjdGsuQ1RrQnV0dG9uKFxcbiAgICAgICAgICAgIHNlbGYsXFxuICAgICAgICAgICAgdGV4dD1cXFwiVmlldyBFRUdcXFwiLFxcbiAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi52aWV3X2VlZyxcXG4gICAgICAgICAgICBoZWlnaHQ9MzAsXFxuICAgICAgICAgICAgZm9udD1nZXRfYnV0dG9uX2ZvbnQoKSxcXG4gICAgICAgICAgICBmZ19jb2xvcj1cXFwiIzJhNjA5OVxcXCIgICMgRGlmZmVyZW50IGNvbG9yIHRvIGRpc3Rpbmd1aXNoIGl0XFxuICAgICAgICApXFxuICAgICAgICBzZWxmLnZpZXdfZWVnX2J1dHRvbi5ncmlkKHJvdz04LCBjb2x1bW49MCwgY29sdW1uc3Bhbj0yLCBwYWR4PTUsIHBhZHk9KDUsIDgpLCBzdGlja3k9XFxcImV3XFxcIilcIn1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIyMjIDQuIEFkZCB0aGUgXCJWaWV3IEVFR1wiIGJ1dHRvbiB0byB0aGUgVUlcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgZ3VpL21ldHJpY3Nfdmlld2VyL3NlbGVjdGlvbl9mcmFtZS5weS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgNTYxXHQgICAgICAgIHNlbGYuc3RhcnRfdGltZV92YXIuc2V0KFwiMFwiKVxuICAgNTYyXHQgICAgICAgIHNlbGYuZW5kX3RpbWVfdmFyLnNldChcIlwiKVxuICAgNTYzXHQgICAgICAgIHNlbGYudXBkYXRlX3Bsb3QoKVxuICAgNTY0XHRcbiAgIDU2NVx0ICAgIGRlZiB2aWV3X2VlZyhzZWxmKTpcbiAgIDU2Nlx0ICAgICAgICBcIlwiXCJPcGVuIHRoZSBjdXJyZW50IEVFRyBmaWxlIHdpdGggTU5FIGFuZCBkaXNwbGF5IGl0IGluIGEgbmV3IHdpbmRvdy5cIlwiXCJcbiAgIDU2N1x0ICAgICAgICBpZiBub3QgaGFzYXR0cihzZWxmLCAnY3VycmVudF9leHBlcmltZW50X2lkJykgb3Igbm90IGhhc2F0dHIoc2VsZiwgJ2N1cnJlbnRfZWVnX2lkJyk6XG4gICA1NjhcdCAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2luZm8oXCJObyBFRUcgU2VsZWN0ZWRcIiwgXCJQbGVhc2Ugc2VsZWN0IGFuIGV4cGVyaW1lbnQgYW5kIEVFRyBmaWxlIGZpcnN0LlwiKVxuICAgNTY5XHQgICAgICAgICAgICByZXR1cm5cbiAgIDU3MFx0XG4gICA1NzFcdCAgICAgICAgIyBGaW5kIHRoZSBzZWxlY3RlZCBFRUcgdG8gZ2V0IGl0cyBmaWxlcGF0aFxuICAgNTcyXHQgICAgICAgIHNlbGVjdGVkX2VlZyA9IE5vbmVcbiAgIDU3M1x0ICAgICAgICBmb3IgZWVnIGluIHNlbGYuZWVnczpcbiAgIDU3NFx0ICAgICAgICAgICAgaWYgZWVnWydpZCddID09IHNlbGYuY3VycmVudF9lZWdfaWQ6XG4gICA1NzVcdCAgICAgICAgICAgICAgICBzZWxlY3RlZF9lZWcgPSBlZWdcbiAgIDU3Nlx0ICAgICAgICAgICAgICAgIGJyZWFrXG4gICA1NzdcdFxuICAgNTc4XHQgICAgICAgIGlmIG5vdCBzZWxlY3RlZF9lZWcgb3Igbm90IHNlbGVjdGVkX2VlZy5nZXQoJ2ZpbGVwYXRoJyk6XG4gICA1NzlcdCAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKFwiRXJyb3JcIiwgXCJDb3VsZCBub3QgZmluZCB0aGUgRUVHIGZpbGUgcGF0aC5cIilcbiAgIDU4MFx0ICAgICAgICAgICAgcmV0dXJuXG4gICA1ODFcdFxuICAgNTgyXHQgICAgICAgIGVlZ19maWxlcGF0aCA9IHNlbGVjdGVkX2VlZ1snZmlsZXBhdGgnXVxuICAgNTgzXHRcbiAgIDU4NFx0ICAgICAgICAjIENoZWNrIGlmIHRoZSBmaWxlIGV4aXN0c1xuICAgNTg1XHQgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhlZWdfZmlsZXBhdGgpOlxuICAgNTg2XHQgICAgICAgICAgICBtZXNzYWdlYm94LnNob3dlcnJvcihcIkZpbGUgTm90IEZvdW5kXCIsIGZcIlRoZSBFRUcgZmlsZSB3YXMgbm90IGZvdW5kIGF0OlxcbntlZWdfZmlsZXBhdGh9XCIpXG4gICA1ODdcdCAgICAgICAgICAgIHJldHVyblxuICAgNTg4XHRcbiAgIDU4OVx0ICAgICAgICAjIEdldCB0aGUgY3VycmVudCB0aW1lIHdpbmRvd1xuICAgNTkwXHQgICAgICAgIHRyeTpcbiAgIDU5MVx0ICAgICAgICAgICAgc3RhcnRfdGltZSA9IGZsb2F0KHNlbGYuc3RhcnRfdGltZV92YXIuZ2V0KCkpIGlmIHNlbGYuc3RhcnRfdGltZV92YXIuZ2V0KCkgZWxzZSBOb25lXG4gICA1OTJcdCAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6XG4gICA1OTNcdCAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBOb25lXG4gICA1OTRcdFxuICAgNTk1XHQgICAgICAgIHRyeTpcbiAgIDU5Nlx0ICAgICAgICAgICAgZW5kX3RpbWUgPSBmbG9hdChzZWxmLmVuZF90aW1lX3Zhci5nZXQoKSkgaWYgc2VsZi5lbmRfdGltZV92YXIuZ2V0KCkgZWxzZSBOb25lXG4gICA1OTdcdCAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6XG4gICA1OThcdCAgICAgICAgICAgIGVuZF90aW1lID0gTm9uZVxuICAgNTk5XHRcbiAgIDYwMFx0ICAgICAgICAjIFRyeSB0byBsb2FkIHRoZSBFRUcgZmlsZSB3aXRoIE1ORVxuICAgNjAxXHQgICAgICAgIHRyeTpcbiAgIDYwMlx0ICAgICAgICAgICAgIyBTaG93IGEgbG9hZGluZyBtZXNzYWdlXG4gICA2MDNcdCAgICAgICAgICAgIHNlbGYubG9hZGluZ193aW5kb3cgPSB0ay5Ub3BsZXZlbChzZWxmKVxuICAgNjA0XHQgICAgICAgICAgICBzZWxmLmxvYWRpbmdfd2luZG93LnRpdGxlKFwiTG9hZGluZyBFRUdcIilcbiAgIDYwNVx0ICAgICAgICAgICAgc2VsZi5sb2FkaW5nX3dpbmRvdy5nZW9tZXRyeShcIjMwMHgxMDBcIilcbiAgIDYwNlx0ICAgICAgICAgICAgc2VsZi5sb2FkaW5nX3dpbmRvdy50cmFuc2llbnQoc2VsZi5tYXN0ZXIpXG4gICA2MDdcdCAgICAgICAgICAgIHNlbGYubG9hZGluZ193aW5kb3cuZ3JhYl9zZXQoKVxuICAgNjA4XHRcbiAgIDYwOVx0ICAgICAgICAgICAgbG9hZGluZ19sYWJlbCA9IHRrLkxhYmVsKHNlbGYubG9hZGluZ193aW5kb3csIHRleHQ9XCJMb2FkaW5nIEVFRyBmaWxlLi4uXFxuVGhpcyBtYXkgdGFrZSBhIG1vbWVudC5cIilcbiAgIDYxMFx0ICAgICAgICAgICAgbG9hZGluZ19sYWJlbC5wYWNrKGV4cGFuZD1UcnVlLCBmaWxsPXRrLkJPVEgsIHBhZHg9MjAsIHBhZHk9MjApXG4gICA2MTFcdFxuICAgNjEyXHQgICAgICAgICAgICBzZWxmLmxvYWRpbmdfd2luZG93LnVwZGF0ZSgpXG4gICA2MTNcdFxuICAgNjE0XHQgICAgICAgICAgICAjIExvYWQgdGhlIEVFRyBmaWxlXG4gICA2MTVcdCAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3JhdyhlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcbiAgIDYxNlx0XG4gICA2MTdcdCAgICAgICAgICAgICMgQ2xvc2UgdGhlIGxvYWRpbmcgd2luZG93XG4gICA2MThcdCAgICAgICAgICAgIHNlbGYubG9hZGluZ193aW5kb3cuZGVzdHJveSgpXG4gICA2MTlcdFxuICAgNjIwXHQgICAgICAgICAgICAjIFNldCB0aGUgdGltZSB3aW5kb3cgaWYgc3BlY2lmaWVkXG4gICA2MjFcdCAgICAgICAgICAgIGlmIHN0YXJ0X3RpbWUgaXMgbm90IE5vbmUgYW5kIGVuZF90aW1lIGlzIG5vdCBOb25lOlxuICAgNjIyXHQgICAgICAgICAgICAgICAgIyBDb252ZXJ0IGZyb20gc2Vjb25kcyB0byBwb2ludHMgaWYgbmVlZGVkXG4gICA2MjNcdCAgICAgICAgICAgICAgICBzdGFydF9pZHggPSBtYXgoMCwgaW50KHN0YXJ0X3RpbWUgKiByYXcuaW5mb1snc2ZyZXEnXSkpXG4gICA2MjRcdCAgICAgICAgICAgICAgICBlbmRfaWR4ID0gbWluKGxlbihyYXcudGltZXMpLCBpbnQoZW5kX3RpbWUgKiByYXcuaW5mb1snc2ZyZXEnXSkpXG4gICA2MjVcdFxuICAgNjI2XHQgICAgICAgICAgICAgICAgIyBDcmVhdGUgYSBwbG90IHdpdGggdGhlIHNwZWNpZmllZCB0aW1lIHdpbmRvd1xuICAgNjI3XHQgICAgICAgICAgICAgICAgZmlnID0gcmF3LnBsb3Qoc3RhcnQ9c3RhcnRfaWR4LCBkdXJhdGlvbj0oZW5kX2lkeC1zdGFydF9pZHgpL3Jhdy5pbmZvWydzZnJlcSddLFxuICAgNjI4XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsaW5ncz0nYXV0bycsIGJsb2NrPUZhbHNlLCBzaG93PUZhbHNlKVxuICAgNjI5XHRcbiAgIDYzMFx0ICAgICAgICAgICAgICAgICMgU2V0IHRoZSB3aW5kb3cgdGl0bGUgdG8gaW5jbHVkZSB0aGUgRUVHIGZpbGVuYW1lXG4gICA2MzFcdCAgICAgICAgICAgICAgICBmaWcuY2FudmFzLm1hbmFnZXIuc2V0X3dpbmRvd190aXRsZShmXCJNTkUgRUVHIFZpZXdlciAtIHtzZWxlY3RlZF9lZWdbJ2ZpbGVuYW1lJ119XCIpXG4gICA2MzJcdFxuICAgNjMzXHQgICAgICAgICAgICAgICAgIyBTaG93IHRoZSBwbG90XG4gICA2MzRcdCAgICAgICAgICAgICAgICBmaWcuc2hvdygpXG4gICA2MzVcdCAgICAgICAgICAgIGVsc2U6XG4gICA2MzZcdCAgICAgICAgICAgICAgICAjIEp1c3Qgc2hvdyB0aGUgd2hvbGUgRUVHXG4gICA2MzdcdCAgICAgICAgICAgICAgICBmaWcgPSByYXcucGxvdChzY2FsaW5ncz0nYXV0bycsIGJsb2NrPUZhbHNlLCBzaG93PUZhbHNlKVxuICAgNjM4XHQgICAgICAgICAgICAgICAgZmlnLmNhbnZhcy5tYW5hZ2VyLnNldF93aW5kb3dfdGl0bGUoZlwiTU5FIEVFRyBWaWV3ZXIgLSB7c2VsZWN0ZWRfZWVnWydmaWxlbmFtZSddfVwiKVxuICAgNjM5XHQgICAgICAgICAgICAgICAgZmlnLnNob3coKVxuICAgNjQwXHRcbiAgIDY0MVx0ICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XG4gICA2NDJcdCAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKFwiRXJyb3JcIiwgZlwiRmFpbGVkIHRvIG9wZW4gdGhlIEVFRyBmaWxlIHdpdGggTU5FOlxcbntzdHIoZSl9XCIpXG4gICA2NDNcdCAgICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ2xvYWRpbmdfd2luZG93JykgYW5kIHNlbGYubG9hZGluZ193aW5kb3cud2luZm9fZXhpc3RzKCk6XG4gICA2NDRcdCAgICAgICAgICAgICAgICBzZWxmLmxvYWRpbmdfd2luZG93LmRlc3Ryb3koKVxuICAgNjQ1XHRcbiAgIDY0Nlx0ICAgIGRlZiB1cGRhdGVfcGxvdChzZWxmKTpcbiAgIDY0N1x0ICAgICAgICBcIlwiXCJVcGRhdGUgdGhlIHBsb3Qgd2l0aCB0aGUgc2VsZWN0ZWQgbWV0cmljIGFuZCBjaGFubmVscy5cIlwiXCJcbiAgIDY0OFx0ICAgICAgICBpZiBub3QgaGFzYXR0cihzZWxmLCAnY3VycmVudF9leHBlcmltZW50X2lkJykgb3Igbm90IGhhc2F0dHIoc2VsZiwgJ2N1cnJlbnRfZWVnX2lkJykgb3Igbm90IHNlbGYuY3VycmVudF9tZXRyaWM6XG4gICA2NDlcdCAgICAgICAgICAgIHJldHVyblxuICAgNjUwXHRcbiAgIDY1MVx0ICAgICAgICAjIEdldCBzZWxlY3RlZCBjaGFubmVsc1xuICAgNjUyXHQgICAgICAgIHNlbGVjdGVkX2NoYW5uZWxzID0gW2NoYW5uZWwgZm9yIGNoYW5uZWwsIHZhciBpbiBzZWxmLmNoYW5uZWxfdmFycy5pdGVtcygpIGlmIHZhci5nZXQoKV1cbiAgIDY1M1x0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTVLVFNhd3pjM3hXYVFEWUJLTTVkTWIifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIiLCJmb2xkZXJSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjQsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIn19fV0sInJlc3BvbnNlX3RleHQiOiIjIyMgNC4gQWRkIHRoZSBcIlZpZXcgRUVHXCIgYnV0dG9uIHRvIHRoZSBVSVxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImFkMTllMzE0LTI3MzAtNGRkYi04ZDgzLTRiNzNlYmRlNmQxNyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTdVdlFGVkdMR0ZDblk0VW43bXh3UGgiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcImd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHlcIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiICAgICAgICAjIENvbmZpZ3VyZSBncmlkIGxheW91dFxcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcXG4gICAgICAgIHNlbGYuZ3JpZF9jb2x1bW5jb25maWd1cmUoMSwgd2VpZ2h0PTEpXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA0MiwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA0NCwgXCJuZXdfc3RyXCI6IFwiICAgICAgICAjIENvbmZpZ3VyZSBncmlkIGxheW91dFxcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcXG4gICAgICAgIHNlbGYuZ3JpZF9jb2x1bW5jb25maWd1cmUoMSwgd2VpZ2h0PTEpXFxuICAgICAgICBzZWxmLmdyaWRfcm93Y29uZmlndXJlKDgsIHdlaWdodD0wKSAgIyBSb3cgZm9yIHRoZSBWaWV3IEVFRyBidXR0b25cIn1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIG1ha2Ugc3VyZSB0aGUgZ3JpZCBsYXlvdXQgaXMgcHJvcGVybHkgYWRqdXN0ZWQgdG8gYWNjb21tb2RhdGUgdGhlIG5ldyBidXR0b246XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIGd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHkuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDI4MVx0ICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250XG4gICAyODJcdCAgICAgICAgKVxuICAgMjgzXHQgICAgICAgIHNlbGYuZW5kX3RpbWVfZW50cnkuZ3JpZChyb3c9MCwgY29sdW1uPTMsIHBhZHg9NSwgcGFkeT01LCBzdGlja3k9XCJld1wiKVxuICAgMjg0XHRcbiAgIDI4NVx0ICAgICAgICAjIFJlc2V0IHpvb20gYnV0dG9uXG4gICAyODZcdCAgICAgICAgc2VsZi5yZXNldF96b29tX2J1dHRvbiA9IGN0ay5DVGtCdXR0b24oXG4gICAyODdcdCAgICAgICAgICAgIHNlbGYsXG4gICAyODhcdCAgICAgICAgICAgIHRleHQ9XCJSZXNldCBab29tXCIsXG4gICAyODlcdCAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi5yZXNldF90aW1lX3dpbmRvdyxcbiAgIDI5MFx0ICAgICAgICAgICAgaGVpZ2h0PTI1LFxuICAgMjkxXHQgICAgICAgICAgICBmb250PWRyb3Bkb3duX2ZvbnRcbiAgIDI5Mlx0ICAgICAgICApXG4gICAyOTNcdCAgICAgICAgc2VsZi5yZXNldF96b29tX2J1dHRvbi5ncmlkKHJvdz03LCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PSg1LCAwKSwgc3RpY2t5PVwiZXdcIilcbiAgIDI5NFx0XG4gICAyOTVcdCAgICAgICAgIyBVcGRhdGUgYnV0dG9uIC0gbW9yZSBjb21wYWN0XG4gICAyOTZcdCAgICAgICAgc2VsZi51cGRhdGVfYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgIDI5N1x0ICAgICAgICAgICAgc2VsZixcbiAgIDI5OFx0ICAgICAgICAgICAgdGV4dD1cIlVwZGF0ZSBQbG90XCIsXG4gICAyOTlcdCAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi51cGRhdGVfcGxvdCxcbiAgIDMwMFx0ICAgICAgICAgICAgaGVpZ2h0PTMwLFxuICAgMzAxXHQgICAgICAgICAgICBmb250PWdldF9idXR0b25fZm9udCgpXG4gICAzMDJcdCAgICAgICAgKVxuICAgMzAzXHQgICAgICAgIHNlbGYudXBkYXRlX2J1dHRvbi5ncmlkKHJvdz03LCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PSg1LCAwKSwgc3RpY2t5PVwiZXdcIilcbiAgIDMwNFx0XG4gICAzMDVcdCAgICAgICAgIyBWaWV3IEVFRyBidXR0b25cbiAgIDMwNlx0ICAgICAgICBzZWxmLnZpZXdfZWVnX2J1dHRvbiA9IGN0ay5DVGtCdXR0b24oXG4gICAzMDdcdCAgICAgICAgICAgIHNlbGYsXG4gICAzMDhcdCAgICAgICAgICAgIHRleHQ9XCJWaWV3IEVFR1wiLFxuICAgMzA5XHQgICAgICAgICAgICBjb21tYW5kPXNlbGYudmlld19lZWcsXG4gICAzMTBcdCAgICAgICAgICAgIGhlaWdodD0zMCxcbiAgIDMxMVx0ICAgICAgICAgICAgZm9udD1nZXRfYnV0dG9uX2ZvbnQoKSxcbiAgIDMxMlx0ICAgICAgICAgICAgZmdfY29sb3I9XCIjMmE2MDk5XCIgICMgRGlmZmVyZW50IGNvbG9yIHRvIGRpc3Rpbmd1aXNoIGl0XG4gICAzMTNcdCAgICAgICAgKVxuICAgMzE0XHQgICAgICAgIHNlbGYudmlld19lZWdfYnV0dG9uLmdyaWQocm93PTgsIGNvbHVtbj0wLCBjb2x1bW5zcGFuPTIsIHBhZHg9NSwgcGFkeT0oNSwgOCksIHN0aWNreT1cImV3XCIpXG4gICAzMTVcdFxuICAgMzE2XHQgICAgICAgICMgSW5pdGlhbGl6ZSB3aXRoIHRoZSBmaXJzdCBleHBlcmltZW50IGlmIGF2YWlsYWJsZVxuICAgMzE3XHQgICAgICAgIGlmIHNlbGYuZXhwZXJpbWVudHM6XG4gICAzMThcdCAgICAgICAgICAgIHNlbGYub25fZXhwZXJpbWVudF9zZWxlY3RlZChleHBlcmltZW50X25hbWVzWzBdKVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDExb3BNRXNTVldvaUVYcm5RWFVXaGFiIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIiwiZm9sZGVyUm9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo0LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiTm93IGxldCdzIG1ha2Ugc3VyZSB0aGUgZ3JpZCBsYXlvdXQgaXMgcHJvcGVybHkgYWRqdXN0ZWQgdG8gYWNjb21tb2RhdGUgdGhlIG5ldyBidXR0b246XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMWVlYTMxODgtMzdkZC00YzQxLWFlYWEtM2MyZTg0ODRlODhjIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQTExYndHcXhaOWZHd2Z6WkpxZDFabSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwiZ3VpL21ldHJpY3Nfdmlld2VyL3NlbGVjdGlvbl9mcmFtZS5weVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJjbGFzcyBTZWxlY3Rpb25GcmFtZShjdGsuQ1RrRnJhbWUpOlxcbiAgICBcXFwiXFxcIlxcXCJcXG4gICAgQSBmcmFtZSBjb250YWluaW5nIGNvbnRyb2xzIGZvciBzZWxlY3RpbmcgZXhwZXJpbWVudHMsIEVFR3MsIG1ldHJpY3MsIGNoYW5uZWxzLCBhbmQgb3RoZXIgb3B0aW9ucy5cXG4gICAgXFxcIlxcXCJcXFwiXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAyMiwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAyNSwgXCJuZXdfc3RyXCI6IFwiY2xhc3MgU2VsZWN0aW9uRnJhbWUoY3RrLkNUa0ZyYW1lKTpcXG4gICAgXFxcIlxcXCJcXFwiXFxuICAgIEEgZnJhbWUgY29udGFpbmluZyBjb250cm9scyBmb3Igc2VsZWN0aW5nIGV4cGVyaW1lbnRzLCBFRUdzLCBtZXRyaWNzLCBjaGFubmVscywgYW5kIG90aGVyIG9wdGlvbnMuXFxuICAgIEFsc28gcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB2aWV3IHRoZSBvcmlnaW5hbCBFRUcgZmlsZSB1c2luZyBNTkUsIHN5bmNocm9uaXplZCB3aXRoIHRoZSBjdXJyZW50IHRpbWUgd2luZG93LlxcbiAgICBcXFwiXFxcIlxcXCJcIn1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0J3MgYWxzbyB1cGRhdGUgdGhlIGRvY3N0cmluZyBvZiB0aGUgU2VsZWN0aW9uRnJhbWUgY2xhc3MgdG8gbWVudGlvbiB0aGUgbmV3IGZ1bmN0aW9uYWxpdHk6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIGd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHkuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICA0M1x0XG4gICAgNDRcdCAgICAgICAgc2VsZi5kYl9oYW5kbGVyID0gZGJfaGFuZGxlclxuICAgIDQ1XHQgICAgICAgIHNlbGYucGxvdF9mcmFtZSA9IHBsb3RfZnJhbWVcbiAgICA0Nlx0XG4gICAgNDdcdCAgICAgICAgIyBDb25maWd1cmUgZ3JpZCBsYXlvdXRcbiAgICA0OFx0ICAgICAgICBzZWxmLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgIDQ5XHQgICAgICAgIHNlbGYuZ3JpZF9jb2x1bW5jb25maWd1cmUoMSwgd2VpZ2h0PTEpXG4gICAgNTBcdCAgICAgICAgc2VsZi5ncmlkX3Jvd2NvbmZpZ3VyZSg4LCB3ZWlnaHQ9MCkgICMgUm93IGZvciB0aGUgVmlldyBFRUcgYnV0dG9uXG4gICAgNTFcdFxuICAgIDUyXHQgICAgICAgICMgQ3JlYXRlIGZvbnRzXG4gICAgNTNcdCAgICAgICAgbGFiZWxfZm9udCA9IGdldF9sYWJlbF9mb250KClcbiAgICA1NFx0ICAgICAgICBkcm9wZG93bl9mb250ID0gZ2V0X2Ryb3Bkb3duX2ZvbnQoKVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE3VXZRRlZHTEdGQ25ZNFVuN214d1BoIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIiwiZm9sZGVyUm9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo0LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiTGV0J3MgYWxzbyB1cGRhdGUgdGhlIGRvY3N0cmluZyBvZiB0aGUgU2VsZWN0aW9uRnJhbWUgY2xhc3MgdG8gbWVudGlvbiB0aGUgbmV3IGZ1bmN0aW9uYWxpdHk6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNzQxYjhlMTktMjgwNS00OGFlLTg0NGYtMTRmZmE3ZWFlM2E4IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxTXJYNmlFSlFCNHp3N2RBSDRHOFZNQSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwiZ3VpL21ldHJpY3Nfdmlld2VyL3NlbGVjdGlvbl9mcmFtZS5weVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCIgICAgICAgICAgICAjIExvYWQgdGhlIEVFRyBmaWxlXFxuICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3KGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogNjE0LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDYxNSwgXCJuZXdfc3RyXCI6IFwiICAgICAgICAgICAgIyBMb2FkIHRoZSBFRUcgZmlsZSAtIHRyeSBkaWZmZXJlbnQgcmVhZGVycyBiYXNlZCBvbiBmaWxlIGV4dGVuc2lvblxcbiAgICAgICAgICAgIGZpbGVfZXh0ID0gb3MucGF0aC5zcGxpdGV4dChlZWdfZmlsZXBhdGgpWzFdLmxvd2VyKClcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBpZiBmaWxlX2V4dCA9PSAnLmVkZic6XFxuICAgICAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3Jhd19lZGYoZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXFxuICAgICAgICAgICAgZWxpZiBmaWxlX2V4dCA9PSAnLmJkZic6XFxuICAgICAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3Jhd19iZGYoZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXFxuICAgICAgICAgICAgZWxpZiBmaWxlX2V4dCA9PSAnLmdkZic6XFxuICAgICAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3Jhd19nZGYoZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXFxuICAgICAgICAgICAgZWxpZiBmaWxlX2V4dCBpbiBbJy52aGRyJywgJy52bXJrJywgJy5lZWcnXTpcXG4gICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2JyYWludmlzaW9uKGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxcbiAgICAgICAgICAgIGVsaWYgZmlsZV9leHQgPT0gJy5jbnQnOlxcbiAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXdfY250KGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxcbiAgICAgICAgICAgIGVsaWYgZmlsZV9leHQgPT0gJy5zZXQnOlxcbiAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXdfZWVnbGFiKGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxcbiAgICAgICAgICAgIGVsc2U6XFxuICAgICAgICAgICAgICAgICMgVHJ5IHRoZSBnZW5lcmljIHJlYWRlciBhcyBhIGZhbGxiYWNrXFxuICAgICAgICAgICAgICAgIHRyeTpcXG4gICAgICAgICAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3JhdyhlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcXG4gICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxcbiAgICAgICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmXFxcIlVuc3VwcG9ydGVkIGZpbGUgZm9ybWF0OiB7ZmlsZV9leHR9LiBFcnJvcjoge3N0cihlKX1cXFwiKVwifV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQncyBtYWtlIG9uZSBmaW5hbCBpbXByb3ZlbWVudCB0byBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdGhlIEVFRyBmaWxlIGZvcm1hdCBtaWdodCBub3QgYmUgZGlyZWN0bHkgc3VwcG9ydGVkIGJ5IE1ORTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgZ3VpL21ldHJpY3Nfdmlld2VyL3NlbGVjdGlvbl9mcmFtZS5weS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDIzXHQgICAgQUxURVJOQVRJVkVfQ0hBTk5FTF9OQU1FU1xuICAgIDI0XHQpXG4gICAgMjVcdFxuICAgIDI2XHRcbiAgICAyN1x0Y2xhc3MgU2VsZWN0aW9uRnJhbWUoY3RrLkNUa0ZyYW1lKTpcbiAgICAyOFx0ICAgIFwiXCJcIlxuICAgIDI5XHQgICAgQSBmcmFtZSBjb250YWluaW5nIGNvbnRyb2xzIGZvciBzZWxlY3RpbmcgZXhwZXJpbWVudHMsIEVFR3MsIG1ldHJpY3MsIGNoYW5uZWxzLCBhbmQgb3RoZXIgb3B0aW9ucy5cbiAgICAzMFx0ICAgIEFsc28gcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB2aWV3IHRoZSBvcmlnaW5hbCBFRUcgZmlsZSB1c2luZyBNTkUsIHN5bmNocm9uaXplZCB3aXRoIHRoZSBjdXJyZW50IHRpbWUgd2luZG93LlxuICAgIDMxXHQgICAgXCJcIlwiXG4gICAgMzJcdFxuICAgIDMzXHQgICAgZGVmIF9faW5pdF9fKHNlbGYsIG1hc3RlciwgZGJfaGFuZGxlcjogRGF0YWJhc2VIYW5kbGVyLCBwbG90X2ZyYW1lOiBNZXRyaWNzUGxvdEZyYW1lLCAqKmt3YXJncyk6XG4gICAgMzRcdCAgICAgICAgXCJcIlwiXG4gICAgMzVcdCAgICAgICAgSW5pdGlhbGl6ZSB0aGUgc2VsZWN0aW9uIGZyYW1lLlxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFBMTFid0dxeFo5Zkd3ZnpaSnFkMVptIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIiwiZm9sZGVyUm9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo0LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiTGV0J3MgbWFrZSBvbmUgZmluYWwgaW1wcm92ZW1lbnQgdG8gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRoZSBFRUcgZmlsZSBmb3JtYXQgbWlnaHQgbm90IGJlIGRpcmVjdGx5IHN1cHBvcnRlZCBieSBNTkU6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMDQwOTRkNmYtZmZhZS00ZTA0LThmZDMtM2MwMjliMDliZDExIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIyMgU3VtbWFyeSBvZiBDaGFuZ2VzXG5cbkkndmUgaW1wbGVtZW50ZWQgdGhlIHJlcXVlc3RlZCBmZWF0dXJlIHRvIGFkZCBhIGJ1dHRvbiB0aGF0IHVzZXMgTU5FIHRvIHJlbmRlciB0aGUgRUVHIGZpbGUgZnJvbSB3aGljaCB0aGUgbWV0cmljcyB3ZXJlIGNyZWF0ZWQuIEhlcmUncyBhIHN1bW1hcnkgb2YgdGhlIGNoYW5nZXM6XG5cbjEuICoqQWRkZWQgTU5FIGFzIGEgZGVwZW5kZW5jeSoqOlxuICAgLSBVcGRhdGVkIGBpbnN0YWxsX2RlcGVuZGVuY2llcy5weWAgdG8gaW5jbHVkZSBNTkVcbiAgIC0gVXBkYXRlZCBgcnVuX21ldHJpY3Nfdmlld2VyLnB5YCB0byBjaGVjayBmb3IgTU5FXG5cbjIuICoqQ3JlYXRlZCBhbiBFRUcgVmlld2VyIEZ1bmN0aW9uKio6XG4gICAtIEFkZGVkIGEgYHZpZXdfZWVnYCBtZXRob2QgdG8gdGhlIGBTZWxlY3Rpb25GcmFtZWAgY2xhc3NcbiAgIC0gVGhlIG1ldGhvZCByZXRyaWV2ZXMgdGhlIEVFRyBmaWxlIHBhdGggZnJvbSB0aGUgZGF0YWJhc2VcbiAgIC0gSXQgbG9hZHMgdGhlIEVFRyBmaWxlIHVzaW5nIE1ORSB3aXRoIHN1cHBvcnQgZm9yIHZhcmlvdXMgZmlsZSBmb3JtYXRzXG4gICAtIEl0IGdldHMgdGhlIGN1cnJlbnQgdGltZSB3aW5kb3cgZnJvbSB0aGUgc2VsZWN0aW9uIGZyYW1lXG4gICAtIEl0IGRpc3BsYXlzIHRoZSBFRUcgZGF0YSBpbiBhIG5ldyB3aW5kb3csIGZvY3VzZWQgb24gdGhlIHNlbGVjdGVkIHRpbWUgd2luZG93XG5cbjMuICoqQWRkZWQgYSBcIlZpZXcgRUVHXCIgQnV0dG9uKio6XG4gICAtIEFkZGVkIGEgbmV3IGJ1dHRvbiB0byB0aGUgc2VsZWN0aW9uIGZyYW1lIFVJXG4gICAtIFBvc2l0aW9uZWQgaXQgYmVsb3cgdGhlIFwiUmVzZXQgWm9vbVwiIGFuZCBcIlVwZGF0ZSBQbG90XCIgYnV0dG9uc1xuICAgLSBDb25uZWN0ZWQgaXQgdG8gdGhlIG5ldyBFRUcgdmlld2VyIG1ldGhvZFxuICAgLSBVc2VkIGEgZGlzdGluY3RpdmUgY29sb3IgdG8gbWFrZSBpdCBzdGFuZCBvdXRcblxuNC4gKipBZGRlZCBFcnJvciBIYW5kbGluZyoqOlxuICAgLSBBZGRlZCBjaGVja3MgZm9yIGZpbGUgZXhpc3RlbmNlXG4gICAtIEFkZGVkIGEgbG9hZGluZyBkaWFsb2cgdG8gaW5kaWNhdGUgd2hlbiB0aGUgRUVHIGZpbGUgaXMgYmVpbmcgbG9hZGVkXG4gICAtIEFkZGVkIHN1cHBvcnQgZm9yIGRpZmZlcmVudCBFRUcgZmlsZSBmb3JtYXRzXG4gICAtIEFkZGVkIGVycm9yIG1lc3NhZ2VzIGZvciB2YXJpb3VzIGZhaWx1cmUgc2NlbmFyaW9zXG5cbiMjIEhvdyB0byBUZXN0XG5cblRvIHRlc3QgdGhpcyBuZXcgZmVhdHVyZTpcblxuMS4gSW5zdGFsbCBNTkUgaWYgeW91IGhhdmVuJ3QgYWxyZWFkeTpcbiAgIGBgYFxuICAgcHl0aG9uIGd1aS9pbnN0YWxsX2RlcGVuZGVuY2llcy5weVxuICAgYGBgXG5cbjIuIFJ1biB0aGUgbWV0cmljcyB2aWV3ZXI6XG4gICBgYGBcbiAgIHB5dGhvbiBndWkvcnVuX21ldHJpY3Nfdmlld2VyLnB5XG4gICBgYGBcblxuMy4gU2VsZWN0IGFuIGV4cGVyaW1lbnQgYW5kIEVFRyBmaWxlXG5cbjQuIE9wdGlvbmFsbHksIHNlbGVjdCBhIHRpbWUgd2luZG93IGJ5IGVpdGhlcjpcbiAgIC0gRW50ZXJpbmcgdmFsdWVzIGluIHRoZSB0aW1lIHdpbmRvdyBmaWVsZHNcbiAgIC0gVXNpbmcgdGhlIGludGVyYWN0aXZlIHpvb20gZmVhdHVyZSBvbiB0aGUgcGxvdFxuXG41LiBDbGljayB0aGUgXCJWaWV3IEVFR1wiIGJ1dHRvbiB0byBvcGVuIHRoZSBFRUcgZmlsZSBpbiBNTkUncyB2aWV3ZXJcblxuVGhlIE1ORSB2aWV3ZXIgd2lsbCBvcGVuIGFuZCBkaXNwbGF5IHRoZSBFRUcgZGF0YSwgZm9jdXNlZCBvbiB0aGUgdGltZSB3aW5kb3cgeW91IHNlbGVjdGVkIGluIHRoZSBtZXRyaWNzIHZpZXdlci5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgZ3VpL21ldHJpY3Nfdmlld2VyL3NlbGVjdGlvbl9mcmFtZS5weS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgNjIzXHQgICAgICAgICAgICBsb2FkaW5nX2xhYmVsLnBhY2soZXhwYW5kPVRydWUsIGZpbGw9dGsuQk9USCwgcGFkeD0yMCwgcGFkeT0yMClcbiAgIDYyNFx0XG4gICA2MjVcdCAgICAgICAgICAgIHNlbGYubG9hZGluZ193aW5kb3cudXBkYXRlKClcbiAgIDYyNlx0XG4gICA2MjdcdCAgICAgICAgICAgICMgTG9hZCB0aGUgRUVHIGZpbGUgLSB0cnkgZGlmZmVyZW50IHJlYWRlcnMgYmFzZWQgb24gZmlsZSBleHRlbnNpb25cbiAgIDYyOFx0ICAgICAgICAgICAgZmlsZV9leHQgPSBvcy5wYXRoLnNwbGl0ZXh0KGVlZ19maWxlcGF0aClbMV0ubG93ZXIoKVxuICAgNjI5XHRcbiAgIDYzMFx0ICAgICAgICAgICAgaWYgZmlsZV9leHQgPT0gJy5lZGYnOlxuICAgNjMxXHQgICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2VkZihlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcbiAgIDYzMlx0ICAgICAgICAgICAgZWxpZiBmaWxlX2V4dCA9PSAnLmJkZic6XG4gICA2MzNcdCAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXdfYmRmKGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxuICAgNjM0XHQgICAgICAgICAgICBlbGlmIGZpbGVfZXh0ID09ICcuZ2RmJzpcbiAgIDYzNVx0ICAgICAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3Jhd19nZGYoZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXG4gICA2MzZcdCAgICAgICAgICAgIGVsaWYgZmlsZV9leHQgaW4gWycudmhkcicsICcudm1yaycsICcuZWVnJ106XG4gICA2MzdcdCAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXdfYnJhaW52aXNpb24oZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXG4gICA2MzhcdCAgICAgICAgICAgIGVsaWYgZmlsZV9leHQgPT0gJy5jbnQnOlxuICAgNjM5XHQgICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2NudChlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcbiAgIDY0MFx0ICAgICAgICAgICAgZWxpZiBmaWxlX2V4dCA9PSAnLnNldCc6XG4gICA2NDFcdCAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXdfZWVnbGFiKGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxuICAgNjQyXHQgICAgICAgICAgICBlbHNlOlxuICAgNjQzXHQgICAgICAgICAgICAgICAgIyBUcnkgdGhlIGdlbmVyaWMgcmVhZGVyIGFzIGEgZmFsbGJhY2tcbiAgIDY0NFx0ICAgICAgICAgICAgICAgIHRyeTpcbiAgIDY0NVx0ICAgICAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXcoZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXG4gICA2NDZcdCAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XG4gICA2NDdcdCAgICAgICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmXCJVbnN1cHBvcnRlZCBmaWxlIGZvcm1hdDoge2ZpbGVfZXh0fS4gRXJyb3I6IHtzdHIoZSl9XCIpXG4gICA2NDhcdFxuICAgNjQ5XHQgICAgICAgICAgICAjIENsb3NlIHRoZSBsb2FkaW5nIHdpbmRvd1xuICAgNjUwXHQgICAgICAgICAgICBzZWxmLmxvYWRpbmdfd2luZG93LmRlc3Ryb3koKVxuICAgNjUxXHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxTXJYNmlFSlFCNHp3N2RBSDRHOFZNQSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciIsImZvbGRlclJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NCwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifX19XSwicmVzcG9uc2VfdGV4dCI6IiMjIFN1bW1hcnkgb2YgQ2hhbmdlc1xuXG5JJ3ZlIGltcGxlbWVudGVkIHRoZSByZXF1ZXN0ZWQgZmVhdHVyZSB0byBhZGQgYSBidXR0b24gdGhhdCB1c2VzIE1ORSB0byByZW5kZXIgdGhlIEVFRyBmaWxlIGZyb20gd2hpY2ggdGhlIG1ldHJpY3Mgd2VyZSBjcmVhdGVkLiBIZXJlJ3MgYSBzdW1tYXJ5IG9mIHRoZSBjaGFuZ2VzOlxuXG4xLiAqKkFkZGVkIE1ORSBhcyBhIGRlcGVuZGVuY3kqKjpcbiAgIC0gVXBkYXRlZCBgaW5zdGFsbF9kZXBlbmRlbmNpZXMucHlgIHRvIGluY2x1ZGUgTU5FXG4gICAtIFVwZGF0ZWQgYHJ1bl9tZXRyaWNzX3ZpZXdlci5weWAgdG8gY2hlY2sgZm9yIE1ORVxuXG4yLiAqKkNyZWF0ZWQgYW4gRUVHIFZpZXdlciBGdW5jdGlvbioqOlxuICAgLSBBZGRlZCBhIGB2aWV3X2VlZ2AgbWV0aG9kIHRvIHRoZSBgU2VsZWN0aW9uRnJhbWVgIGNsYXNzXG4gICAtIFRoZSBtZXRob2QgcmV0cmlldmVzIHRoZSBFRUcgZmlsZSBwYXRoIGZyb20gdGhlIGRhdGFiYXNlXG4gICAtIEl0IGxvYWRzIHRoZSBFRUcgZmlsZSB1c2luZyBNTkUgd2l0aCBzdXBwb3J0IGZvciB2YXJpb3VzIGZpbGUgZm9ybWF0c1xuICAgLSBJdCBnZXRzIHRoZSBjdXJyZW50IHRpbWUgd2luZG93IGZyb20gdGhlIHNlbGVjdGlvbiBmcmFtZVxuICAgLSBJdCBkaXNwbGF5cyB0aGUgRUVHIGRhdGEgaW4gYSBuZXcgd2luZG93LCBmb2N1c2VkIG9uIHRoZSBzZWxlY3RlZCB0aW1lIHdpbmRvd1xuXG4zLiAqKkFkZGVkIGEgXCJWaWV3IEVFR1wiIEJ1dHRvbioqOlxuICAgLSBBZGRlZCBhIG5ldyBidXR0b24gdG8gdGhlIHNlbGVjdGlvbiBmcmFtZSBVSVxuICAgLSBQb3NpdGlvbmVkIGl0IGJlbG93IHRoZSBcIlJlc2V0IFpvb21cIiBhbmQgXCJVcGRhdGUgUGxvdFwiIGJ1dHRvbnNcbiAgIC0gQ29ubmVjdGVkIGl0IHRvIHRoZSBuZXcgRUVHIHZpZXdlciBtZXRob2RcbiAgIC0gVXNlZCBhIGRpc3RpbmN0aXZlIGNvbG9yIHRvIG1ha2UgaXQgc3RhbmQgb3V0XG5cbjQuICoqQWRkZWQgRXJyb3IgSGFuZGxpbmcqKjpcbiAgIC0gQWRkZWQgY2hlY2tzIGZvciBmaWxlIGV4aXN0ZW5jZVxuICAgLSBBZGRlZCBhIGxvYWRpbmcgZGlhbG9nIHRvIGluZGljYXRlIHdoZW4gdGhlIEVFRyBmaWxlIGlzIGJlaW5nIGxvYWRlZFxuICAgLSBBZGRlZCBzdXBwb3J0IGZvciBkaWZmZXJlbnQgRUVHIGZpbGUgZm9ybWF0c1xuICAgLSBBZGRlZCBlcnJvciBtZXNzYWdlcyBmb3IgdmFyaW91cyBmYWlsdXJlIHNjZW5hcmlvc1xuXG4jIyBIb3cgdG8gVGVzdFxuXG5UbyB0ZXN0IHRoaXMgbmV3IGZlYXR1cmU6XG5cbjEuIEluc3RhbGwgTU5FIGlmIHlvdSBoYXZlbid0IGFscmVhZHk6XG4gICBgYGBcbiAgIHB5dGhvbiBndWkvaW5zdGFsbF9kZXBlbmRlbmNpZXMucHlcbiAgIGBgYFxuXG4yLiBSdW4gdGhlIG1ldHJpY3Mgdmlld2VyOlxuICAgYGBgXG4gICBweXRob24gZ3VpL3J1bl9tZXRyaWNzX3ZpZXdlci5weVxuICAgYGBgXG5cbjMuIFNlbGVjdCBhbiBleHBlcmltZW50IGFuZCBFRUcgZmlsZVxuXG40LiBPcHRpb25hbGx5LCBzZWxlY3QgYSB0aW1lIHdpbmRvdyBieSBlaXRoZXI6XG4gICAtIEVudGVyaW5nIHZhbHVlcyBpbiB0aGUgdGltZSB3aW5kb3cgZmllbGRzXG4gICAtIFVzaW5nIHRoZSBpbnRlcmFjdGl2ZSB6b29tIGZlYXR1cmUgb24gdGhlIHBsb3RcblxuNS4gQ2xpY2sgdGhlIFwiVmlldyBFRUdcIiBidXR0b24gdG8gb3BlbiB0aGUgRUVHIGZpbGUgaW4gTU5FJ3Mgdmlld2VyXG5cblRoZSBNTkUgdmlld2VyIHdpbGwgb3BlbiBhbmQgZGlzcGxheSB0aGUgRUVHIGRhdGEsIGZvY3VzZWQgb24gdGhlIHRpbWUgd2luZG93IHlvdSBzZWxlY3RlZCBpbiB0aGUgbWV0cmljcyB2aWV3ZXIuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiI2ZTgzNGU4Ni0zMGRhLTQ0NWUtYWE5YS0wMDI4MzM5MThmN2YiLCJ1dWlkIjoiYTUyZTYwOTUtODdjZS00MjUyLTg5NDQtYWQ3ODEzZDlmYTRlIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy1jaGVja3BvaW50LWRlbGltaXRlciIsInN0YXR1cyI6InN1Y2Nlc3MiLCJmcm9tVGltZXN0YW1wIjoxNzQ0ODMwNTQwMTIwLCJ0b1RpbWVzdGFtcCI6MTc0NDgzMDk2MjM4Miwic2Vlbl9zdGF0ZSI6InNlZW4ifV0sImZlZWRiYWNrU3RhdGVzIjp7InRlbXAtZmUtMmViODhlZDgtNzQzYy00NTQwLTkxN2EtNzM3ZGFkNzAxZjAyIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS01OGFkYjM0Yy1jZWFiLTRjYTItYTMwYS01MmRlZDY2YzU4ZWMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTgxMjg2Zjk3LTRjYjEtNGI1Zi05YWI1LTU1ZGVkN2Q4NmZkMiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNWMwNTA1OTQtNTRiOS00ZTFjLTg4ZWMtYWZlYTA0MzYyMzUyIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0xZTQxZmFlYy01MTcyLTRjNDYtODliZS00MWI1MjdiYjdhZDgiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTIwYTQxNGQyLWRkMmItNGQ4My1iMTRiLTYyNjk4ZTg2ZjkyMiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtY2IxZTczMTYtOTEwMC00ODZjLTg2NzAtY2NmMmZlZTk5YzdkIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS02ZWI3NWY1MS1mNjNiLTQ5MDQtOWU4OS0xMWMyMDdmYjA5NmQiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTQ0MGRlMmFhLWQ4NDQtNGZmYy1iMWRkLWI0ODRkOTBjY2NmYyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYzYzMTM3YWMtZDRiOC00ODNhLTk0NDQtMWIwNmRhYjdkNjNkIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0zODMwZDkzMy0zNzE1LTQ1NzYtOTc0Ni0wODAzOTBiNTE2MTQiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTgwZDJlMGQ1LTE1M2EtNDI0My04OWRiLWQ4YzVmOTEwNjMyMSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNTVlMGFkMjUtNmNhNC00ZTllLWJiZjYtNzdhOGVjMzFjNWY4Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0wNDBhMTg5ZC01OGJhLTRjMmItOTNiMy01YzU5NmE4ZDNjMjAiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWVlODYyMDZlLTk5N2UtNDEyOS1hOGVhLTAyMzhkNzE5MWM3YyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMTFhYzIxM2MtNWNkYi00NTY0LTliZGEtMDgyOTUzMzdmYWE0Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1hNDRiZjIxYy0yNTRmLTQ0MTYtYWM3Ni1iZTZhYzRiMDhmZjQiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWQyNzdkZjVlLTgyMjgtNDEzNi05YzUwLWRlMmQ1OTU2OGU2OSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNjM0ODE1MTgtZjBhMy00YmUzLTgzNDktNDkyZGEzNTk1MjY5Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1jNzdkOTQ4YS1kYzc3LTQ3OWQtYmRhMC1kYzk5NDljNTIzOGEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTA2MGU1ZmFkLTM4OGItNGJhNS1hZTFhLTc4OTRkNzk0Mzk3NCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNjcxNjM3YzUtMmI5ZC00NmQ4LTg0Y2QtMjlhYjM4ZjBlODE3Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS03YjQ5YTM1NS03M2JiLTQ2MWUtYmMyYi04NjEzZjJiZGVkNmEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTM3Mzg1ZDg1LWZkOWMtNDg2MC1iZGJjLWNlZjNmYTUzNmVjZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtOTljZTQzMWQtNDUyOC00MTU0LTg4MTYtZGNiZGEzZjA5OTRlIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0wNjJlNGRjNy01YWVkLTQ1NjUtYTAwZi0yZmIyOWMzNTcyN2IiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTgzYzE1YjhhLWEwMTEtNGMxNy04YzA2LTA3OTU3Y2IxN2QwMCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZTNlYzljMjAtNGU1NS00ZGNlLWEyOWMtNDc1ZjI3ZmMzZGM1Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS02ZTM2MDgxYi1mMmE4LTQzNDEtYTUwMS0wNDI2ZDk1MTY0NWYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWMyNjNjZWM0LTNlZTgtNDU1Zi1iYWFkLTRhODAzMzM1MTcwZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtODJmNWI4MDAtM2M3My00YTMxLTgxNDUtY2EzMWVkMWUxY2RkIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS05NWQ2Mjg2ZC01YmY3LTQzZWEtODUwNS1lYjUwYzU4MTllM2QiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9fSwidG9vbFVzZVN0YXRlcyI6eyI3YmU1YTE5NC1lNTgyLTQ4MTctOWNjNi0xZjlkZjQ3M2Y5YWY7dG9vbHVfdnJ0eF8wMVZaM1hRWGRmWjdkODFmMTFiVEQ0QVAiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogZ3VpL21ldHJpY3Nfdmlld2VyL2FwcC5weVxuXCJcIlwiXG5NYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuXCJcIlwiXG5cbmltcG9ydCBvc1xuaW1wb3J0IHN5c1xuaW1wb3J0IGN1c3RvbXRraW50ZXIgYXMgY3RrXG5cbmZyb20gLmRhdGFiYXNlX2hhbmRsZXIgaW1wb3J0IERhdGFiYXNlSGFuZGxlclxuZnJvbSAucGxvdF9mcmFtZSBpbXBvcnQgTWV0cmljc1Bsb3RGcmFtZVxuZnJvbSAuc2VsZWN0aW9uX2ZyYW1lIGltcG9ydCBTZWxlY3Rpb25GcmFtZVxuXG5cbmNsYXNzIEFwcChjdGsuQ1RrKTpcbiAgICBcIlwiXCJcbiAgICBNYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgIFwiXCJcIlxuICAgIFxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkYl9wYXRoOiBzdHIpOlxuICAgICAgICBcIlwiXCJcbiAgICAgICAgSW5pdGlhbGl6ZSB0aGUgYXBwbGljYXRpb24uXG4gICAgICAgIFxuICAgICAgICBBcmdzOlxuICAgICAgICAgICAgZGJfcGF0aDogUGF0aCB0byB0aGUgU1FMaXRlIGRhdGFiYXNlIGZpbGVcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIHN1cGVyKCkuX19pbml0X18oKVxuICAgICAgICBcbiAgICAgICAgIyBDb25maWd1cmUgd2luZG93XG4gICAgICAgIHNlbGYudGl0bGUoXCJFRUcgTWV0cmljcyBWaWV3ZXJcIilcbiAgICAgICAgc2VsZi5nZW9tZXRyeShcIjE0MDB4ODAwXCIpICAjIExhcmdlciBkZWZhdWx0IHNpemVcbiAgICAgICAgXG4gICAgICAgICMgQ29uZmlndXJlIGdyaWQgbGF5b3V0IC0gZ2l2ZSBtdWNoIG1vcmUgc3BhY2UgdG8gdGhlIHBsb3RcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkgICAgIyBTZWxlY3Rpb24gcGFuZWxcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgxLCB3ZWlnaHQ9NSkgICAgIyBQbG90IGFyZWEgKHNpZ25pZmljYW50bHkgaW5jcmVhc2VkIHdlaWdodClcbiAgICAgICAgc2VsZi5ncmlkX3Jvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgICAgICAgXG4gICAgICAgICMgSW5pdGlhbGl6ZSBkYXRhYmFzZSBoYW5kbGVyXG4gICAgICAgIHNlbGYuZGJfaGFuZGxlciA9IERhdGFiYXNlSGFuZGxlcihkYl9wYXRoKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgcGxvdCBmcmFtZSB3aXRoIG1vcmUgc3BhY2VcbiAgICAgICAgc2VsZi5wbG90X2ZyYW1lID0gTWV0cmljc1Bsb3RGcmFtZShzZWxmLCB0aXRsZT1cIk1ldHJpY3MgVmlzdWFsaXphdGlvblwiKVxuICAgICAgICBzZWxmLnBsb3RfZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTEsIHBhZHg9KDAsIDEwKSwgcGFkeT0xMCwgc3RpY2t5PVwibnNld1wiKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgc2VsZWN0aW9uIGZyYW1lIHdpdGggbmFycm93ZXIgZml4ZWQgd2lkdGhcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUgPSBTZWxlY3Rpb25GcmFtZShzZWxmLCBzZWxmLmRiX2hhbmRsZXIsIHNlbGYucGxvdF9mcmFtZSwgd2lkdGg9MjUwKVxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZS5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTEwLCBzdGlja3k9XCJuc2V3XCIpXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lLmdyaWRfcHJvcGFnYXRlKEZhbHNlKSAgIyBQcmV2ZW50IHRoZSBmcmFtZSBmcm9tIHJlc2l6aW5nIGJhc2VkIG9uIGNvbnRlbnRcbi4uLlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiNjc2OGE3OTMtNWNiNy00YjRjLTg1ZDgtZTRjNDlhNjJmY2E0O3Rvb2x1X3ZydHhfMDFBc21mRFpoenZYMjVYRWQ5Qmt6ckJDIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IGd1aS9tZXRyaWNzX3ZpZXdlci9hcHAucHlcblwiXCJcIlxuTWFpbiBhcHBsaWNhdGlvbiBjbGFzcyBmb3IgdGhlIEVFRyBNZXRyaWNzIFZpZXdlci5cblwiXCJcIlxuXG5pbXBvcnQgb3NcbmltcG9ydCBzeXNcbmltcG9ydCBjdXN0b210a2ludGVyIGFzIGN0a1xuXG5mcm9tIC5kYXRhYmFzZV9oYW5kbGVyIGltcG9ydCBEYXRhYmFzZUhhbmRsZXJcbmZyb20gLnBsb3RfZnJhbWUgaW1wb3J0IE1ldHJpY3NQbG90RnJhbWVcbmZyb20gLnNlbGVjdGlvbl9mcmFtZSBpbXBvcnQgU2VsZWN0aW9uRnJhbWVcblxuXG5jbGFzcyBBcHAoY3RrLkNUayk6XG4gICAgXCJcIlwiXG4gICAgTWFpbiBhcHBsaWNhdGlvbiBjbGFzcyBmb3IgdGhlIEVFRyBNZXRyaWNzIFZpZXdlci5cbiAgICBcIlwiXCJcbiAgICBcbiAgICBkZWYgX19pbml0X18oc2VsZiwgZGJfcGF0aDogc3RyKTpcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIEluaXRpYWxpemUgdGhlIGFwcGxpY2F0aW9uLlxuICAgICAgICBcbiAgICAgICAgQXJnczpcbiAgICAgICAgICAgIGRiX3BhdGg6IFBhdGggdG8gdGhlIFNRTGl0ZSBkYXRhYmFzZSBmaWxlXG4gICAgICAgIFwiXCJcIlxuICAgICAgICBzdXBlcigpLl9faW5pdF9fKClcbiAgICAgICAgXG4gICAgICAgICMgQ29uZmlndXJlIHdpbmRvd1xuICAgICAgICBzZWxmLnRpdGxlKFwiRUVHIE1ldHJpY3MgVmlld2VyXCIpXG4gICAgICAgIHNlbGYuZ2VvbWV0cnkoXCIxNDAweDgwMFwiKSAgIyBMYXJnZXIgZGVmYXVsdCBzaXplXG4gICAgICAgIFxuICAgICAgICAjIENvbmZpZ3VyZSBncmlkIGxheW91dCAtIGdpdmUgbXVjaCBtb3JlIHNwYWNlIHRvIHRoZSBwbG90XG4gICAgICAgIHNlbGYuZ3JpZF9jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpICAgICMgU2VsZWN0aW9uIHBhbmVsXG4gICAgICAgIHNlbGYuZ3JpZF9jb2x1bW5jb25maWd1cmUoMSwgd2VpZ2h0PTUpICAgICMgUGxvdCBhcmVhIChzaWduaWZpY2FudGx5IGluY3JlYXNlZCB3ZWlnaHQpXG4gICAgICAgIHNlbGYuZ3JpZF9yb3djb25maWd1cmUoMCwgd2VpZ2h0PTEpXG4gICAgICAgIFxuICAgICAgICAjIEluaXRpYWxpemUgZGF0YWJhc2UgaGFuZGxlclxuICAgICAgICBzZWxmLmRiX2hhbmRsZXIgPSBEYXRhYmFzZUhhbmRsZXIoZGJfcGF0aClcbiAgICAgICAgXG4gICAgICAgICMgQ3JlYXRlIHBsb3QgZnJhbWUgd2l0aCBtb3JlIHNwYWNlXG4gICAgICAgIHNlbGYucGxvdF9mcmFtZSA9IE1ldHJpY3NQbG90RnJhbWUoc2VsZiwgdGl0bGU9XCJNZXRyaWNzIFZpc3VhbGl6YXRpb25cIilcbiAgICAgICAgc2VsZi5wbG90X2ZyYW1lLmdyaWQocm93PTAsIGNvbHVtbj0xLCBwYWR4PSgwLCAxMCksIHBhZHk9MTAsIHN0aWNreT1cIm5zZXdcIilcbiAgICAgICAgXG4gICAgICAgICMgQ3JlYXRlIHNlbGVjdGlvbiBmcmFtZSB3aXRoIG5hcnJvd2VyIGZpeGVkIHdpZHRoXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lID0gU2VsZWN0aW9uRnJhbWUoc2VsZiwgc2VsZi5kYl9oYW5kbGVyLCBzZWxmLnBsb3RfZnJhbWUsIHdpZHRoPTI1MClcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0xMCwgc3RpY2t5PVwibnNld1wiKVxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZS5ncmlkX3Byb3BhZ2F0ZShGYWxzZSkgICMgUHJldmVudCB0aGUgZnJhbWUgZnJvbSByZXNpemluZyBiYXNlZCBvbiBjb250ZW50XG4uLi5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImQxMjIzYWYyLWMyNWQtNGY2Zi04NmZhLWI0ZGY2ZjdmMzI0ZDt0b29sdV92cnR4XzAxMjZoNFQ4QmplOUJhUFBxeDJQTlY5QSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBndWkvbWV0cmljc192aWV3ZXIvYXBwLnB5XG5cIlwiXCJcbk1haW4gYXBwbGljYXRpb24gY2xhc3MgZm9yIHRoZSBFRUcgTWV0cmljcyBWaWV3ZXIuXG5cIlwiXCJcblxuaW1wb3J0IG9zXG5pbXBvcnQgc3lzXG5pbXBvcnQgY3VzdG9tdGtpbnRlciBhcyBjdGtcblxuZnJvbSAuZGF0YWJhc2VfaGFuZGxlciBpbXBvcnQgRGF0YWJhc2VIYW5kbGVyXG5mcm9tIC5wbG90X2ZyYW1lIGltcG9ydCBNZXRyaWNzUGxvdEZyYW1lXG5mcm9tIC5zZWxlY3Rpb25fZnJhbWUgaW1wb3J0IFNlbGVjdGlvbkZyYW1lXG5cblxuY2xhc3MgQXBwKGN0ay5DVGspOlxuICAgIFwiXCJcIlxuICAgIE1haW4gYXBwbGljYXRpb24gY2xhc3MgZm9yIHRoZSBFRUcgTWV0cmljcyBWaWV3ZXIuXG4gICAgXCJcIlwiXG4gICAgXG4gICAgZGVmIF9faW5pdF9fKHNlbGYsIGRiX3BhdGg6IHN0cik6XG4gICAgICAgIFwiXCJcIlxuICAgICAgICBJbml0aWFsaXplIHRoZSBhcHBsaWNhdGlvbi5cbiAgICAgICAgXG4gICAgICAgIEFyZ3M6XG4gICAgICAgICAgICBkYl9wYXRoOiBQYXRoIHRvIHRoZSBTUUxpdGUgZGF0YWJhc2UgZmlsZVxuICAgICAgICBcIlwiXCJcbiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpXG4gICAgICAgIFxuICAgICAgICAjIENvbmZpZ3VyZSB3aW5kb3dcbiAgICAgICAgc2VsZi50aXRsZShcIkVFRyBNZXRyaWNzIFZpZXdlclwiKVxuICAgICAgICBzZWxmLmdlb21ldHJ5KFwiMTQwMHg4MDBcIikgICMgTGFyZ2VyIGRlZmF1bHQgc2l6ZVxuICAgICAgICBcbiAgICAgICAgIyBDb25maWd1cmUgZ3JpZCBsYXlvdXQgLSBnaXZlIG11Y2ggbW9yZSBzcGFjZSB0byB0aGUgcGxvdFxuICAgICAgICBzZWxmLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKSAgICAjIFNlbGVjdGlvbiBwYW5lbFxuICAgICAgICBzZWxmLmdyaWRfY29sdW1uY29uZmlndXJlKDEsIHdlaWdodD01KSAgICAjIFBsb3QgYXJlYSAoc2lnbmlmaWNhbnRseSBpbmNyZWFzZWQgd2VpZ2h0KVxuICAgICAgICBzZWxmLmdyaWRfcm93Y29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgICAgICBcbiAgICAgICAgIyBJbml0aWFsaXplIGRhdGFiYXNlIGhhbmRsZXJcbiAgICAgICAgc2VsZi5kYl9oYW5kbGVyID0gRGF0YWJhc2VIYW5kbGVyKGRiX3BhdGgpXG4gICAgICAgIFxuICAgICAgICAjIENyZWF0ZSBwbG90IGZyYW1lIHdpdGggbW9yZSBzcGFjZVxuICAgICAgICBzZWxmLnBsb3RfZnJhbWUgPSBNZXRyaWNzUGxvdEZyYW1lKHNlbGYsIHRpdGxlPVwiTWV0cmljcyBWaXN1YWxpemF0aW9uXCIpXG4gICAgICAgIHNlbGYucGxvdF9mcmFtZS5ncmlkKHJvdz0wLCBjb2x1bW49MSwgcGFkeD0oMCwgMTApLCBwYWR5PTEwLCBzdGlja3k9XCJuc2V3XCIpXG4gICAgICAgIFxuICAgICAgICAjIENyZWF0ZSBzZWxlY3Rpb24gZnJhbWUgd2l0aCBuYXJyb3dlciBmaXhlZCB3aWR0aFxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZSA9IFNlbGVjdGlvbkZyYW1lKHNlbGYsIHNlbGYuZGJfaGFuZGxlciwgc2VsZi5wbG90X2ZyYW1lLCB3aWR0aD0yNTApXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lLmdyaWQocm93PTAsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9MTAsIHN0aWNreT1cIm5zZXdcIilcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUuZ3JpZF9wcm9wYWdhdGUoRmFsc2UpICAjIFByZXZlbnQgdGhlIGZyYW1lIGZyb20gcmVzaXppbmcgYmFzZWQgb24gY29udGVudFxuLi4uXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI5Mzk3ZGQ1OC02YTFiLTRiNDAtYTY0YS05NDM3MTkyYTRiNTU7dG9vbHVfdnJ0eF8wMUFwZVdvaGNrRGRKUGVpeGJyTWJwaXQiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogZ3VpL21ldHJpY3Nfdmlld2VyL2FwcC5weVxuXCJcIlwiXG5NYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuXCJcIlwiXG5cbmltcG9ydCBvc1xuaW1wb3J0IHN5c1xuaW1wb3J0IGN1c3RvbXRraW50ZXIgYXMgY3RrXG5cbmZyb20gLmRhdGFiYXNlX2hhbmRsZXIgaW1wb3J0IERhdGFiYXNlSGFuZGxlclxuZnJvbSAucGxvdF9mcmFtZSBpbXBvcnQgTWV0cmljc1Bsb3RGcmFtZVxuZnJvbSAuc2VsZWN0aW9uX2ZyYW1lIGltcG9ydCBTZWxlY3Rpb25GcmFtZVxuXG5cbmNsYXNzIEFwcChjdGsuQ1RrKTpcbiAgICBcIlwiXCJcbiAgICBNYWluIGFwcGxpY2F0aW9uIGNsYXNzIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgIFwiXCJcIlxuICAgIFxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBkYl9wYXRoOiBzdHIpOlxuICAgICAgICBcIlwiXCJcbiAgICAgICAgSW5pdGlhbGl6ZSB0aGUgYXBwbGljYXRpb24uXG4gICAgICAgIFxuICAgICAgICBBcmdzOlxuICAgICAgICAgICAgZGJfcGF0aDogUGF0aCB0byB0aGUgU1FMaXRlIGRhdGFiYXNlIGZpbGVcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIHN1cGVyKCkuX19pbml0X18oKVxuICAgICAgICBcbiAgICAgICAgIyBDb25maWd1cmUgd2luZG93XG4gICAgICAgIHNlbGYudGl0bGUoXCJFRUcgTWV0cmljcyBWaWV3ZXJcIilcbiAgICAgICAgc2VsZi5nZW9tZXRyeShcIjE0MDB4ODAwXCIpICAjIExhcmdlciBkZWZhdWx0IHNpemVcbiAgICAgICAgXG4gICAgICAgICMgQ29uZmlndXJlIGdyaWQgbGF5b3V0IC0gZ2l2ZSBtdWNoIG1vcmUgc3BhY2UgdG8gdGhlIHBsb3RcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkgICAgIyBTZWxlY3Rpb24gcGFuZWxcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgxLCB3ZWlnaHQ9NSkgICAgIyBQbG90IGFyZWEgKHNpZ25pZmljYW50bHkgaW5jcmVhc2VkIHdlaWdodClcbiAgICAgICAgc2VsZi5ncmlkX3Jvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgICAgICAgXG4gICAgICAgICMgSW5pdGlhbGl6ZSBkYXRhYmFzZSBoYW5kbGVyXG4gICAgICAgIHNlbGYuZGJfaGFuZGxlciA9IERhdGFiYXNlSGFuZGxlcihkYl9wYXRoKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgcGxvdCBmcmFtZSB3aXRoIG1vcmUgc3BhY2VcbiAgICAgICAgc2VsZi5wbG90X2ZyYW1lID0gTWV0cmljc1Bsb3RGcmFtZShzZWxmLCB0aXRsZT1cIk1ldHJpY3MgVmlzdWFsaXphdGlvblwiKVxuICAgICAgICBzZWxmLnBsb3RfZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTEsIHBhZHg9KDAsIDEwKSwgcGFkeT0xMCwgc3RpY2t5PVwibnNld1wiKVxuICAgICAgICBcbiAgICAgICAgIyBDcmVhdGUgc2VsZWN0aW9uIGZyYW1lIHdpdGggbmFycm93ZXIgZml4ZWQgd2lkdGhcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUgPSBTZWxlY3Rpb25GcmFtZShzZWxmLCBzZWxmLmRiX2hhbmRsZXIsIHNlbGYucGxvdF9mcmFtZSwgd2lkdGg9MjUwKVxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZS5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTEwLCBzdGlja3k9XCJuc2V3XCIpXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lLmdyaWRfcHJvcGFnYXRlKEZhbHNlKSAgIyBQcmV2ZW50IHRoZSBmcmFtZSBmcm9tIHJlc2l6aW5nIGJhc2VkIG9uIGNvbnRlbnRcbi4uLlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMjkzYjYxODctNDIyNy00NWIyLWIyOWQtNDM2NmUwNmM5NGJjO3Rvb2x1X3ZydHhfMDEyNGNXUDZWZ1VxdHc4dkh1dUc1dGRVIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IGd1aS9tZXRyaWNzX3ZpZXdlci9hcHAucHlcblwiXCJcIlxuTWFpbiBhcHBsaWNhdGlvbiBjbGFzcyBmb3IgdGhlIEVFRyBNZXRyaWNzIFZpZXdlci5cblwiXCJcIlxuXG5pbXBvcnQgb3NcbmltcG9ydCBzeXNcbmltcG9ydCBjdXN0b210a2ludGVyIGFzIGN0a1xuXG5mcm9tIC5kYXRhYmFzZV9oYW5kbGVyIGltcG9ydCBEYXRhYmFzZUhhbmRsZXJcbmZyb20gLnBsb3RfZnJhbWUgaW1wb3J0IE1ldHJpY3NQbG90RnJhbWVcbmZyb20gLnNlbGVjdGlvbl9mcmFtZSBpbXBvcnQgU2VsZWN0aW9uRnJhbWVcblxuXG5jbGFzcyBBcHAoY3RrLkNUayk6XG4gICAgXCJcIlwiXG4gICAgTWFpbiBhcHBsaWNhdGlvbiBjbGFzcyBmb3IgdGhlIEVFRyBNZXRyaWNzIFZpZXdlci5cbiAgICBcIlwiXCJcbiAgICBcbiAgICBkZWYgX19pbml0X18oc2VsZiwgZGJfcGF0aDogc3RyKTpcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIEluaXRpYWxpemUgdGhlIGFwcGxpY2F0aW9uLlxuICAgICAgICBcbiAgICAgICAgQXJnczpcbiAgICAgICAgICAgIGRiX3BhdGg6IFBhdGggdG8gdGhlIFNRTGl0ZSBkYXRhYmFzZSBmaWxlXG4gICAgICAgIFwiXCJcIlxuICAgICAgICBzdXBlcigpLl9faW5pdF9fKClcbiAgICAgICAgXG4gICAgICAgICMgQ29uZmlndXJlIHdpbmRvd1xuICAgICAgICBzZWxmLnRpdGxlKFwiRUVHIE1ldHJpY3MgVmlld2VyXCIpXG4gICAgICAgIHNlbGYuZ2VvbWV0cnkoXCIxNDAweDgwMFwiKSAgIyBMYXJnZXIgZGVmYXVsdCBzaXplXG4gICAgICAgIFxuICAgICAgICAjIENvbmZpZ3VyZSBncmlkIGxheW91dCAtIGdpdmUgbXVjaCBtb3JlIHNwYWNlIHRvIHRoZSBwbG90XG4gICAgICAgIHNlbGYuZ3JpZF9jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpICAgICMgU2VsZWN0aW9uIHBhbmVsXG4gICAgICAgIHNlbGYuZ3JpZF9jb2x1bW5jb25maWd1cmUoMSwgd2VpZ2h0PTUpICAgICMgUGxvdCBhcmVhIChzaWduaWZpY2FudGx5IGluY3JlYXNlZCB3ZWlnaHQpXG4gICAgICAgIHNlbGYuZ3JpZF9yb3djb25maWd1cmUoMCwgd2VpZ2h0PTEpXG4gICAgICAgIFxuICAgICAgICAjIEluaXRpYWxpemUgZGF0YWJhc2UgaGFuZGxlclxuICAgICAgICBzZWxmLmRiX2hhbmRsZXIgPSBEYXRhYmFzZUhhbmRsZXIoZGJfcGF0aClcbiAgICAgICAgXG4gICAgICAgICMgQ3JlYXRlIHBsb3QgZnJhbWUgd2l0aCBtb3JlIHNwYWNlXG4gICAgICAgIHNlbGYucGxvdF9mcmFtZSA9IE1ldHJpY3NQbG90RnJhbWUoc2VsZiwgdGl0bGU9XCJNZXRyaWNzIFZpc3VhbGl6YXRpb25cIilcbiAgICAgICAgc2VsZi5wbG90X2ZyYW1lLmdyaWQocm93PTAsIGNvbHVtbj0xLCBwYWR4PSgwLCAxMCksIHBhZHk9MTAsIHN0aWNreT1cIm5zZXdcIilcbiAgICAgICAgXG4gICAgICAgICMgQ3JlYXRlIHNlbGVjdGlvbiBmcmFtZSB3aXRoIG5hcnJvd2VyIGZpeGVkIHdpZHRoXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lID0gU2VsZWN0aW9uRnJhbWUoc2VsZiwgc2VsZi5kYl9oYW5kbGVyLCBzZWxmLnBsb3RfZnJhbWUsIHdpZHRoPTI1MClcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0xMCwgc3RpY2t5PVwibnNld1wiKVxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZS5ncmlkX3Byb3BhZ2F0ZShGYWxzZSkgICMgUHJldmVudCB0aGUgZnJhbWUgZnJvbSByZXNpemluZyBiYXNlZCBvbiBjb250ZW50XG4uLi5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImFhOTRhYTNiLTAwMDgtNDFiNy1iOWRlLTMwNjU5NzZmYjEyNjt0b29sdV92cnR4XzAxMktWUnQxelBQTlhpcWhXNnViNjJ2QSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlIGFyZSB0aGUgcmVzdWx0cyBmcm9tIGV4ZWN1dGluZyB0aGUgY29tbWFuZC5cbiAgICAgICAgPHJldHVybi1jb2RlPlxuICAgICAgICAwXG4gICAgICAgIDwvcmV0dXJuLWNvZGU+XG4gICAgICAgIDxzdGRvdXQ+XG4gICAgICAgIGd1aS9pbnN0YWxsX2RlcGVuZGVuY2llcy5weVxuZ3VpL21ldHJpY3Nfdmlld2VyL2FwcC5weVxuZ3VpL21ldHJpY3Nfdmlld2VyL2RhdGFiYXNlX2hhbmRsZXIucHlcbmd1aS9tZXRyaWNzX3ZpZXdlci9fX2luaXRfXy5weVxuZ3VpL21ldHJpY3Nfdmlld2VyL3Bsb3RfZnJhbWUucHlcbmd1aS9tZXRyaWNzX3ZpZXdlci9fX3B5Y2FjaGVfXy9hcHAuY3B5dGhvbi0zMTMucHljXG5ndWkvbWV0cmljc192aWV3ZXIvX19weWNhY2hlX18vZGF0YWJhc2VfaGFuZGxlci5jcHl0aG9uLTMxMy5weWNcbmd1aS9tZXRyaWNzX3ZpZXdlci9fX3B5Y2FjaGVfXy9fX2luaXRfXy5jcHl0aG9uLTMxMy5weWNcbmd1aS9tZXRyaWNzX3ZpZXdlci9fX3B5Y2FjaGVfXy9wbG90X2ZyYW1lLmNweXRob24tMzEzLnB5Y1xuZ3VpL21ldHJpY3Nfdmlld2VyL19fcHljYWNoZV9fL3NlbGVjdGlvbl9mcmFtZS5jcHl0aG9uLTMxMy5weWNcbmd1aS9tZXRyaWNzX3ZpZXdlci9fX3B5Y2FjaGVfXy91dGlscy5jcHl0aG9uLTMxMy5weWNcbmd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHlcbmd1aS9tZXRyaWNzX3ZpZXdlci91dGlscy5weVxuZ3VpL3Bsb3R0aW5nX29uZXNob3QucHlcbmd1aS9fX3B5Y2FjaGVfXy9tZXRyaWNzX3ZpZXdlci5jcHl0aG9uLTMxMy5weWNcbmd1aS9SRUFETUUubWRcbmd1aS9ydW5fbWV0cmljc192aWV3ZXIucHlcbmd1aS90ZXN0X3N0cnVjdHVyZS5weVxuXG4gICAgICAgIDwvc3Rkb3V0PlxuICAgICAgICA8c3RkZXJyPlxuICAgICAgICBcbiAgICAgICAgPC9zdGRlcnI+IiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMmJiN2NkMGItYzQyYS00NzA1LWFjMWUtZDhlOWFmODc3MDZmO3Rvb2x1X3ZydHhfMDFYVzd5Q2djdlRGWGtSUWNyS0VSdXJFIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gZ3VpL21ldHJpY3Nfdmlld2VyL2RhdGFiYXNlX2hhbmRsZXIucHk6XG4gICAgIDFcdFwiXCJcIlxuICAgICAyXHREYXRhYmFzZSBoYW5kbGVyIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgICAzXHRcbiAgICAgNFx0VGhpcyBtb2R1bGUgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgU1FMaXRlIGRhdGFiYXNlXG4gICAgIDVcdGNvbnRhaW5pbmcgRUVHIG1ldHJpY3MgZGF0YS5cbiAgICAgNlx0XCJcIlwiXG4gICAgIDdcdFxuICAgICA4XHRpbXBvcnQgb3NcbiAgICAgOVx0aW1wb3J0IHN5c1xuICAgIDEwXHRmcm9tIHR5cGluZyBpbXBvcnQgTGlzdCwgRGljdCwgQW55LCBPcHRpb25hbFxuICAgIDExXHRpbXBvcnQgcGFuZGFzIGFzIHBkXG4gICAgMTJcdFxuICAgIDEzXHQjIEFkZCB0aGUgcGFyZW50IGRpcmVjdG9yeSB0byB0aGUgcGF0aCBzbyB3ZSBjYW4gaW1wb3J0IGZyb20gT09QX0FuYWx5emVyXG4gICAgMTRcdHN5cy5wYXRoLmFwcGVuZChvcy5wYXRoLmRpcm5hbWUob3MucGF0aC5kaXJuYW1lKG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmFic3BhdGgoX19maWxlX18pKSkpKVxuICAgIDE1XHRmcm9tIE9PUF9BbmFseXplciBpbXBvcnQgQWxjaGVtaXN0XG4gICAgMTZcdFxuICAgIDE3XHRmcm9tIC51dGlscyBpbXBvcnQgTUVUQURBVEFfQ09MVU1OU1xuICAgIDE4XHRcbiAgICAxOVx0XG4gICAgMjBcdGNsYXNzIERhdGFiYXNlSGFuZGxlcjpcbiAgICAyMVx0ICAgIFwiXCJcIlxuICAgIDIyXHQgICAgSGFuZGxlcyBpbnRlcmFjdGlvbnMgd2l0aCB0aGUgU1FMaXRlIGRhdGFiYXNlIGNvbnRhaW5pbmcgRUVHIG1ldHJpY3MuXG4gICAgMjNcdCAgICBcIlwiXCJcbiAgICAyNFx0ICAgIFxuICAgIDI1XHQgICAgZGVmIF9faW5pdF9fKHNlbGYsIGRiX3BhdGg6IHN0cik6XG4gICAgMjZcdCAgICAgICAgXCJcIlwiXG4gICAgMjdcdCAgICAgICAgSW5pdGlhbGl6ZSB0aGUgZGF0YWJhc2UgaGFuZGxlci5cbiAgICAyOFx0ICAgICAgICBcbiAgICAyOVx0ICAgICAgICBBcmdzOlxuICAgIDMwXHQgICAgICAgICAgICBkYl9wYXRoOiBQYXRoIHRvIHRoZSBTUUxpdGUgZGF0YWJhc2UgZmlsZVxuICAgIDMxXHQgICAgICAgIFwiXCJcIlxuICAgIDMyXHQgICAgICAgIHNlbGYuZGJfcGF0aCA9IGRiX3BhdGhcbiAgICAzM1x0ICAgICAgICBzZWxmLmVuZ2luZSA9IEFsY2hlbWlzdC5pbml0aWFsaXplX3RhYmxlcyhkYl9wYXRoKVxuICAgIDM0XHQgICAgICAgIHNlbGYuc2Vzc2lvbiA9IEFsY2hlbWlzdC5TZXNzaW9uKHNlbGYuZW5naW5lKVxuICAgIDM1XHQgICAgICAgIFxuICAgIDM2XHQgICAgZGVmIF9fZGVsX18oc2VsZik6XG4gICAgMzdcdCAgICAgICAgXCJcIlwiQ2xvc2UgdGhlIHNlc3Npb24gd2hlbiB0aGUgb2JqZWN0IGlzIGRlbGV0ZWQuXCJcIlwiXG4gICAgMzhcdCAgICAgICAgaWYgaGFzYXR0cihzZWxmLCAnc2Vzc2lvbicpOlxuICAgIDM5XHQgICAgICAgICAgICBzZWxmLnNlc3Npb24uY2xvc2UoKVxuICAgIDQwXHQgICAgXG4gICAgNDFcdCAgICBkZWYgZ2V0X2V4cGVyaW1lbnRzKHNlbGYpIC0+IExpc3RbRGljdFtzdHIsIEFueV1dOlxuICAgIDQyXHQgICAgICAgIFwiXCJcIlxuICAgIDQzXHQgICAgICAgIEdldCBhbGwgZXhwZXJpbWVudHMgZnJvbSB0aGUgZGF0YWJhc2UuXG4gICAgNDRcdCAgICAgICAgXG4gICAgNDVcdCAgICAgICAgUmV0dXJuczpcbiAgICA0Nlx0ICAgICAgICAgICAgTGlzdCBvZiBkaWN0aW9uYXJpZXMgY29udGFpbmluZyBleHBlcmltZW50IGluZm9ybWF0aW9uXG4gICAgNDdcdCAgICAgICAgXCJcIlwiXG4gICAgNDhcdCAgICAgICAgZXhwZXJpbWVudHMgPSBBbGNoZW1pc3QuZmluZF9lbnRyaWVzKHNlbGYuc2Vzc2lvbiwgQWxjaGVtaXN0LkV4cGVyaW1lbnQpXG4gICAgNDlcdCAgICAgICAgcmV0dXJuIFt7J2lkJzogZXhwLmlkLCAnbmFtZSc6IGV4cC5tZXRyaWNfc2V0X25hbWUsICdydW5fbmFtZSc6IGV4cC5ydW5fbmFtZX0gZm9yIGV4cCBpbiBleHBlcmltZW50c11cbiAgICA1MFx0ICAgIFxuICAgIDUxXHQgICAgZGVmIGdldF9lZWdzX2Zvcl9leHBlcmltZW50KHNlbGYsIGV4cGVyaW1lbnRfaWQ6IHN0cikgLT4gTGlzdFtEaWN0W3N0ciwgQW55XV06XG4gICAgNTJcdCAgICAgICAgXCJcIlwiXG4gICAgNTNcdCAgICAgICAgR2V0IGFsbCBFRUdzIGFzc29jaWF0ZWQgd2l0aCBhIHNwZWNpZmljIGV4cGVyaW1lbnQuXG4gICAgNTRcdCAgICAgICAgXG4gICAgNTVcdCAgICAgICAgQXJnczpcbiAgICA1Nlx0ICAgICAgICAgICAgZXhwZXJpbWVudF9pZDogSUQgb2YgdGhlIGV4cGVyaW1lbnRcbiAgICA1N1x0ICAgICAgICAgICAgXG4gICAgNThcdCAgICAgICAgUmV0dXJuczpcbiAgICA1OVx0ICAgICAgICAgICAgTGlzdCBvZiBkaWN0aW9uYXJpZXMgY29udGFpbmluZyBFRUcgaW5mb3JtYXRpb25cbiAgICA2MFx0ICAgICAgICBcIlwiXCJcbiAgICA2MVx0ICAgICAgICBleHBlcmltZW50ID0gc2VsZi5zZXNzaW9uLmdldChBbGNoZW1pc3QuRXhwZXJpbWVudCwgZXhwZXJpbWVudF9pZClcbiAgICA2Mlx0ICAgICAgICBpZiBub3QgZXhwZXJpbWVudDpcbiAgICA2M1x0ICAgICAgICAgICAgcmV0dXJuIFtdXG4gICAgNjRcdCAgICAgICAgXG4gICAgNjVcdCAgICAgICAgcmV0dXJuIFt7J2lkJzogZWVnLmlkLCAnZmlsZW5hbWUnOiBlZWcuZmlsZW5hbWUsICdmaWxlcGF0aCc6IGVlZy5maWxlcGF0aH0gZm9yIGVlZyBpbiBleHBlcmltZW50LmVlZ3NdXG4gICAgNjZcdCAgICBcbiAgICA2N1x0ICAgIGRlZiBnZXRfbWV0cmljc19kYXRhKHNlbGYsIGV4cGVyaW1lbnRfaWQ6IHN0ciwgZWVnX2lkOiBzdHIpIC0+IHBkLkRhdGFGcmFtZTpcbiAgICA2OFx0ICAgICAgICBcIlwiXCJcbiAgICA2OVx0ICAgICAgICBHZXQgbWV0cmljcyBkYXRhIGZvciBhIHNwZWNpZmljIGV4cGVyaW1lbnQgYW5kIEVFRy5cbiAgICA3MFx0ICAgICAgICBcbiAgICA3MVx0ICAgICAgICBBcmdzOlxuICAgIDcyXHQgICAgICAgICAgICBleHBlcmltZW50X2lkOiBJRCBvZiB0aGUgZXhwZXJpbWVudFxuICAgIDczXHQgICAgICAgICAgICBlZWdfaWQ6IElEIG9mIHRoZSBFRUdcbiAgICA3NFx0ICAgICAgICAgICAgXG4gICAgNzVcdCAgICAgICAgUmV0dXJuczpcbiAgICA3Nlx0ICAgICAgICAgICAgRGF0YUZyYW1lIGNvbnRhaW5pbmcgdGhlIG1ldHJpY3MgZGF0YVxuICAgIDc3XHQgICAgICAgIFwiXCJcIlxuICAgIDc4XHQgICAgICAgIHRhYmxlX25hbWUgPSBmXCJkYXRhX2V4cGVyaW1lbnRfe2V4cGVyaW1lbnRfaWR9XCJcbiAgICA3OVx0ICAgICAgICBcbiAgICA4MFx0ICAgICAgICB0cnk6XG4gICAgODFcdCAgICAgICAgICAgICMgUXVlcnkgdGhlIGRhdGEgZm9yIHRoZSBzcGVjaWZpYyBFRUdcbiAgICA4Mlx0ICAgICAgICAgICAgcXVlcnkgPSBmXCJTRUxFQ1QgKiBGUk9NIHt0YWJsZV9uYW1lfSBXSEVSRSBlZWdfaWQgPSAne2VlZ19pZH0nXCJcbiAgICA4M1x0ICAgICAgICAgICAgZGYgPSBwZC5yZWFkX3NxbF9xdWVyeShxdWVyeSwgc2VsZi5lbmdpbmUpXG4gICAgODRcdCAgICAgICAgICAgIHJldHVybiBkZlxuICAgIDg1XHQgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcbiAgICA4Nlx0ICAgICAgICAgICAgcHJpbnQoZlwiRXJyb3IgcmV0cmlldmluZyBtZXRyaWNzIGRhdGE6IHtlfVwiKVxuICAgIDg3XHQgICAgICAgICAgICByZXR1cm4gcGQuRGF0YUZyYW1lKClcbiAgICA4OFx0ICAgIFxuICAgIDg5XHQgICAgZGVmIGdldF9hdmFpbGFibGVfbWV0cmljcyhzZWxmLCBleHBlcmltZW50X2lkOiBzdHIsIGVlZ19pZDogc3RyKSAtPiBMaXN0W3N0cl06XG4gICAgOTBcdCAgICAgICAgXCJcIlwiXG4gICAgOTFcdCAgICAgICAgR2V0IHRoZSB1bmlxdWUgbWV0cmljIG5hbWVzIGF2YWlsYWJsZSBmb3IgYSBzcGVjaWZpYyBleHBlcmltZW50IGFuZCBFRUcuXG4gICAgOTJcdCAgICAgICAgXG4gICAgOTNcdCAgICAgICAgQXJnczpcbiAgICA5NFx0ICAgICAgICAgICAgZXhwZXJpbWVudF9pZDogSUQgb2YgdGhlIGV4cGVyaW1lbnRcbiAgICA5NVx0ICAgICAgICAgICAgZWVnX2lkOiBJRCBvZiB0aGUgRUVHXG4gICAgOTZcdCAgICAgICAgICAgIFxuICAgIDk3XHQgICAgICAgIFJldHVybnM6XG4gICAgOThcdCAgICAgICAgICAgIExpc3Qgb2YgdW5pcXVlIG1ldHJpYyBuYW1lc1xuICAgIDk5XHQgICAgICAgIFwiXCJcIlxuICAgMTAwXHQgICAgICAgIGRmID0gc2VsZi5nZXRfbWV0cmljc19kYXRhKGV4cGVyaW1lbnRfaWQsIGVlZ19pZClcbiAgIDEwMVx0ICAgICAgICBcbiAgIDEwMlx0ICAgICAgICBpZiAnbWV0cmljJyBpbiBkZi5jb2x1bW5zOlxuICAgMTAzXHQgICAgICAgICAgICByZXR1cm4gZGZbJ21ldHJpYyddLnVuaXF1ZSgpLnRvbGlzdCgpXG4gICAxMDRcdCAgICAgICAgcmV0dXJuIFtdXG4gICAxMDVcdCAgICBcbiAgIDEwNlx0ICAgIGRlZiBnZXRfYXZhaWxhYmxlX2NoYW5uZWxzKHNlbGYsIGV4cGVyaW1lbnRfaWQ6IHN0ciwgZWVnX2lkOiBzdHIpIC0+IExpc3Rbc3RyXTpcbiAgIDEwN1x0ICAgICAgICBcIlwiXCJcbiAgIDEwOFx0ICAgICAgICBHZXQgdGhlIGNoYW5uZWwgbmFtZXMgYXZhaWxhYmxlIGZvciBhIHNwZWNpZmljIGV4cGVyaW1lbnQgYW5kIEVFRy5cbiAgIDEwOVx0ICAgICAgICBcbiAgIDExMFx0ICAgICAgICBBcmdzOlxuICAgMTExXHQgICAgICAgICAgICBleHBlcmltZW50X2lkOiBJRCBvZiB0aGUgZXhwZXJpbWVudFxuICAgMTEyXHQgICAgICAgICAgICBlZWdfaWQ6IElEIG9mIHRoZSBFRUdcbiAgIDExM1x0ICAgICAgICAgICAgXG4gICAxMTRcdCAgICAgICAgUmV0dXJuczpcbiAgIDExNVx0ICAgICAgICAgICAgTGlzdCBvZiBjaGFubmVsIG5hbWVzIHNvcnRlZCBhbHBoYWJldGljYWxseVxuICAgMTE2XHQgICAgICAgIFwiXCJcIlxuICAgMTE3XHQgICAgICAgIGRmID0gc2VsZi5nZXRfbWV0cmljc19kYXRhKGV4cGVyaW1lbnRfaWQsIGVlZ19pZClcbiAgIDExOFx0ICAgICAgICBcbiAgIDExOVx0ICAgICAgICAjIEV4Y2x1ZGUgbWV0YWRhdGEgY29sdW1uc1xuICAgMTIwXHQgICAgICAgIGNoYW5uZWxfY29scyA9IFtjb2wgZm9yIGNvbCBpbiBkZi5jb2x1bW5zIGlmIGNvbCBub3QgaW4gTUVUQURBVEFfQ09MVU1OU11cbiAgIDEyMVx0ICAgICAgICBcbiAgIDEyMlx0ICAgICAgICAjIFNvcnQgY2hhbm5lbHMgYWxwaGFiZXRpY2FsbHlcbiAgIDEyM1x0ICAgICAgICBjaGFubmVsX2NvbHMuc29ydCgpXG4gICAxMjRcdCAgICAgICAgXG4gICAxMjVcdCAgICAgICAgcmV0dXJuIGNoYW5uZWxfY29sc1xuICAgMTI2XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDEyNlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiM2MxMjlhYmItMTAyNS00ZTBhLWIyY2EtNmJjMWQ1ZWVlYjAxO3Rvb2x1X3ZydHhfMDEyM2M4UWd6S1BxZnJIdXlMdnhNRkRhIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gZ3VpL21ldHJpY3Nfdmlld2VyL3Bsb3RfZnJhbWUucHk6XG4gICAgIDFcdFwiXCJcIlxuICAgICAyXHRQbG90IGZyYW1lIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgICAzXHRcbiAgICAgNFx0VGhpcyBtb2R1bGUgcHJvdmlkZXMgdGhlIE1ldHJpY3NQbG90RnJhbWUgY2xhc3MgZm9yIHZpc3VhbGl6aW5nIEVFRyBtZXRyaWNzIGRhdGEuXG4gICAgIDVcdFwiXCJcIlxuICAgICA2XHRcbiAgICAgN1x0ZnJvbSB0eXBpbmcgaW1wb3J0IExpc3QsIERpY3QsIFR1cGxlLCBPcHRpb25hbCwgQW55LCBVbmlvblxuICAgICA4XHRpbXBvcnQgcGFuZGFzIGFzIHBkXG4gICAgIDlcdGltcG9ydCBudW1weSBhcyBucFxuICAgIDEwXHRpbXBvcnQgY3VzdG9tdGtpbnRlciBhcyBjdGtcbiAgICAxMVx0ZnJvbSBtYXRwbG90bGliLmJhY2tlbmRzLmJhY2tlbmRfdGthZ2cgaW1wb3J0IEZpZ3VyZUNhbnZhc1RrQWdnXG4gICAgMTJcdGZyb20gbWF0cGxvdGxpYi5maWd1cmUgaW1wb3J0IEZpZ3VyZVxuICAgIDEzXHRcbiAgICAxNFx0ZnJvbSAudXRpbHMgaW1wb3J0IEFHR1JFR0FUSU9OX0NPTE9SUywgQUdHUkVHQVRJT05fU1RZTEVTXG4gICAgMTVcdFxuICAgIDE2XHRcbiAgICAxN1x0Y2xhc3MgTWV0cmljc1Bsb3RGcmFtZShjdGsuQ1RrRnJhbWUpOlxuICAgIDE4XHQgICAgXCJcIlwiXG4gICAgMTlcdCAgICBBIGZyYW1lIGNvbnRhaW5pbmcgYSBtYXRwbG90bGliIGZpZ3VyZSBmb3IgcGxvdHRpbmcgbWV0cmljcy5cbiAgICAyMFx0ICAgIFwiXCJcIlxuICAgIDIxXHRcbiAgICAyMlx0ICAgIGRlZiBfX2luaXRfXyhzZWxmLCBtYXN0ZXIsIHRpdGxlPVwiTWV0cmljcyBQbG90XCIsICoqa3dhcmdzKTpcbiAgICAyM1x0ICAgICAgICBcIlwiXCJcbiAgICAyNFx0ICAgICAgICBJbml0aWFsaXplIHRoZSBwbG90IGZyYW1lLlxuICAgIDI1XHRcbiAgICAyNlx0ICAgICAgICBBcmdzOlxuICAgIDI3XHQgICAgICAgICAgICBtYXN0ZXI6IFRoZSBwYXJlbnQgd2lkZ2V0XG4gICAgMjhcdCAgICAgICAgICAgIHRpdGxlOiBUaXRsZSBmb3IgdGhlIHBsb3QgZnJhbWVcbiAgICAyOVx0ICAgICAgICAgICAgKiprd2FyZ3M6IEFkZGl0aW9uYWwgYXJndW1lbnRzIGZvciB0aGUgQ1RrRnJhbWUgY29uc3RydWN0b3JcbiAgICAzMFx0ICAgICAgICBcIlwiXCJcbiAgICAzMVx0ICAgICAgICBzdXBlcigpLl9faW5pdF9fKG1hc3RlciwgKiprd2FyZ3MpXG4gICAgMzJcdFxuICAgIDMzXHQgICAgICAgICMgQ29uZmlndXJlIGdyaWQgbGF5b3V0XG4gICAgMzRcdCAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgICAzNVx0ICAgICAgICBzZWxmLmdyaWRfcm93Y29uZmlndXJlKDEsIHdlaWdodD0xKVxuICAgIDM2XHRcbiAgICAzN1x0ICAgICAgICAjIEFkZCB0aXRsZSBsYWJlbFxuICAgIDM4XHQgICAgICAgIHNlbGYudGl0bGVfbGFiZWwgPSBjdGsuQ1RrTGFiZWwoc2VsZiwgdGV4dD10aXRsZSwgZmdfY29sb3I9XCJncmF5MzBcIiwgY29ybmVyX3JhZGl1cz02KVxuICAgIDM5XHQgICAgICAgIHNlbGYudGl0bGVfbGFiZWwuZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9MTAsIHBhZHk9KDEwLCAwKSwgc3RpY2t5PVwiZXdcIilcbiAgICA0MFx0XG4gICAgNDFcdCAgICAgICAgIyBDcmVhdGUgbWF0cGxvdGxpYiBmaWd1cmUgd2l0aCBsYXJnZXIgc2l6ZVxuICAgIDQyXHQgICAgICAgIHNlbGYuZmlndXJlID0gRmlndXJlKGZpZ3NpemU9KDEyLCA3KSwgZHBpPTEwMClcbiAgICA0M1x0ICAgICAgICBzZWxmLnBsb3QgPSBzZWxmLmZpZ3VyZS5hZGRfc3VicGxvdCgxMTEpXG4gICAgNDRcdFxuICAgIDQ1XHQgICAgICAgICMgQ3JlYXRlIGNhbnZhcyBmb3IgdGhlIGZpZ3VyZVxuICAgIDQ2XHQgICAgICAgIHNlbGYuY2FudmFzID0gRmlndXJlQ2FudmFzVGtBZ2coc2VsZi5maWd1cmUsIHNlbGYpXG4gICAgNDdcdCAgICAgICAgc2VsZi5jYW52YXNfd2lkZ2V0ID0gc2VsZi5jYW52YXMuZ2V0X3RrX3dpZGdldCgpXG4gICAgNDhcdCAgICAgICAgc2VsZi5jYW52YXNfd2lkZ2V0LmdyaWQocm93PTEsIGNvbHVtbj0wLCBwYWR4PTEwLCBwYWR5PTEwLCBzdGlja3k9XCJuc2V3XCIpXG4gICAgNDlcdFxuICAgIDUwXHQgICAgICAgICMgQWRkIGludGVyYWN0aXZlIHpvb21pbmcgd2l0aCBtb3VzZSBkcmFnXG4gICAgNTFcdCAgICAgICAgc2VsZi56b29tX3N0YXJ0ID0gTm9uZVxuICAgIDUyXHQgICAgICAgIHNlbGYuY2FudmFzLm1wbF9jb25uZWN0KCdidXR0b25fcHJlc3NfZXZlbnQnLCBzZWxmLm9uX21vdXNlX3ByZXNzKVxuICAgIDUzXHQgICAgICAgIHNlbGYuY2FudmFzLm1wbF9jb25uZWN0KCdidXR0b25fcmVsZWFzZV9ldmVudCcsIHNlbGYub25fbW91c2VfcmVsZWFzZSlcbiAgICA1NFx0ICAgICAgICBzZWxmLmNhbnZhcy5tcGxfY29ubmVjdCgnbW90aW9uX25vdGlmeV9ldmVudCcsIHNlbGYub25fbW91c2VfbW90aW9uKVxuICAgIDU1XHRcbiAgICA1Nlx0ICAgICAgICAjIFN0b3JlIHRoZSBwYXJlbnQgZnJhbWUgZm9yIGNhbGxiYWNrc1xuICAgIDU3XHQgICAgICAgIHNlbGYucGFyZW50X2ZyYW1lID0gbWFzdGVyXG4gICAgNThcdFxuICAgIDU5XHQgICAgICAgICMgSW5pdGlhbGl6ZSB3aXRoIGVtcHR5IHBsb3RcbiAgICA2MFx0ICAgICAgICBzZWxmLnVwZGF0ZV9wbG90KClcbiAgICA2MVx0XG4gICAgNjJcdCAgICBkZWYgdXBkYXRlX3Bsb3QoXG4gICAgNjNcdCAgICAgICAgc2VsZixcbiAgICA2NFx0ICAgICAgICBkYXRhOiBPcHRpb25hbFtwZC5EYXRhRnJhbWVdID0gTm9uZSxcbiAgICA2NVx0ICAgICAgICBtZXRyaWM6IE9wdGlvbmFsW3N0cl0gPSBOb25lLFxuICAgIDY2XHQgICAgICAgIGNoYW5uZWxzOiBPcHRpb25hbFtMaXN0W3N0cl1dID0gTm9uZSxcbiAgICA2N1x0ICAgICAgICB0aXRsZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsXG4gICAgNjhcdCAgICAgICAgeGxhYmVsOiBPcHRpb25hbFtzdHJdID0gTm9uZSxcbiAgICA2OVx0ICAgICAgICB5bGFiZWw6IE9wdGlvbmFsW3N0cl0gPSBOb25lLFxuICAgIDcwXHQgICAgICAgIHRpbWVfd2luZG93OiBPcHRpb25hbFtUdXBsZVtPcHRpb25hbFtmbG9hdF0sIE9wdGlvbmFsW2Zsb2F0XV1dID0gTm9uZSxcbiAgICA3MVx0ICAgICAgICBhZ2dyZWdhdGlvbnM6IE9wdGlvbmFsW0xpc3Rbc3RyXV0gPSBOb25lLFxuICAgIDcyXHQgICAgICAgIGFnZ3JlZ2F0aW9uX29ubHk6IGJvb2wgPSBGYWxzZVxuICAgIDczXHQgICAgKTpcbiAgICA3NFx0ICAgICAgICBcIlwiXCJcbiAgICA3NVx0ICAgICAgICBVcGRhdGUgdGhlIHBsb3Qgd2l0aCBuZXcgZGF0YS5cbiAgICA3Nlx0XG4gICAgNzdcdCAgICAgICAgQXJnczpcbiAgICA3OFx0ICAgICAgICAgICAgZGF0YTogRGF0YUZyYW1lIGNvbnRhaW5pbmcgdGhlIG1ldHJpY3MgZGF0YVxuICAgIDc5XHQgICAgICAgICAgICBtZXRyaWM6IFRoZSBtZXRyaWMgdG8gcGxvdFxuICAgIDgwXHQgICAgICAgICAgICBjaGFubmVsczogTGlzdCBvZiBjaGFubmVscyB0byBwbG90XG4gICAgODFcdCAgICAgICAgICAgIHRpdGxlOiBUaXRsZSBmb3IgdGhlIHBsb3RcbiAgICA4Mlx0ICAgICAgICAgICAgeGxhYmVsOiBMYWJlbCBmb3IgdGhlIHgtYXhpc1xuICAgIDgzXHQgICAgICAgICAgICB5bGFiZWw6IExhYmVsIGZvciB0aGUgeS1heGlzXG4gICAgODRcdCAgICAgICAgICAgIHRpbWVfd2luZG93OiBUdXBsZSBvZiAoc3RhcnRfdGltZSwgZW5kX3RpbWUpIHRvIGZvY3VzIG9uIGEgc3BlY2lmaWMgdGltZSByYW5nZVxuICAgIDg1XHQgICAgICAgICAgICBhZ2dyZWdhdGlvbnM6IExpc3Qgb2YgYWdncmVnYXRpb24gbWV0aG9kcyB0byBhcHBseSBhY3Jvc3MgY2hhbm5lbHMgKG1lYW4sIHN0ZCwgbWVkaWFuKVxuICAgIDg2XHQgICAgICAgICAgICBhZ2dyZWdhdGlvbl9vbmx5OiBJZiBUcnVlLCBvbmx5IHNob3cgYWdncmVnYXRpb25zIHdpdGhvdXQgaW5kaXZpZHVhbCBjaGFubmVsc1xuICAgIDg3XHQgICAgICAgIFwiXCJcIlxuICAgIDg4XHQgICAgICAgIHNlbGYucGxvdC5jbGVhcigpXG4gICAgODlcdFxuICAgIDkwXHQgICAgICAgIGlmIGRhdGEgaXMgTm9uZSBvciBtZXRyaWMgaXMgTm9uZSBvciAobm90IGNoYW5uZWxzIGFuZCBub3QgYWdncmVnYXRpb25zKTpcbiAgICA5MVx0ICAgICAgICAgICAgIyBEaXNwbGF5IGEgbWVzc2FnZSBpZiBubyBkYXRhIGlzIHByb3ZpZGVkXG4gICAgOTJcdCAgICAgICAgICAgIHNlbGYucGxvdC50ZXh0KDAuNSwgMC41LCBcIk5vIGRhdGEgc2VsZWN0ZWRcIixcbiAgICA5M1x0ICAgICAgICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsYWxpZ25tZW50PSdjZW50ZXInLFxuICAgIDk0XHQgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsYWxpZ25tZW50PSdjZW50ZXInLFxuICAgIDk1XHQgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybT1zZWxmLnBsb3QudHJhbnNBeGVzKVxuICAgIDk2XHQgICAgICAgIGVsc2U6XG4gICAgOTdcdCAgICAgICAgICAgICMgRmlsdGVyIGRhdGEgZm9yIHRoZSBzZWxlY3RlZCBtZXRyaWNcbiAgICA5OFx0ICAgICAgICAgICAgbWV0cmljX2RhdGEgPSBkYXRhW2RhdGFbJ21ldHJpYyddID09IG1ldHJpY11cbiAgICA5OVx0XG4gICAxMDBcdCAgICAgICAgICAgIGlmIG1ldHJpY19kYXRhLmVtcHR5OlxuICAgMTAxXHQgICAgICAgICAgICAgICAgc2VsZi5wbG90LnRleHQoMC41LCAwLjUsIGZcIk5vIGRhdGEgZm9yIG1ldHJpYzoge21ldHJpY31cIixcbiAgIDEwMlx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbGFsaWdubWVudD0nY2VudGVyJyxcbiAgIDEwM1x0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWxhbGlnbm1lbnQ9J2NlbnRlcicsXG4gICAxMDRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybT1zZWxmLnBsb3QudHJhbnNBeGVzKVxuICAgMTA1XHQgICAgICAgICAgICBlbHNlOlxuICAgMTA2XHQgICAgICAgICAgICAgICAgIyBTb3J0IGJ5IHN0YXJ0RGF0YVJlY29yZCBpZiBhdmFpbGFibGVcbiAgIDEwN1x0ICAgICAgICAgICAgICAgIGlmICdzdGFydERhdGFSZWNvcmQnIGluIG1ldHJpY19kYXRhLmNvbHVtbnM6XG4gICAxMDhcdCAgICAgICAgICAgICAgICAgICAgbWV0cmljX2RhdGEgPSBtZXRyaWNfZGF0YS5zb3J0X3ZhbHVlcygnc3RhcnREYXRhUmVjb3JkJylcbiAgIDEwOVx0ICAgICAgICAgICAgICAgICAgICB4X3ZhbHVlcyA9IG1ldHJpY19kYXRhWydzdGFydERhdGFSZWNvcmQnXVxuICAgMTEwXHQgICAgICAgICAgICAgICAgICAgIHhfbGFiZWwgPSAnVGltZSAocyknXG4gICAxMTFcdFxuICAgMTEyXHQgICAgICAgICAgICAgICAgICAgICMgQXBwbHkgdGltZSB3aW5kb3cgZmlsdGVyaW5nIGlmIHNwZWNpZmllZFxuICAgMTEzXHQgICAgICAgICAgICAgICAgICAgIGlmIHRpbWVfd2luZG93IGFuZCBhbnkoeCBpcyBub3QgTm9uZSBmb3IgeCBpbiB0aW1lX3dpbmRvdyk6XG4gICAxMTRcdCAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0X3RpbWUsIGVuZF90aW1lID0gdGltZV93aW5kb3dcbiAgIDExNVx0XG4gICAxMTZcdCAgICAgICAgICAgICAgICAgICAgICAgICMgRmlsdGVyIGJ5IHN0YXJ0IHRpbWUgaWYgc3BlY2lmaWVkXG4gICAxMTdcdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIHN0YXJ0X3RpbWUgaXMgbm90IE5vbmU6XG4gICAxMThcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRyaWNfZGF0YSA9IG1ldHJpY19kYXRhW21ldHJpY19kYXRhWydzdGFydERhdGFSZWNvcmQnXSA+PSBzdGFydF90aW1lXVxuICAgMTE5XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbWV0cmljX2RhdGEuZW1wdHk6XG4gICAxMjBcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbG90LnRleHQoMC41LCAwLjUsIGZcIk5vIGRhdGEgaW4gdGhlIHNwZWNpZmllZCB0aW1lIHJhbmdlXCIsXG4gICAxMjFcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsYWxpZ25tZW50PSdjZW50ZXInLFxuICAgMTIyXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWxhbGlnbm1lbnQ9J2NlbnRlcicsXG4gICAxMjNcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm09c2VsZi5wbG90LnRyYW5zQXhlcylcbiAgIDEyNFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4X2xhYmVsID0gJ1RpbWUgKHMpJ1xuICAgMTI1XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGxvdC5zZXRfeGxhYmVsKHhfbGFiZWwpXG4gICAxMjZcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbG90LnNldF95bGFiZWwobWV0cmljIGlmIG1ldHJpYyBlbHNlICdWYWx1ZScpXG4gICAxMjdcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5maWd1cmUudGlnaHRfbGF5b3V0KClcbiAgIDEyOFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbnZhcy5kcmF3KClcbiAgIDEyOVx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgIDEzMFx0XG4gICAxMzFcdCAgICAgICAgICAgICAgICAgICAgICAgICMgRmlsdGVyIGJ5IGVuZCB0aW1lIGlmIHNwZWNpZmllZFxuICAgMTMyXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiBlbmRfdGltZSBpcyBub3QgTm9uZTpcbiAgIDEzM1x0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldHJpY19kYXRhID0gbWV0cmljX2RhdGFbbWV0cmljX2RhdGFbJ3N0YXJ0RGF0YVJlY29yZCddIDw9IGVuZF90aW1lXVxuICAgMTM0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbWV0cmljX2RhdGEuZW1wdHk6XG4gICAxMzVcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbG90LnRleHQoMC41LCAwLjUsIGZcIk5vIGRhdGEgaW4gdGhlIHNwZWNpZmllZCB0aW1lIHJhbmdlXCIsXG4gICAxMzZcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsYWxpZ25tZW50PSdjZW50ZXInLFxuICAgMTM3XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWxhbGlnbm1lbnQ9J2NlbnRlcicsXG4gICAxMzhcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm09c2VsZi5wbG90LnRyYW5zQXhlcylcbiAgIDEzOVx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4X2xhYmVsID0gJ1RpbWUgKHMpJ1xuICAgMTQwXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGxvdC5zZXRfeGxhYmVsKHhfbGFiZWwpXG4gICAxNDFcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbG90LnNldF95bGFiZWwobWV0cmljIGlmIG1ldHJpYyBlbHNlICdWYWx1ZScpXG4gICAxNDJcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5maWd1cmUudGlnaHRfbGF5b3V0KClcbiAgIDE0M1x0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbnZhcy5kcmF3KClcbiAgIDE0NFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgIDE0NVx0XG4gICAxNDZcdCAgICAgICAgICAgICAgICAgICAgICAgICMgVXBkYXRlIHhfdmFsdWVzIGFmdGVyIGZpbHRlcmluZ1xuICAgMTQ3XHQgICAgICAgICAgICAgICAgICAgICAgICB4X3ZhbHVlcyA9IG1ldHJpY19kYXRhWydzdGFydERhdGFSZWNvcmQnXVxuICAgMTQ4XHQgICAgICAgICAgICAgICAgZWxzZTpcbiAgIDE0OVx0ICAgICAgICAgICAgICAgICAgICB4X3ZhbHVlcyA9IHJhbmdlKGxlbihtZXRyaWNfZGF0YSkpXG4gICAxNTBcdCAgICAgICAgICAgICAgICAgICAgeF9sYWJlbCA9ICdTYW1wbGUnXG4gICAxNTFcdFxuICAgMTUyXHQgICAgICAgICAgICAgICAgIyBHZXQgdGhlIGNoYW5uZWwgY29sdW1ucyBmb3IgcGxvdHRpbmdcbiAgIDE1M1x0ICAgICAgICAgICAgICAgIGNoYW5uZWxfY29sdW1ucyA9IFtjb2wgZm9yIGNvbCBpbiBtZXRyaWNfZGF0YS5jb2x1bW5zIGlmIGNvbCBpbiBjaGFubmVsc11cbiAgIDE1NFx0XG4gICAxNTVcdCAgICAgICAgICAgICAgICAjIFBsb3QgZWFjaCBzZWxlY3RlZCBjaGFubmVsIGlmIG5vdCBpbiBhZ2dyZWdhdGlvbl9vbmx5IG1vZGVcbiAgIDE1Nlx0ICAgICAgICAgICAgICAgIGlmIG5vdCBhZ2dyZWdhdGlvbl9vbmx5OlxuICAgMTU3XHQgICAgICAgICAgICAgICAgICAgIGZvciBjaGFubmVsIGluIGNoYW5uZWxzOlxuICAgMTU4XHQgICAgICAgICAgICAgICAgICAgICAgICBpZiBjaGFubmVsIGluIG1ldHJpY19kYXRhLmNvbHVtbnM6XG4gICAxNTlcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBsb3QucGxvdCh4X3ZhbHVlcywgbWV0cmljX2RhdGFbY2hhbm5lbF0sIGxhYmVsPWNoYW5uZWwsIGFscGhhPTAuNylcbiAgIDE2MFx0XG4gICAxNjFcdCAgICAgICAgICAgICAgICAjIENhbGN1bGF0ZSBhbmQgcGxvdCBhZ2dyZWdhdGlvbnMgaWYgcmVxdWVzdGVkXG4gICAxNjJcdCAgICAgICAgICAgICAgICBpZiBhZ2dyZWdhdGlvbnMgYW5kIGNoYW5uZWxfY29sdW1uczpcbiAgIDE2M1x0ICAgICAgICAgICAgICAgICAgICAjIENhbGN1bGF0ZSBhbmQgcGxvdCBlYWNoIHNlbGVjdGVkIGFnZ3JlZ2F0aW9uXG4gICAxNjRcdCAgICAgICAgICAgICAgICAgICAgZm9yIGFnZyBpbiBhZ2dyZWdhdGlvbnM6XG4gICAxNjVcdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIGFnZyA9PSAnbWVhbic6XG4gICAxNjZcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIENhbGN1bGF0ZSBtZWFuIGFjcm9zcyBjaGFubmVsc1xuICAgMTY3XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVhbl92YWx1ZXMgPSBtZXRyaWNfZGF0YVtjaGFubmVsX2NvbHVtbnNdLm1lYW4oYXhpcz0xKVxuICAgMTY4XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wbG90LnBsb3QoeF92YWx1ZXMsIG1lYW5fdmFsdWVzLFxuICAgMTY5XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD0nTWVhbicsXG4gICAxNzBcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPUFHR1JFR0FUSU9OX0NPTE9SU1snbWVhbiddLFxuICAgMTcxXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lc3R5bGU9QUdHUkVHQVRJT05fU1RZTEVTWydtZWFuJ10sXG4gICAxNzJcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmV3aWR0aD0yLjUpXG4gICAxNzNcdFxuICAgMTc0XHQgICAgICAgICAgICAgICAgICAgICAgICBlbGlmIGFnZyA9PSAnc3RkJzpcbiAgIDE3NVx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgQ2FsY3VsYXRlIHN0YW5kYXJkIGRldmlhdGlvbiBhY3Jvc3MgY2hhbm5lbHNcbiAgIDE3Nlx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZF92YWx1ZXMgPSBtZXRyaWNfZGF0YVtjaGFubmVsX2NvbHVtbnNdLnN0ZChheGlzPTEpXG4gICAxNzdcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBsb3QucGxvdCh4X3ZhbHVlcywgc3RkX3ZhbHVlcyxcbiAgIDE3OFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9J1N0ZCBEZXYnLFxuICAgMTc5XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj1BR0dSRUdBVElPTl9DT0xPUlNbJ3N0ZCddLFxuICAgMTgwXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lc3R5bGU9QUdHUkVHQVRJT05fU1RZTEVTWydzdGQnXSxcbiAgIDE4MVx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXdpZHRoPTIuNSlcbiAgIDE4Mlx0XG4gICAxODNcdCAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgYWdnID09ICdtZWRpYW4nOlxuICAgMTg0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBDYWxjdWxhdGUgbWVkaWFuIGFjcm9zcyBjaGFubmVsc1xuICAgMTg1XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWFuX3ZhbHVlcyA9IG1ldHJpY19kYXRhW2NoYW5uZWxfY29sdW1uc10ubWVkaWFuKGF4aXM9MSlcbiAgIDE4Nlx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGxvdC5wbG90KHhfdmFsdWVzLCBtZWRpYW5fdmFsdWVzLFxuICAgMTg3XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD0nTWVkaWFuJyxcbiAgIDE4OFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9QUdHUkVHQVRJT05fQ09MT1JTWydtZWRpYW4nXSxcbiAgIDE4OVx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXN0eWxlPUFHR1JFR0FUSU9OX1NUWUxFU1snbWVkaWFuJ10sXG4gICAxOTBcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmV3aWR0aD0yLjUpXG4gICAxOTFcdFxuICAgMTkyXHQgICAgICAgICAgICAgICAgIyBBZGQgbGVnZW5kIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBpdGVtcyB0byBzaG93XG4gICAxOTNcdCAgICAgICAgICAgICAgICBpZiAobm90IGFnZ3JlZ2F0aW9uX29ubHkgYW5kIGxlbihjaGFubmVscykgPiAxKSBvciBcXFxuICAgMTk0XHQgICAgICAgICAgICAgICAgICAgKGFnZ3JlZ2F0aW9ucyBhbmQgbGVuKGFnZ3JlZ2F0aW9ucykgPiAwKSBvciBcXFxuICAgMTk1XHQgICAgICAgICAgICAgICAgICAgKG5vdCBhZ2dyZWdhdGlvbl9vbmx5IGFuZCBjaGFubmVscyBhbmQgYWdncmVnYXRpb25zKTpcbiAgIDE5Nlx0ICAgICAgICAgICAgICAgICAgICBzZWxmLnBsb3QubGVnZW5kKClcbiAgIDE5N1x0XG4gICAxOThcdCAgICAgICAgICAgICAgICAjIFNldCB4LWF4aXMgbGltaXRzIGlmIHRpbWUgd2luZG93IGlzIHNwZWNpZmllZFxuICAgMTk5XHQgICAgICAgICAgICAgICAgaWYgJ3N0YXJ0RGF0YVJlY29yZCcgaW4gbWV0cmljX2RhdGEuY29sdW1ucyBhbmQgdGltZV93aW5kb3cgYW5kIGFueSh4IGlzIG5vdCBOb25lIGZvciB4IGluIHRpbWVfd2luZG93KTpcbiAgIDIwMFx0ICAgICAgICAgICAgICAgICAgICBzdGFydF90aW1lLCBlbmRfdGltZSA9IHRpbWVfd2luZG93XG4gICAyMDFcdCAgICAgICAgICAgICAgICAgICAgeF9taW4sIHhfbWF4ID0gTm9uZSwgTm9uZVxuICAgMjAyXHRcbiAgIDIwM1x0ICAgICAgICAgICAgICAgICAgICBpZiBzdGFydF90aW1lIGlzIG5vdCBOb25lOlxuICAgMjA0XHQgICAgICAgICAgICAgICAgICAgICAgICB4X21pbiA9IHN0YXJ0X3RpbWVcbiAgIDIwNVx0ICAgICAgICAgICAgICAgICAgICBlbHNlOlxuICAgMjA2XHQgICAgICAgICAgICAgICAgICAgICAgICB4X21pbiA9IG1pbih4X3ZhbHVlcykgaWYgbGVuKHhfdmFsdWVzKSA+IDAgZWxzZSAwXG4gICAyMDdcdFxuICAgMjA4XHQgICAgICAgICAgICAgICAgICAgIGlmIGVuZF90aW1lIGlzIG5vdCBOb25lOlxuICAgMjA5XHQgICAgICAgICAgICAgICAgICAgICAgICB4X21heCA9IGVuZF90aW1lXG4gICAyMTBcdCAgICAgICAgICAgICAgICAgICAgZWxzZTpcbiAgIDIxMVx0ICAgICAgICAgICAgICAgICAgICAgICAgeF9tYXggPSBtYXgoeF92YWx1ZXMpIGlmIGxlbih4X3ZhbHVlcykgPiAwIGVsc2UgMVxuICAgMjEyXHRcbiAgIDIxM1x0ICAgICAgICAgICAgICAgICAgICAjIEFkZCBhIHNtYWxsIHBhZGRpbmcgdG8gdGhlIGxpbWl0c1xuICAgMjE0XHQgICAgICAgICAgICAgICAgICAgIHBhZGRpbmcgPSAoeF9tYXggLSB4X21pbikgKiAwLjA1IGlmIHhfbWF4ID4geF9taW4gZWxzZSAwLjFcbiAgIDIxNVx0ICAgICAgICAgICAgICAgICAgICBzZWxmLnBsb3Quc2V0X3hsaW0oeF9taW4gLSBwYWRkaW5nLCB4X21heCArIHBhZGRpbmcpXG4gICAyMTZcdFxuICAgMjE3XHQgICAgICAgICMgU2V0IHRpdGxlIGFuZCBsYWJlbHNcbiAgIDIxOFx0ICAgICAgICBpZiB0aXRsZTpcbiAgIDIxOVx0ICAgICAgICAgICAgc2VsZi5wbG90LnNldF90aXRsZSh0aXRsZSlcbiAgIDIyMFx0ICAgICAgICBpZiB4bGFiZWw6XG4gICAyMjFcdCAgICAgICAgICAgIHNlbGYucGxvdC5zZXRfeGxhYmVsKHhsYWJlbClcbiAgIDIyMlx0ICAgICAgICBlbHNlOlxuICAgMjIzXHQgICAgICAgICAgICBzZWxmLnBsb3Quc2V0X3hsYWJlbCh4X2xhYmVsIGlmICd4X2xhYmVsJyBpbiBsb2NhbHMoKSBlbHNlICdTYW1wbGUnKVxuICAgMjI0XHQgICAgICAgIGlmIHlsYWJlbDpcbiAgIDIyNVx0ICAgICAgICAgICAgc2VsZi5wbG90LnNldF95bGFiZWwoeWxhYmVsKVxuICAgMjI2XHQgICAgICAgIGVsc2U6XG4gICAyMjdcdCAgICAgICAgICAgIHNlbGYucGxvdC5zZXRfeWxhYmVsKG1ldHJpYyBpZiBtZXRyaWMgZWxzZSAnVmFsdWUnKVxuICAgMjI4XHRcbiAgIDIyOVx0ICAgICAgICAjIEFkanVzdCBsYXlvdXQgYW5kIHJlZHJhd1xuICAgMjMwXHQgICAgICAgIHNlbGYuZmlndXJlLnRpZ2h0X2xheW91dCgpXG4gICAyMzFcdCAgICAgICAgc2VsZi5jYW52YXMuZHJhdygpXG4gICAyMzJcdFxuICAgMjMzXHQgICAgZGVmIG9uX21vdXNlX3ByZXNzKHNlbGYsIGV2ZW50KTpcbiAgIDIzNFx0ICAgICAgICBcIlwiXCJIYW5kbGUgbW91c2UgcHJlc3MgZXZlbnQgZm9yIGludGVyYWN0aXZlIHpvb21pbmcuXCJcIlwiXG4gICAyMzVcdCAgICAgICAgIyBPbmx5IGhhbmRsZSBsZWZ0IGJ1dHRvbiBjbGlja3MgaW4gdGhlIHBsb3QgYXJlYVxuICAgMjM2XHQgICAgICAgIGlmIGV2ZW50LmJ1dHRvbiAhPSAxIG9yIGV2ZW50LmluYXhlcyAhPSBzZWxmLnBsb3Q6XG4gICAyMzdcdCAgICAgICAgICAgIHJldHVyblxuICAgMjM4XHRcbiAgIDIzOVx0ICAgICAgICAjIFN0b3JlIHRoZSBzdGFydGluZyBwb2ludCBmb3IgdGhlIHpvb20gYm94XG4gICAyNDBcdCAgICAgICAgc2VsZi56b29tX3N0YXJ0ID0gKGV2ZW50LnhkYXRhLCBldmVudC55ZGF0YSlcbiAgIDI0MVx0XG4gICAyNDJcdCAgICAgICAgIyBDcmVhdGUgYSByZWN0YW5nbGUgZm9yIHRoZSB6b29tIGJveCBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAyNDNcdCAgICAgICAgaWYgbm90IGhhc2F0dHIoc2VsZiwgJ3pvb21fcmVjdCcpOlxuICAgMjQ0XHQgICAgICAgICAgICBzZWxmLnpvb21fcmVjdCA9IHNlbGYucGxvdC5heHZzcGFuKGV2ZW50LnhkYXRhLCBldmVudC54ZGF0YSwgYWxwaGE9MC4zLCBjb2xvcj0nZ3JheScpXG4gICAyNDVcdCAgICAgICAgICAgIHNlbGYuem9vbV9yZWN0LnNldF92aXNpYmxlKEZhbHNlKVxuICAgMjQ2XHRcbiAgIDI0N1x0ICAgIGRlZiBvbl9tb3VzZV9tb3Rpb24oc2VsZiwgZXZlbnQpOlxuICAgMjQ4XHQgICAgICAgIFwiXCJcIkhhbmRsZSBtb3VzZSBtb3Rpb24gZXZlbnQgZm9yIGludGVyYWN0aXZlIHpvb21pbmcuXCJcIlwiXG4gICAyNDlcdCAgICAgICAgIyBPbmx5IGhhbmRsZSBtb3Rpb24gd2hlbiB3ZSBoYXZlIGEgem9vbSBzdGFydCBwb2ludCBhbmQgd2UncmUgaW4gdGhlIHBsb3QgYXJlYVxuICAgMjUwXHQgICAgICAgIGlmIHNlbGYuem9vbV9zdGFydCBpcyBOb25lIG9yIGV2ZW50LmluYXhlcyAhPSBzZWxmLnBsb3Qgb3Igbm90IGhhc2F0dHIoc2VsZiwgJ3pvb21fcmVjdCcpOlxuICAgMjUxXHQgICAgICAgICAgICByZXR1cm5cbiAgIDI1Mlx0XG4gICAyNTNcdCAgICAgICAgIyBVcGRhdGUgdGhlIHpvb20gYm94XG4gICAyNTRcdCAgICAgICAgeF9zdGFydCA9IHNlbGYuem9vbV9zdGFydFswXVxuICAgMjU1XHQgICAgICAgIHhfY3VycmVudCA9IGV2ZW50LnhkYXRhXG4gICAyNTZcdFxuICAgMjU3XHQgICAgICAgICMgTWFrZSBzdXJlIHdlIGhhdmUgdmFsaWQgY29vcmRpbmF0ZXNcbiAgIDI1OFx0ICAgICAgICBpZiB4X3N0YXJ0IGlzIE5vbmUgb3IgeF9jdXJyZW50IGlzIE5vbmU6XG4gICAyNTlcdCAgICAgICAgICAgIHJldHVyblxuICAgMjYwXHRcbiAgIDI2MVx0ICAgICAgICAjIFNldCB0aGUgem9vbSBib3ggY29vcmRpbmF0ZXNcbiAgIDI2Mlx0ICAgICAgICB4X21pbiA9IG1pbih4X3N0YXJ0LCB4X2N1cnJlbnQpXG4gICAyNjNcdCAgICAgICAgeF9tYXggPSBtYXgoeF9zdGFydCwgeF9jdXJyZW50KVxuICAgMjY0XHRcbiAgIDI2NVx0ICAgICAgICAjIFVwZGF0ZSB0aGUgem9vbSByZWN0YW5nbGUgLSB1c2UgYXh2c3BhbidzIHh5IHBhcmFtZXRlciBjb3JyZWN0bHlcbiAgIDI2Nlx0ICAgICAgICBzZWxmLnpvb21fcmVjdC5zZXRfdmlzaWJsZShUcnVlKVxuICAgMjY3XHQgICAgICAgICMgSW5zdGVhZCBvZiBzZXR0aW5nIHh5IGNvb3JkaW5hdGVzIGRpcmVjdGx5LCB1cGRhdGUgdGhlIHNwYW5cbiAgIDI2OFx0ICAgICAgICBzZWxmLnpvb21fcmVjdC5yZW1vdmUoKVxuICAgMjY5XHQgICAgICAgIHNlbGYuem9vbV9yZWN0ID0gc2VsZi5wbG90LmF4dnNwYW4oeF9taW4sIHhfbWF4LCBhbHBoYT0wLjMsIGNvbG9yPSdncmF5JylcbiAgIDI3MFx0XG4gICAyNzFcdCAgICAgICAgIyBSZWRyYXcgdGhlIGNhbnZhc1xuICAgMjcyXHQgICAgICAgIHNlbGYuY2FudmFzLmRyYXdfaWRsZSgpXG4gICAyNzNcdFxuICAgMjc0XHQgICAgZGVmIG9uX21vdXNlX3JlbGVhc2Uoc2VsZiwgZXZlbnQpOlxuICAgMjc1XHQgICAgICAgIFwiXCJcIkhhbmRsZSBtb3VzZSByZWxlYXNlIGV2ZW50IGZvciBpbnRlcmFjdGl2ZSB6b29taW5nLlwiXCJcIlxuICAgMjc2XHQgICAgICAgICMgT25seSBoYW5kbGUgbGVmdCBidXR0b24gcmVsZWFzZXMgd2hlbiB3ZSBoYXZlIGEgem9vbSBzdGFydCBwb2ludFxuICAgMjc3XHQgICAgICAgIGlmIGV2ZW50LmJ1dHRvbiAhPSAxIG9yIHNlbGYuem9vbV9zdGFydCBpcyBOb25lIG9yIGV2ZW50LmluYXhlcyAhPSBzZWxmLnBsb3Q6XG4gICAyNzhcdCAgICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ3pvb21fcmVjdCcpOlxuICAgMjc5XHQgICAgICAgICAgICAgICAgc2VsZi56b29tX3JlY3QucmVtb3ZlKClcbiAgIDI4MFx0ICAgICAgICAgICAgICAgIGRlbGF0dHIoc2VsZiwgJ3pvb21fcmVjdCcpXG4gICAyODFcdCAgICAgICAgICAgICAgICBzZWxmLmNhbnZhcy5kcmF3X2lkbGUoKVxuICAgMjgyXHQgICAgICAgICAgICBzZWxmLnpvb21fc3RhcnQgPSBOb25lXG4gICAyODNcdCAgICAgICAgICAgIHJldHVyblxuICAgMjg0XHRcbiAgIDI4NVx0ICAgICAgICAjIEdldCB0aGUgc3RhcnQgYW5kIGVuZCBwb2ludHNcbiAgIDI4Nlx0ICAgICAgICB4X3N0YXJ0ID0gc2VsZi56b29tX3N0YXJ0WzBdXG4gICAyODdcdCAgICAgICAgeF9lbmQgPSBldmVudC54ZGF0YVxuICAgMjg4XHRcbiAgIDI4OVx0ICAgICAgICAjIE1ha2Ugc3VyZSB3ZSBoYXZlIHZhbGlkIGNvb3JkaW5hdGVzXG4gICAyOTBcdCAgICAgICAgaWYgeF9zdGFydCBpcyBOb25lIG9yIHhfZW5kIGlzIE5vbmU6XG4gICAyOTFcdCAgICAgICAgICAgIHNlbGYuem9vbV9zdGFydCA9IE5vbmVcbiAgIDI5Mlx0ICAgICAgICAgICAgaWYgaGFzYXR0cihzZWxmLCAnem9vbV9yZWN0Jyk6XG4gICAyOTNcdCAgICAgICAgICAgICAgICBzZWxmLnpvb21fcmVjdC5yZW1vdmUoKVxuICAgMjk0XHQgICAgICAgICAgICAgICAgZGVsYXR0cihzZWxmLCAnem9vbV9yZWN0JylcbiAgIDI5NVx0ICAgICAgICAgICAgICAgIHNlbGYuY2FudmFzLmRyYXdfaWRsZSgpXG4gICAyOTZcdCAgICAgICAgICAgIHJldHVyblxuICAgMjk3XHRcbiAgIDI5OFx0ICAgICAgICAjIFJlc2V0IHRoZSB6b29tIHJlY3RhbmdsZVxuICAgMjk5XHQgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ3pvb21fcmVjdCcpOlxuICAgMzAwXHQgICAgICAgICAgICBzZWxmLnpvb21fcmVjdC5yZW1vdmUoKVxuICAgMzAxXHQgICAgICAgICAgICBkZWxhdHRyKHNlbGYsICd6b29tX3JlY3QnKVxuICAgMzAyXHQgICAgICAgICAgICBzZWxmLmNhbnZhcy5kcmF3X2lkbGUoKVxuICAgMzAzXHRcbiAgIDMwNFx0ICAgICAgICAjIE9ubHkgem9vbSBpZiB0aGUgZHJhZyBkaXN0YW5jZSBpcyBzaWduaWZpY2FudFxuICAgMzA1XHQgICAgICAgIGlmIGFicyh4X3N0YXJ0IC0geF9lbmQpIDwgMC4wMTpcbiAgIDMwNlx0ICAgICAgICAgICAgc2VsZi56b29tX3N0YXJ0ID0gTm9uZVxuICAgMzA3XHQgICAgICAgICAgICByZXR1cm5cbiAgIDMwOFx0XG4gICAzMDlcdCAgICAgICAgIyBTb3J0IHRoZSBjb29yZGluYXRlc1xuICAgMzEwXHQgICAgICAgIHhfbWluID0gbWluKHhfc3RhcnQsIHhfZW5kKVxuICAgMzExXHQgICAgICAgIHhfbWF4ID0gbWF4KHhfc3RhcnQsIHhfZW5kKVxuICAgMzEyXHRcbiAgIDMxM1x0ICAgICAgICAjIFVwZGF0ZSB0aGUgdGltZSB3aW5kb3cgaW4gdGhlIHNlbGVjdGlvbiBmcmFtZVxuICAgMzE0XHQgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ3BhcmVudF9mcmFtZScpIGFuZCBoYXNhdHRyKHNlbGYucGFyZW50X2ZyYW1lLCAnc2VsZWN0aW9uX2ZyYW1lJyk6XG4gICAzMTVcdCAgICAgICAgICAgIHNlbGVjdGlvbl9mcmFtZSA9IHNlbGYucGFyZW50X2ZyYW1lLnNlbGVjdGlvbl9mcmFtZVxuICAgMzE2XHQgICAgICAgICAgICBpZiBoYXNhdHRyKHNlbGVjdGlvbl9mcmFtZSwgJ3N0YXJ0X3RpbWVfdmFyJykgYW5kIGhhc2F0dHIoc2VsZWN0aW9uX2ZyYW1lLCAnZW5kX3RpbWVfdmFyJyk6XG4gICAzMTdcdCAgICAgICAgICAgICAgICBzZWxlY3Rpb25fZnJhbWUuc3RhcnRfdGltZV92YXIuc2V0KGZcInt4X21pbjouMmZ9XCIpXG4gICAzMThcdCAgICAgICAgICAgICAgICBzZWxlY3Rpb25fZnJhbWUuZW5kX3RpbWVfdmFyLnNldChmXCJ7eF9tYXg6LjJmfVwiKVxuICAgMzE5XHQgICAgICAgICAgICAgICAgc2VsZWN0aW9uX2ZyYW1lLnVwZGF0ZV9wbG90KClcbiAgIDMyMFx0XG4gICAzMjFcdCAgICAgICAgIyBSZXNldCB0aGUgem9vbSBzdGFydCBwb2ludFxuICAgMzIyXHQgICAgICAgIHNlbGYuem9vbV9zdGFydCA9IE5vbmVcbiAgIDMyM1x0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzMjNcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjQ2MzU0ZmUxLTI5MzMtNDkwNi1hZWZhLTA3ODNhNWZmZGMxNjt0b29sdV92cnR4XzAxOUZIc0J6c2h3SFRFRUI2VHFmNzdvbiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIGd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHk6XG4gICAgIDFcdFwiXCJcIlxuICAgICAyXHRTZWxlY3Rpb24gZnJhbWUgZm9yIHRoZSBFRUcgTWV0cmljcyBWaWV3ZXIuXG4gICAgIDNcdFxuICAgICA0XHRUaGlzIG1vZHVsZSBwcm92aWRlcyB0aGUgU2VsZWN0aW9uRnJhbWUgY2xhc3MgZm9yIHNlbGVjdGluZyBleHBlcmltZW50cywgRUVHcyxcbiAgICAgNVx0bWV0cmljcywgY2hhbm5lbHMsIGFuZCBvdGhlciB2aXN1YWxpemF0aW9uIG9wdGlvbnMuXG4gICAgIDZcdFwiXCJcIlxuICAgICA3XHRcbiAgICAgOFx0ZnJvbSB0eXBpbmcgaW1wb3J0IExpc3QsIERpY3QsIFR1cGxlLCBPcHRpb25hbCwgQW55LCBDYWxsYWJsZVxuICAgICA5XHRpbXBvcnQgY3VzdG9tdGtpbnRlciBhcyBjdGtcbiAgICAxMFx0XG4gICAgMTFcdGZyb20gLmRhdGFiYXNlX2hhbmRsZXIgaW1wb3J0IERhdGFiYXNlSGFuZGxlclxuICAgIDEyXHRmcm9tIC5wbG90X2ZyYW1lIGltcG9ydCBNZXRyaWNzUGxvdEZyYW1lXG4gICAgMTNcdGZyb20gLnV0aWxzIGltcG9ydCAoXG4gICAgMTRcdCAgICBnZXRfbGFiZWxfZm9udCwgXG4gICAgMTVcdCAgICBnZXRfZHJvcGRvd25fZm9udCwgXG4gICAgMTZcdCAgICBnZXRfYnV0dG9uX2ZvbnQsXG4gICAgMTdcdCAgICBDT01NT05fQ0hBTk5FTFMsXG4gICAgMThcdCAgICBBTFRFUk5BVElWRV9DSEFOTkVMX05BTUVTXG4gICAgMTlcdClcbiAgICAyMFx0XG4gICAgMjFcdFxuICAgIDIyXHRjbGFzcyBTZWxlY3Rpb25GcmFtZShjdGsuQ1RrRnJhbWUpOlxuICAgIDIzXHQgICAgXCJcIlwiXG4gICAgMjRcdCAgICBBIGZyYW1lIGNvbnRhaW5pbmcgY29udHJvbHMgZm9yIHNlbGVjdGluZyBleHBlcmltZW50cywgRUVHcywgbWV0cmljcywgY2hhbm5lbHMsIGFuZCBvdGhlciBvcHRpb25zLlxuICAgIDI1XHQgICAgXCJcIlwiXG4gICAgMjZcdCAgICBcbiAgICAyN1x0ICAgIGRlZiBfX2luaXRfXyhzZWxmLCBtYXN0ZXIsIGRiX2hhbmRsZXI6IERhdGFiYXNlSGFuZGxlciwgcGxvdF9mcmFtZTogTWV0cmljc1Bsb3RGcmFtZSwgKiprd2FyZ3MpOlxuICAgIDI4XHQgICAgICAgIFwiXCJcIlxuICAgIDI5XHQgICAgICAgIEluaXRpYWxpemUgdGhlIHNlbGVjdGlvbiBmcmFtZS5cbiAgICAzMFx0ICAgICAgICBcbiAgICAzMVx0ICAgICAgICBBcmdzOlxuICAgIDMyXHQgICAgICAgICAgICBtYXN0ZXI6IFRoZSBwYXJlbnQgd2lkZ2V0XG4gICAgMzNcdCAgICAgICAgICAgIGRiX2hhbmRsZXI6IERhdGFiYXNlSGFuZGxlciBpbnN0YW5jZSBmb3IgcXVlcnlpbmcgdGhlIGRhdGFiYXNlXG4gICAgMzRcdCAgICAgICAgICAgIHBsb3RfZnJhbWU6IE1ldHJpY3NQbG90RnJhbWUgaW5zdGFuY2UgZm9yIGRpc3BsYXlpbmcgcGxvdHNcbiAgICAzNVx0ICAgICAgICAgICAgKiprd2FyZ3M6IEFkZGl0aW9uYWwgYXJndW1lbnRzIGZvciB0aGUgQ1RrRnJhbWUgY29uc3RydWN0b3JcbiAgICAzNlx0ICAgICAgICBcIlwiXCJcbiAgICAzN1x0ICAgICAgICBzdXBlcigpLl9faW5pdF9fKG1hc3RlciwgKiprd2FyZ3MpXG4gICAgMzhcdCAgICAgICAgXG4gICAgMzlcdCAgICAgICAgc2VsZi5kYl9oYW5kbGVyID0gZGJfaGFuZGxlclxuICAgIDQwXHQgICAgICAgIHNlbGYucGxvdF9mcmFtZSA9IHBsb3RfZnJhbWVcbiAgICA0MVx0ICAgICAgICBcbiAgICA0Mlx0ICAgICAgICAjIENvbmZpZ3VyZSBncmlkIGxheW91dFxuICAgIDQzXHQgICAgICAgIHNlbGYuZ3JpZF9jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpXG4gICAgNDRcdCAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgxLCB3ZWlnaHQ9MSlcbiAgICA0NVx0ICAgICAgICBcbiAgICA0Nlx0ICAgICAgICAjIENyZWF0ZSBmb250c1xuICAgIDQ3XHQgICAgICAgIGxhYmVsX2ZvbnQgPSBnZXRfbGFiZWxfZm9udCgpXG4gICAgNDhcdCAgICAgICAgZHJvcGRvd25fZm9udCA9IGdldF9kcm9wZG93bl9mb250KClcbiAgICA0OVx0ICAgICAgICBcbiAgICA1MFx0ICAgICAgICAjIEV4cGVyaW1lbnQgc2VsZWN0aW9uIC0gbW9yZSBjb21wYWN0XG4gICAgNTFcdCAgICAgICAgc2VsZi5leHBlcmltZW50X2xhYmVsID0gY3RrLkNUa0xhYmVsKHNlbGYsIHRleHQ9XCJTZWxlY3QgRXhwZXJpbWVudDpcIiwgZm9udD1sYWJlbF9mb250KVxuICAgIDUyXHQgICAgICAgIHNlbGYuZXhwZXJpbWVudF9sYWJlbC5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PSg4LCAwKSwgc3RpY2t5PVwid1wiKVxuICAgIDUzXHQgICAgICAgIFxuICAgIDU0XHQgICAgICAgIHNlbGYuZXhwZXJpbWVudHMgPSBzZWxmLmRiX2hhbmRsZXIuZ2V0X2V4cGVyaW1lbnRzKClcbiAgICA1NVx0ICAgICAgICBleHBlcmltZW50X25hbWVzID0gW2ZcIntleHBbJ25hbWUnXX0gKHtleHBbJ3J1bl9uYW1lJ119KVwiIGZvciBleHAgaW4gc2VsZi5leHBlcmltZW50c11cbiAgICA1Nlx0ICAgICAgICBcbiAgICA1N1x0ICAgICAgICBzZWxmLmV4cGVyaW1lbnRfdmFyID0gY3RrLlN0cmluZ1Zhcih2YWx1ZT1leHBlcmltZW50X25hbWVzWzBdIGlmIGV4cGVyaW1lbnRfbmFtZXMgZWxzZSBcIlwiKVxuICAgIDU4XHQgICAgICAgIHNlbGYuZXhwZXJpbWVudF9kcm9wZG93biA9IGN0ay5DVGtPcHRpb25NZW51KFxuICAgIDU5XHQgICAgICAgICAgICBzZWxmLCBcbiAgICA2MFx0ICAgICAgICAgICAgdmFsdWVzPWV4cGVyaW1lbnRfbmFtZXMsXG4gICAgNjFcdCAgICAgICAgICAgIHZhcmlhYmxlPXNlbGYuZXhwZXJpbWVudF92YXIsXG4gICAgNjJcdCAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi5vbl9leHBlcmltZW50X3NlbGVjdGVkLFxuICAgIDYzXHQgICAgICAgICAgICBoZWlnaHQ9MjgsXG4gICAgNjRcdCAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udCxcbiAgICA2NVx0ICAgICAgICAgICAgZHJvcGRvd25fZm9udD1kcm9wZG93bl9mb250XG4gICAgNjZcdCAgICAgICAgKVxuICAgIDY3XHQgICAgICAgIHNlbGYuZXhwZXJpbWVudF9kcm9wZG93bi5ncmlkKHJvdz0wLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PSg4LCAwKSwgc3RpY2t5PVwiZXdcIilcbiAgICA2OFx0ICAgICAgICBcbiAgICA2OVx0ICAgICAgICAjIEVFRyBzZWxlY3Rpb24gLSBtb3JlIGNvbXBhY3RcbiAgICA3MFx0ICAgICAgICBzZWxmLmVlZ19sYWJlbCA9IGN0ay5DVGtMYWJlbChzZWxmLCB0ZXh0PVwiU2VsZWN0IEVFRzpcIiwgZm9udD1sYWJlbF9mb250KVxuICAgIDcxXHQgICAgICAgIHNlbGYuZWVnX2xhYmVsLmdyaWQocm93PTEsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9KDgsIDApLCBzdGlja3k9XCJ3XCIpXG4gICAgNzJcdCAgICAgICAgXG4gICAgNzNcdCAgICAgICAgc2VsZi5lZWdfdmFyID0gY3RrLlN0cmluZ1ZhcigpXG4gICAgNzRcdCAgICAgICAgc2VsZi5lZWdfZHJvcGRvd24gPSBjdGsuQ1RrT3B0aW9uTWVudShcbiAgICA3NVx0ICAgICAgICAgICAgc2VsZiwgXG4gICAgNzZcdCAgICAgICAgICAgIHZhbHVlcz1bXSxcbiAgICA3N1x0ICAgICAgICAgICAgdmFyaWFibGU9c2VsZi5lZWdfdmFyLFxuICAgIDc4XHQgICAgICAgICAgICBjb21tYW5kPXNlbGYub25fZWVnX3NlbGVjdGVkLFxuICAgIDc5XHQgICAgICAgICAgICBoZWlnaHQ9MjgsXG4gICAgODBcdCAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udCxcbiAgICA4MVx0ICAgICAgICAgICAgZHJvcGRvd25fZm9udD1kcm9wZG93bl9mb250XG4gICAgODJcdCAgICAgICAgKVxuICAgIDgzXHQgICAgICAgIHNlbGYuZWVnX2Ryb3Bkb3duLmdyaWQocm93PTEsIGNvbHVtbj0xLCBwYWR4PTUsIHBhZHk9KDgsIDApLCBzdGlja3k9XCJld1wiKVxuICAgIDg0XHQgICAgICAgIFxuICAgIDg1XHQgICAgICAgICMgTWV0cmljIHNlbGVjdGlvbiAtIG1vcmUgY29tcGFjdFxuICAgIDg2XHQgICAgICAgIHNlbGYubWV0cmljX2xhYmVsID0gY3RrLkNUa0xhYmVsKHNlbGYsIHRleHQ9XCJTZWxlY3QgTWV0cmljOlwiLCBmb250PWxhYmVsX2ZvbnQpXG4gICAgODdcdCAgICAgICAgc2VsZi5tZXRyaWNfbGFiZWwuZ3JpZChyb3c9MiwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0oOCwgMCksIHN0aWNreT1cIndcIilcbiAgICA4OFx0ICAgICAgICBcbiAgICA4OVx0ICAgICAgICBzZWxmLm1ldHJpY192YXIgPSBjdGsuU3RyaW5nVmFyKClcbiAgICA5MFx0ICAgICAgICBzZWxmLm1ldHJpY19kcm9wZG93biA9IGN0ay5DVGtPcHRpb25NZW51KFxuICAgIDkxXHQgICAgICAgICAgICBzZWxmLCBcbiAgICA5Mlx0ICAgICAgICAgICAgdmFsdWVzPVtdLFxuICAgIDkzXHQgICAgICAgICAgICB2YXJpYWJsZT1zZWxmLm1ldHJpY192YXIsXG4gICAgOTRcdCAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi5vbl9tZXRyaWNfc2VsZWN0ZWQsXG4gICAgOTVcdCAgICAgICAgICAgIGhlaWdodD0yOCxcbiAgICA5Nlx0ICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250LFxuICAgIDk3XHQgICAgICAgICAgICBkcm9wZG93bl9mb250PWRyb3Bkb3duX2ZvbnRcbiAgICA5OFx0ICAgICAgICApXG4gICAgOTlcdCAgICAgICAgc2VsZi5tZXRyaWNfZHJvcGRvd24uZ3JpZChyb3c9MiwgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT0oOCwgMCksIHN0aWNreT1cImV3XCIpXG4gICAxMDBcdCAgICAgICAgXG4gICAxMDFcdCAgICAgICAgIyBDaGFubmVscyBzZWxlY3Rpb24gd2l0aCBtb3JlIGNvbXBhY3QgbGF5b3V0XG4gICAxMDJcdCAgICAgICAgc2VsZi5jaGFubmVsc19sYWJlbCA9IGN0ay5DVGtMYWJlbChzZWxmLCB0ZXh0PVwiU2VsZWN0IENoYW5uZWxzOlwiLCBmb250PWxhYmVsX2ZvbnQpXG4gICAxMDNcdCAgICAgICAgc2VsZi5jaGFubmVsc19sYWJlbC5ncmlkKHJvdz0zLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PSg4LCAwKSwgc3RpY2t5PVwibndcIilcbiAgIDEwNFx0ICAgICAgICBcbiAgIDEwNVx0ICAgICAgICAjIENyZWF0ZSBhIGZyYW1lIGZvciBjaGFubmVsIHNlbGVjdGlvbiBidXR0b25zIC0gbW9yZSBjb21wYWN0IGxheW91dFxuICAgMTA2XHQgICAgICAgIHNlbGYuY2hhbm5lbF9idXR0b25zX2ZyYW1lID0gY3RrLkNUa0ZyYW1lKHNlbGYpXG4gICAxMDdcdCAgICAgICAgc2VsZi5jaGFubmVsX2J1dHRvbnNfZnJhbWUuZ3JpZChyb3c9MywgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT0oOCwgMCksIHN0aWNreT1cImV3XCIpXG4gICAxMDhcdCAgICAgICAgc2VsZi5jaGFubmVsX2J1dHRvbnNfZnJhbWUuZ3JpZF9jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpXG4gICAxMDlcdCAgICAgICAgc2VsZi5jaGFubmVsX2J1dHRvbnNfZnJhbWUuZ3JpZF9jb2x1bW5jb25maWd1cmUoMSwgd2VpZ2h0PTEpXG4gICAxMTBcdCAgICAgICAgc2VsZi5jaGFubmVsX2J1dHRvbnNfZnJhbWUuZ3JpZF9jb2x1bW5jb25maWd1cmUoMiwgd2VpZ2h0PTEpXG4gICAxMTFcdCAgICAgICAgXG4gICAxMTJcdCAgICAgICAgIyBBZGQgc2VsZWN0IGFsbCBhbmQgZGVzZWxlY3QgYWxsIGJ1dHRvbnMgd2l0aCBzbWFsbGVyIGZvbnQgYW5kIG1vcmUgY29tcGFjdCBkZXNpZ25cbiAgIDExM1x0ICAgICAgICBidXR0b25fZm9udCA9IGRyb3Bkb3duX2ZvbnRcbiAgIDExNFx0ICAgICAgICBcbiAgIDExNVx0ICAgICAgICBzZWxmLnNlbGVjdF9hbGxfYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgIDExNlx0ICAgICAgICAgICAgc2VsZi5jaGFubmVsX2J1dHRvbnNfZnJhbWUsXG4gICAxMTdcdCAgICAgICAgICAgIHRleHQ9XCJTZWxlY3QgQWxsXCIsXG4gICAxMThcdCAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi5zZWxlY3RfYWxsX2NoYW5uZWxzLFxuICAgMTE5XHQgICAgICAgICAgICBoZWlnaHQ9MjIsXG4gICAxMjBcdCAgICAgICAgICAgIGZvbnQ9YnV0dG9uX2ZvbnRcbiAgIDEyMVx0ICAgICAgICApXG4gICAxMjJcdCAgICAgICAgc2VsZi5zZWxlY3RfYWxsX2J1dHRvbi5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD0yLCBwYWR5PTMsIHN0aWNreT1cImV3XCIpXG4gICAxMjNcdCAgICAgICAgXG4gICAxMjRcdCAgICAgICAgc2VsZi5kZXNlbGVjdF9hbGxfYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgIDEyNVx0ICAgICAgICAgICAgc2VsZi5jaGFubmVsX2J1dHRvbnNfZnJhbWUsXG4gICAxMjZcdCAgICAgICAgICAgIHRleHQ9XCJEZXNlbGVjdCBBbGxcIixcbiAgIDEyN1x0ICAgICAgICAgICAgY29tbWFuZD1zZWxmLmRlc2VsZWN0X2FsbF9jaGFubmVscyxcbiAgIDEyOFx0ICAgICAgICAgICAgaGVpZ2h0PTIyLFxuICAgMTI5XHQgICAgICAgICAgICBmb250PWJ1dHRvbl9mb250XG4gICAxMzBcdCAgICAgICAgKVxuICAgMTMxXHQgICAgICAgIHNlbGYuZGVzZWxlY3RfYWxsX2J1dHRvbi5ncmlkKHJvdz0wLCBjb2x1bW49MSwgcGFkeD0yLCBwYWR5PTMsIHN0aWNreT1cImV3XCIpXG4gICAxMzJcdCAgICAgICAgXG4gICAxMzNcdCAgICAgICAgIyBBZGQgc2VsZWN0IGNvbW1vbiBjaGFubmVscyBidXR0b25cbiAgIDEzNFx0ICAgICAgICBzZWxmLnNlbGVjdF9jb21tb25fYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgIDEzNVx0ICAgICAgICAgICAgc2VsZi5jaGFubmVsX2J1dHRvbnNfZnJhbWUsXG4gICAxMzZcdCAgICAgICAgICAgIHRleHQ9XCJDb21tb24gQ2hhbm5lbHNcIixcbiAgIDEzN1x0ICAgICAgICAgICAgY29tbWFuZD1zZWxmLnNlbGVjdF9jb21tb25fY2hhbm5lbHMsXG4gICAxMzhcdCAgICAgICAgICAgIGhlaWdodD0yMixcbiAgIDEzOVx0ICAgICAgICAgICAgZm9udD1idXR0b25fZm9udFxuICAgMTQwXHQgICAgICAgIClcbiAgIDE0MVx0ICAgICAgICBzZWxmLnNlbGVjdF9jb21tb25fYnV0dG9uLmdyaWQocm93PTAsIGNvbHVtbj0yLCBwYWR4PTIsIHBhZHk9Mywgc3RpY2t5PVwiZXdcIilcbiAgIDE0Mlx0ICAgICAgICBcbiAgIDE0M1x0ICAgICAgICAjIENyZWF0ZSBhIHNjcm9sbGFibGUgZnJhbWUgZm9yIGNoYW5uZWwgY2hlY2tib3hlcyAtIGluY3JlYXNlZCBoZWlnaHQgZm9yIGJldHRlciB1c2FiaWxpdHlcbiAgIDE0NFx0ICAgICAgICBzZWxmLmNoYW5uZWxzX2ZyYW1lID0gY3RrLkNUa1Njcm9sbGFibGVGcmFtZShzZWxmLCB3aWR0aD0xODAsIGhlaWdodD0yMDApXG4gICAxNDVcdCAgICAgICAgc2VsZi5jaGFubmVsc19mcmFtZS5ncmlkKHJvdz00LCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PSgwLCA4KSwgc3RpY2t5PVwiZXdcIilcbiAgIDE0Nlx0ICAgICAgICBcbiAgIDE0N1x0ICAgICAgICAjIEJpbmQgbW91c2Ugd2hlZWwgZXZlbnRzIHRvIGVuc3VyZSBzY3JvbGxpbmcgd29ya3MgcHJvcGVybHlcbiAgIDE0OFx0ICAgICAgICBzZWxmLmJpbmRfbW91c2Vfd2hlZWwoc2VsZi5jaGFubmVsc19mcmFtZSlcbiAgIDE0OVx0ICAgICAgICBcbiAgIDE1MFx0ICAgICAgICBzZWxmLmNoYW5uZWxfdmFycyA9IHt9ICAjIFdpbGwgaG9sZCB0aGUgY2hlY2tib3ggdmFyaWFibGVzXG4gICAxNTFcdCAgICAgICAgXG4gICAxNTJcdCAgICAgICAgIyBBZ2dyZWdhdGlvbiBtZXRob2RzIGZyYW1lXG4gICAxNTNcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9mcmFtZSA9IGN0ay5DVGtGcmFtZShzZWxmKVxuICAgMTU0XHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fZnJhbWUuZ3JpZChyb3c9NSwgY29sdW1uPTAsIGNvbHVtbnNwYW49MiwgcGFkeD01LCBwYWR5PSg1LCAwKSwgc3RpY2t5PVwiZXdcIilcbiAgIDE1NVx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgMTU2XHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fZnJhbWUuZ3JpZF9jb2x1bW5jb25maWd1cmUoMSwgd2VpZ2h0PTMpXG4gICAxNTdcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9mcmFtZS5ncmlkX3Jvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgIDE1OFx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2ZyYW1lLmdyaWRfcm93Y29uZmlndXJlKDEsIHdlaWdodD0xKVxuICAgMTU5XHQgICAgICAgIFxuICAgMTYwXHQgICAgICAgICMgQWdncmVnYXRpb24gbGFiZWxcbiAgIDE2MVx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2xhYmVsID0gY3RrLkNUa0xhYmVsKFxuICAgMTYyXHQgICAgICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2ZyYW1lLCBcbiAgIDE2M1x0ICAgICAgICAgICAgdGV4dD1cIkFnZ3JlZ2F0aW9uOlwiLCBcbiAgIDE2NFx0ICAgICAgICAgICAgZm9udD1sYWJlbF9mb250XG4gICAxNjVcdCAgICAgICAgKVxuICAgMTY2XHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fbGFiZWwuZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT01LCBzdGlja3k9XCJ3XCIpXG4gICAxNjdcdCAgICAgICAgXG4gICAxNjhcdCAgICAgICAgIyBBZ2dyZWdhdGlvbiBjaGVja2JveGVzIGZyYW1lXG4gICAxNjlcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9jaGVja2JveGVzX2ZyYW1lID0gY3RrLkNUa0ZyYW1lKHNlbGYuYWdncmVnYXRpb25fZnJhbWUsIGZnX2NvbG9yPVwidHJhbnNwYXJlbnRcIilcbiAgIDE3MFx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2NoZWNrYm94ZXNfZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT01LCBzdGlja3k9XCJld1wiKVxuICAgMTcxXHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fY2hlY2tib3hlc19mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgIDE3Mlx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2NoZWNrYm94ZXNfZnJhbWUuZ3JpZF9jb2x1bW5jb25maWd1cmUoMSwgd2VpZ2h0PTEpXG4gICAxNzNcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9jaGVja2JveGVzX2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDIsIHdlaWdodD0xKVxuICAgMTc0XHQgICAgICAgIFxuICAgMTc1XHQgICAgICAgICMgQWdncmVnYXRpb24gbWV0aG9kIGNoZWNrYm94ZXNcbiAgIDE3Nlx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX3ZhcnMgPSB7fVxuICAgMTc3XHQgICAgICAgIFxuICAgMTc4XHQgICAgICAgICMgTWVhbiBjaGVja2JveFxuICAgMTc5XHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fdmFyc1snbWVhbiddID0gY3RrLkJvb2xlYW5WYXIodmFsdWU9RmFsc2UpXG4gICAxODBcdCAgICAgICAgc2VsZi5tZWFuX2NoZWNrYm94ID0gY3RrLkNUa0NoZWNrQm94KFxuICAgMTgxXHQgICAgICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2NoZWNrYm94ZXNfZnJhbWUsXG4gICAxODJcdCAgICAgICAgICAgIHRleHQ9XCJNZWFuXCIsXG4gICAxODNcdCAgICAgICAgICAgIHZhcmlhYmxlPXNlbGYuYWdncmVnYXRpb25fdmFyc1snbWVhbiddLFxuICAgMTg0XHQgICAgICAgICAgICBvbnZhbHVlPVRydWUsXG4gICAxODVcdCAgICAgICAgICAgIG9mZnZhbHVlPUZhbHNlLFxuICAgMTg2XHQgICAgICAgICAgICBmb250PWRyb3Bkb3duX2ZvbnQsXG4gICAxODdcdCAgICAgICAgICAgIGNoZWNrYm94X3dpZHRoPTE2LFxuICAgMTg4XHQgICAgICAgICAgICBjaGVja2JveF9oZWlnaHQ9MTZcbiAgIDE4OVx0ICAgICAgICApXG4gICAxOTBcdCAgICAgICAgc2VsZi5tZWFuX2NoZWNrYm94LmdyaWQocm93PTAsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9Miwgc3RpY2t5PVwid1wiKVxuICAgMTkxXHQgICAgICAgIFxuICAgMTkyXHQgICAgICAgICMgU3RkIGNoZWNrYm94XG4gICAxOTNcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl92YXJzWydzdGQnXSA9IGN0ay5Cb29sZWFuVmFyKHZhbHVlPUZhbHNlKVxuICAgMTk0XHQgICAgICAgIHNlbGYuc3RkX2NoZWNrYm94ID0gY3RrLkNUa0NoZWNrQm94KFxuICAgMTk1XHQgICAgICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2NoZWNrYm94ZXNfZnJhbWUsXG4gICAxOTZcdCAgICAgICAgICAgIHRleHQ9XCJTdGQgRGV2XCIsXG4gICAxOTdcdCAgICAgICAgICAgIHZhcmlhYmxlPXNlbGYuYWdncmVnYXRpb25fdmFyc1snc3RkJ10sXG4gICAxOThcdCAgICAgICAgICAgIG9udmFsdWU9VHJ1ZSxcbiAgIDE5OVx0ICAgICAgICAgICAgb2ZmdmFsdWU9RmFsc2UsXG4gICAyMDBcdCAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udCxcbiAgIDIwMVx0ICAgICAgICAgICAgY2hlY2tib3hfd2lkdGg9MTYsXG4gICAyMDJcdCAgICAgICAgICAgIGNoZWNrYm94X2hlaWdodD0xNlxuICAgMjAzXHQgICAgICAgIClcbiAgIDIwNFx0ICAgICAgICBzZWxmLnN0ZF9jaGVja2JveC5ncmlkKHJvdz0wLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PTIsIHN0aWNreT1cIndcIilcbiAgIDIwNVx0ICAgICAgICBcbiAgIDIwNlx0ICAgICAgICAjIE1lZGlhbiBjaGVja2JveFxuICAgMjA3XHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fdmFyc1snbWVkaWFuJ10gPSBjdGsuQm9vbGVhblZhcih2YWx1ZT1GYWxzZSlcbiAgIDIwOFx0ICAgICAgICBzZWxmLm1lZGlhbl9jaGVja2JveCA9IGN0ay5DVGtDaGVja0JveChcbiAgIDIwOVx0ICAgICAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9jaGVja2JveGVzX2ZyYW1lLFxuICAgMjEwXHQgICAgICAgICAgICB0ZXh0PVwiTWVkaWFuXCIsXG4gICAyMTFcdCAgICAgICAgICAgIHZhcmlhYmxlPXNlbGYuYWdncmVnYXRpb25fdmFyc1snbWVkaWFuJ10sXG4gICAyMTJcdCAgICAgICAgICAgIG9udmFsdWU9VHJ1ZSxcbiAgIDIxM1x0ICAgICAgICAgICAgb2ZmdmFsdWU9RmFsc2UsXG4gICAyMTRcdCAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udCxcbiAgIDIxNVx0ICAgICAgICAgICAgY2hlY2tib3hfd2lkdGg9MTYsXG4gICAyMTZcdCAgICAgICAgICAgIGNoZWNrYm94X2hlaWdodD0xNlxuICAgMjE3XHQgICAgICAgIClcbiAgIDIxOFx0ICAgICAgICBzZWxmLm1lZGlhbl9jaGVja2JveC5ncmlkKHJvdz0wLCBjb2x1bW49MiwgcGFkeD01LCBwYWR5PTIsIHN0aWNreT1cIndcIilcbiAgIDIxOVx0ICAgICAgICBcbiAgIDIyMFx0ICAgICAgICAjIEFnZ3JlZ2F0aW9uIG9ubHkgY2hlY2tib3hcbiAgIDIyMVx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX29ubHlfdmFyID0gY3RrLkJvb2xlYW5WYXIodmFsdWU9RmFsc2UpXG4gICAyMjJcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9vbmx5X2NoZWNrYm94ID0gY3RrLkNUa0NoZWNrQm94KFxuICAgMjIzXHQgICAgICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2ZyYW1lLFxuICAgMjI0XHQgICAgICAgICAgICB0ZXh0PVwiU2hvdyBBZ2dyZWdhdGlvbiBPbmx5XCIsXG4gICAyMjVcdCAgICAgICAgICAgIHZhcmlhYmxlPXNlbGYuYWdncmVnYXRpb25fb25seV92YXIsXG4gICAyMjZcdCAgICAgICAgICAgIG9udmFsdWU9VHJ1ZSxcbiAgIDIyN1x0ICAgICAgICAgICAgb2ZmdmFsdWU9RmFsc2UsXG4gICAyMjhcdCAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udCxcbiAgIDIyOVx0ICAgICAgICAgICAgY2hlY2tib3hfd2lkdGg9MTYsXG4gICAyMzBcdCAgICAgICAgICAgIGNoZWNrYm94X2hlaWdodD0xNlxuICAgMjMxXHQgICAgICAgIClcbiAgIDIzMlx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX29ubHlfY2hlY2tib3guZ3JpZChyb3c9MSwgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT0oMCwgMiksIHN0aWNreT1cIndcIilcbiAgIDIzM1x0ICAgICAgICBcbiAgIDIzNFx0ICAgICAgICAjIFRpbWUgd2luZG93IHNlbGVjdGlvbiBmcmFtZVxuICAgMjM1XHQgICAgICAgIHNlbGYudGltZV93aW5kb3dfZnJhbWUgPSBjdGsuQ1RrRnJhbWUoc2VsZilcbiAgIDIzNlx0ICAgICAgICBzZWxmLnRpbWVfd2luZG93X2ZyYW1lLmdyaWQocm93PTYsIGNvbHVtbj0wLCBjb2x1bW5zcGFuPTIsIHBhZHg9NSwgcGFkeT0oNSwgMCksIHN0aWNreT1cImV3XCIpXG4gICAyMzdcdCAgICAgICAgc2VsZi50aW1lX3dpbmRvd19mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgIDIzOFx0ICAgICAgICBzZWxmLnRpbWVfd2luZG93X2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDEsIHdlaWdodD0xKVxuICAgMjM5XHQgICAgICAgIHNlbGYudGltZV93aW5kb3dfZnJhbWUuZ3JpZF9jb2x1bW5jb25maWd1cmUoMiwgd2VpZ2h0PTEpXG4gICAyNDBcdCAgICAgICAgc2VsZi50aW1lX3dpbmRvd19mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgzLCB3ZWlnaHQ9MSlcbiAgIDI0MVx0ICAgICAgICBcbiAgIDI0Mlx0ICAgICAgICAjIFRpbWUgd2luZG93IGxhYmVsXG4gICAyNDNcdCAgICAgICAgc2VsZi50aW1lX3dpbmRvd19sYWJlbCA9IGN0ay5DVGtMYWJlbChcbiAgIDI0NFx0ICAgICAgICAgICAgc2VsZi50aW1lX3dpbmRvd19mcmFtZSwgXG4gICAyNDVcdCAgICAgICAgICAgIHRleHQ9XCJUaW1lIFdpbmRvdyAocyk6XCIsIFxuICAgMjQ2XHQgICAgICAgICAgICBmb250PWxhYmVsX2ZvbnRcbiAgIDI0N1x0ICAgICAgICApXG4gICAyNDhcdCAgICAgICAgc2VsZi50aW1lX3dpbmRvd19sYWJlbC5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTUsIHN0aWNreT1cIndcIilcbiAgIDI0OVx0ICAgICAgICBcbiAgIDI1MFx0ICAgICAgICAjIFN0YXJ0IHRpbWUgZW50cnlcbiAgIDI1MVx0ICAgICAgICBzZWxmLnN0YXJ0X3RpbWVfdmFyID0gY3RrLlN0cmluZ1Zhcih2YWx1ZT1cIjBcIilcbiAgIDI1Mlx0ICAgICAgICBzZWxmLnN0YXJ0X3RpbWVfZW50cnkgPSBjdGsuQ1RrRW50cnkoXG4gICAyNTNcdCAgICAgICAgICAgIHNlbGYudGltZV93aW5kb3dfZnJhbWUsXG4gICAyNTRcdCAgICAgICAgICAgIHRleHR2YXJpYWJsZT1zZWxmLnN0YXJ0X3RpbWVfdmFyLFxuICAgMjU1XHQgICAgICAgICAgICB3aWR0aD02MCxcbiAgIDI1Nlx0ICAgICAgICAgICAgaGVpZ2h0PTI1LFxuICAgMjU3XHQgICAgICAgICAgICBmb250PWRyb3Bkb3duX2ZvbnRcbiAgIDI1OFx0ICAgICAgICApXG4gICAyNTlcdCAgICAgICAgc2VsZi5zdGFydF90aW1lX2VudHJ5LmdyaWQocm93PTAsIGNvbHVtbj0xLCBwYWR4PTUsIHBhZHk9NSwgc3RpY2t5PVwiZXdcIilcbiAgIDI2MFx0ICAgICAgICBcbiAgIDI2MVx0ICAgICAgICAjIFRvIGxhYmVsXG4gICAyNjJcdCAgICAgICAgc2VsZi50b19sYWJlbCA9IGN0ay5DVGtMYWJlbChcbiAgIDI2M1x0ICAgICAgICAgICAgc2VsZi50aW1lX3dpbmRvd19mcmFtZSwgXG4gICAyNjRcdCAgICAgICAgICAgIHRleHQ9XCJ0b1wiLCBcbiAgIDI2NVx0ICAgICAgICAgICAgZm9udD1sYWJlbF9mb250XG4gICAyNjZcdCAgICAgICAgKVxuICAgMjY3XHQgICAgICAgIHNlbGYudG9fbGFiZWwuZ3JpZChyb3c9MCwgY29sdW1uPTIsIHBhZHg9MiwgcGFkeT01KVxuICAgMjY4XHQgICAgICAgIFxuICAgMjY5XHQgICAgICAgICMgRW5kIHRpbWUgZW50cnlcbiAgIDI3MFx0ICAgICAgICBzZWxmLmVuZF90aW1lX3ZhciA9IGN0ay5TdHJpbmdWYXIodmFsdWU9XCJcIilcbiAgIDI3MVx0ICAgICAgICBzZWxmLmVuZF90aW1lX2VudHJ5ID0gY3RrLkNUa0VudHJ5KFxuICAgMjcyXHQgICAgICAgICAgICBzZWxmLnRpbWVfd2luZG93X2ZyYW1lLFxuICAgMjczXHQgICAgICAgICAgICB0ZXh0dmFyaWFibGU9c2VsZi5lbmRfdGltZV92YXIsXG4gICAyNzRcdCAgICAgICAgICAgIHdpZHRoPTYwLFxuICAgMjc1XHQgICAgICAgICAgICBoZWlnaHQ9MjUsXG4gICAyNzZcdCAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udFxuICAgMjc3XHQgICAgICAgIClcbiAgIDI3OFx0ICAgICAgICBzZWxmLmVuZF90aW1lX2VudHJ5LmdyaWQocm93PTAsIGNvbHVtbj0zLCBwYWR4PTUsIHBhZHk9NSwgc3RpY2t5PVwiZXdcIilcbiAgIDI3OVx0ICAgICAgICBcbiAgIDI4MFx0ICAgICAgICAjIFJlc2V0IHpvb20gYnV0dG9uXG4gICAyODFcdCAgICAgICAgc2VsZi5yZXNldF96b29tX2J1dHRvbiA9IGN0ay5DVGtCdXR0b24oXG4gICAyODJcdCAgICAgICAgICAgIHNlbGYsIFxuICAgMjgzXHQgICAgICAgICAgICB0ZXh0PVwiUmVzZXQgWm9vbVwiLCBcbiAgIDI4NFx0ICAgICAgICAgICAgY29tbWFuZD1zZWxmLnJlc2V0X3RpbWVfd2luZG93LFxuICAgMjg1XHQgICAgICAgICAgICBoZWlnaHQ9MjUsXG4gICAyODZcdCAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udFxuICAgMjg3XHQgICAgICAgIClcbiAgIDI4OFx0ICAgICAgICBzZWxmLnJlc2V0X3pvb21fYnV0dG9uLmdyaWQocm93PTcsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9KDUsIDApLCBzdGlja3k9XCJld1wiKVxuICAgMjg5XHQgICAgICAgIFxuICAgMjkwXHQgICAgICAgICMgVXBkYXRlIGJ1dHRvbiAtIG1vcmUgY29tcGFjdFxuICAgMjkxXHQgICAgICAgIHNlbGYudXBkYXRlX2J1dHRvbiA9IGN0ay5DVGtCdXR0b24oXG4gICAyOTJcdCAgICAgICAgICAgIHNlbGYsIFxuICAgMjkzXHQgICAgICAgICAgICB0ZXh0PVwiVXBkYXRlIFBsb3RcIiwgXG4gICAyOTRcdCAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi51cGRhdGVfcGxvdCxcbiAgIDI5NVx0ICAgICAgICAgICAgaGVpZ2h0PTMwLFxuICAgMjk2XHQgICAgICAgICAgICBmb250PWdldF9idXR0b25fZm9udCgpXG4gICAyOTdcdCAgICAgICAgKVxuICAgMjk4XHQgICAgICAgIHNlbGYudXBkYXRlX2J1dHRvbi5ncmlkKHJvdz03LCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PSg1LCA4KSwgc3RpY2t5PVwiZXdcIilcbiAgIDI5OVx0ICAgICAgICBcbiAgIDMwMFx0ICAgICAgICAjIEluaXRpYWxpemUgd2l0aCB0aGUgZmlyc3QgZXhwZXJpbWVudCBpZiBhdmFpbGFibGVcbiAgIDMwMVx0ICAgICAgICBpZiBzZWxmLmV4cGVyaW1lbnRzOlxuICAgMzAyXHQgICAgICAgICAgICBzZWxmLm9uX2V4cGVyaW1lbnRfc2VsZWN0ZWQoZXhwZXJpbWVudF9uYW1lc1swXSlcbiAgIDMwM1x0ICAgIFxuICAgMzA0XHQgICAgZGVmIG9uX2V4cGVyaW1lbnRfc2VsZWN0ZWQoc2VsZiwgc2VsZWN0aW9uOiBzdHIpOlxuICAgMzA1XHQgICAgICAgIFwiXCJcIlxuICAgMzA2XHQgICAgICAgIEhhbmRsZSBleHBlcmltZW50IHNlbGVjdGlvbiBjaGFuZ2UuXG4gICAzMDdcdCAgICAgICAgXG4gICAzMDhcdCAgICAgICAgQXJnczpcbiAgIDMwOVx0ICAgICAgICAgICAgc2VsZWN0aW9uOiBTZWxlY3RlZCBleHBlcmltZW50IG5hbWVcbiAgIDMxMFx0ICAgICAgICBcIlwiXCJcbiAgIDMxMVx0ICAgICAgICAjIEZpbmQgdGhlIHNlbGVjdGVkIGV4cGVyaW1lbnRcbiAgIDMxMlx0ICAgICAgICBzZWxlY3RlZF9leHAgPSBOb25lXG4gICAzMTNcdCAgICAgICAgZm9yIGV4cCBpbiBzZWxmLmV4cGVyaW1lbnRzOlxuICAgMzE0XHQgICAgICAgICAgICBpZiBmXCJ7ZXhwWyduYW1lJ119ICh7ZXhwWydydW5fbmFtZSddfSlcIiA9PSBzZWxlY3Rpb246XG4gICAzMTVcdCAgICAgICAgICAgICAgICBzZWxlY3RlZF9leHAgPSBleHBcbiAgIDMxNlx0ICAgICAgICAgICAgICAgIGJyZWFrXG4gICAzMTdcdCAgICAgICAgXG4gICAzMThcdCAgICAgICAgaWYgbm90IHNlbGVjdGVkX2V4cDpcbiAgIDMxOVx0ICAgICAgICAgICAgcmV0dXJuXG4gICAzMjBcdCAgICAgICAgXG4gICAzMjFcdCAgICAgICAgIyBVcGRhdGUgRUVHIGRyb3Bkb3duXG4gICAzMjJcdCAgICAgICAgc2VsZi5jdXJyZW50X2V4cGVyaW1lbnRfaWQgPSBzZWxlY3RlZF9leHBbJ2lkJ11cbiAgIDMyM1x0ICAgICAgICBlZWdzID0gc2VsZi5kYl9oYW5kbGVyLmdldF9lZWdzX2Zvcl9leHBlcmltZW50KHNlbGYuY3VycmVudF9leHBlcmltZW50X2lkKVxuICAgMzI0XHQgICAgICAgIGVlZ19uYW1lcyA9IFtlZWdbJ2ZpbGVuYW1lJ10gZm9yIGVlZyBpbiBlZWdzXVxuICAgMzI1XHQgICAgICAgIFxuICAgMzI2XHQgICAgICAgIHNlbGYuZWVncyA9IGVlZ3NcbiAgIDMyN1x0ICAgICAgICBzZWxmLmVlZ19kcm9wZG93bi5jb25maWd1cmUodmFsdWVzPWVlZ19uYW1lcylcbiAgIDMyOFx0ICAgICAgICBpZiBlZWdfbmFtZXM6XG4gICAzMjlcdCAgICAgICAgICAgIHNlbGYuZWVnX3Zhci5zZXQoZWVnX25hbWVzWzBdKVxuICAgMzMwXHQgICAgICAgICAgICBzZWxmLm9uX2VlZ19zZWxlY3RlZChlZWdfbmFtZXNbMF0pXG4gICAzMzFcdCAgICAgICAgZWxzZTpcbiAgIDMzMlx0ICAgICAgICAgICAgc2VsZi5lZWdfdmFyLnNldChcIlwiKVxuICAgMzMzXHQgICAgICAgICAgICBzZWxmLmNsZWFyX21ldHJpY3MoKVxuICAgMzM0XHQgICAgICAgICAgICBzZWxmLmNsZWFyX2NoYW5uZWxzKClcbiAgIDMzNVx0ICAgIFxuICAgMzM2XHQgICAgZGVmIG9uX2VlZ19zZWxlY3RlZChzZWxmLCBzZWxlY3Rpb246IHN0cik6XG4gICAzMzdcdCAgICAgICAgXCJcIlwiXG4gICAzMzhcdCAgICAgICAgSGFuZGxlIEVFRyBzZWxlY3Rpb24gY2hhbmdlLlxuICAgMzM5XHQgICAgICAgIFxuICAgMzQwXHQgICAgICAgIEFyZ3M6XG4gICAzNDFcdCAgICAgICAgICAgIHNlbGVjdGlvbjogU2VsZWN0ZWQgRUVHIG5hbWVcbiAgIDM0Mlx0ICAgICAgICBcIlwiXCJcbiAgIDM0M1x0ICAgICAgICAjIEZpbmQgdGhlIHNlbGVjdGVkIEVFR1xuICAgMzQ0XHQgICAgICAgIHNlbGVjdGVkX2VlZyA9IE5vbmVcbiAgIDM0NVx0ICAgICAgICBmb3IgZWVnIGluIHNlbGYuZWVnczpcbiAgIDM0Nlx0ICAgICAgICAgICAgaWYgZWVnWydmaWxlbmFtZSddID09IHNlbGVjdGlvbjpcbiAgIDM0N1x0ICAgICAgICAgICAgICAgIHNlbGVjdGVkX2VlZyA9IGVlZ1xuICAgMzQ4XHQgICAgICAgICAgICAgICAgYnJlYWtcbiAgIDM0OVx0ICAgICAgICBcbiAgIDM1MFx0ICAgICAgICBpZiBub3Qgc2VsZWN0ZWRfZWVnOlxuICAgMzUxXHQgICAgICAgICAgICByZXR1cm5cbiAgIDM1Mlx0ICAgICAgICBcbiAgIDM1M1x0ICAgICAgICAjIFVwZGF0ZSBtZXRyaWNzIGRyb3Bkb3duXG4gICAzNTRcdCAgICAgICAgc2VsZi5jdXJyZW50X2VlZ19pZCA9IHNlbGVjdGVkX2VlZ1snaWQnXVxuICAgMzU1XHQgICAgICAgIHNlbGYudXBkYXRlX21ldHJpY3NfZHJvcGRvd24oKVxuICAgMzU2XHQgICAgICAgIHNlbGYudXBkYXRlX2NoYW5uZWxzX2NoZWNrYm94ZXMoKVxuICAgMzU3XHQgICAgXG4gICAzNThcdCAgICBkZWYgb25fbWV0cmljX3NlbGVjdGVkKHNlbGYsIHNlbGVjdGlvbjogc3RyKTpcbiAgIDM1OVx0ICAgICAgICBcIlwiXCJcbiAgIDM2MFx0ICAgICAgICBIYW5kbGUgbWV0cmljIHNlbGVjdGlvbiBjaGFuZ2UuXG4gICAzNjFcdCAgICAgICAgXG4gICAzNjJcdCAgICAgICAgQXJnczpcbiAgIDM2M1x0ICAgICAgICAgICAgc2VsZWN0aW9uOiBTZWxlY3RlZCBtZXRyaWMgbmFtZVxuICAgMzY0XHQgICAgICAgIFwiXCJcIlxuICAgMzY1XHQgICAgICAgIHNlbGYuY3VycmVudF9tZXRyaWMgPSBzZWxlY3Rpb25cbiAgIDM2Nlx0ICAgIFxuICAgMzY3XHQgICAgZGVmIHVwZGF0ZV9tZXRyaWNzX2Ryb3Bkb3duKHNlbGYpOlxuICAgMzY4XHQgICAgICAgIFwiXCJcIlVwZGF0ZSB0aGUgbWV0cmljcyBkcm9wZG93biBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgZXhwZXJpbWVudCBhbmQgRUVHLlwiXCJcIlxuICAgMzY5XHQgICAgICAgICMgR2V0IGF2YWlsYWJsZSBtZXRyaWNzXG4gICAzNzBcdCAgICAgICAgbWV0cmljcyA9IHNlbGYuZGJfaGFuZGxlci5nZXRfYXZhaWxhYmxlX21ldHJpY3Moc2VsZi5jdXJyZW50X2V4cGVyaW1lbnRfaWQsIHNlbGYuY3VycmVudF9lZWdfaWQpXG4gICAzNzFcdCAgICAgICAgXG4gICAzNzJcdCAgICAgICAgIyBVcGRhdGUgZHJvcGRvd25cbiAgIDM3M1x0ICAgICAgICBzZWxmLm1ldHJpY19kcm9wZG93bi5jb25maWd1cmUodmFsdWVzPW1ldHJpY3MpXG4gICAzNzRcdCAgICAgICAgaWYgbWV0cmljczpcbiAgIDM3NVx0ICAgICAgICAgICAgc2VsZi5tZXRyaWNfdmFyLnNldChtZXRyaWNzWzBdKVxuICAgMzc2XHQgICAgICAgICAgICBzZWxmLmN1cnJlbnRfbWV0cmljID0gbWV0cmljc1swXVxuICAgMzc3XHQgICAgICAgIGVsc2U6XG4gICAzNzhcdCAgICAgICAgICAgIHNlbGYubWV0cmljX3Zhci5zZXQoXCJcIilcbiAgIDM3OVx0ICAgICAgICAgICAgc2VsZi5jdXJyZW50X21ldHJpYyA9IE5vbmVcbiAgIDM4MFx0ICAgIFxuICAgMzgxXHQgICAgZGVmIHVwZGF0ZV9jaGFubmVsc19jaGVja2JveGVzKHNlbGYpOlxuICAgMzgyXHQgICAgICAgIFwiXCJcIlVwZGF0ZSB0aGUgY2hhbm5lbCBjaGVja2JveGVzIGJhc2VkIG9uIHRoZSBzZWxlY3RlZCBleHBlcmltZW50IGFuZCBFRUcuXCJcIlwiXG4gICAzODNcdCAgICAgICAgIyBDbGVhciBleGlzdGluZyBjaGVja2JveGVzXG4gICAzODRcdCAgICAgICAgc2VsZi5jbGVhcl9jaGFubmVscygpXG4gICAzODVcdCAgICAgICAgXG4gICAzODZcdCAgICAgICAgIyBHZXQgYXZhaWxhYmxlIGNoYW5uZWxzXG4gICAzODdcdCAgICAgICAgc2VsZi5hdmFpbGFibGVfY2hhbm5lbHMgPSBzZWxmLmRiX2hhbmRsZXIuZ2V0X2F2YWlsYWJsZV9jaGFubmVscyhzZWxmLmN1cnJlbnRfZXhwZXJpbWVudF9pZCwgc2VsZi5jdXJyZW50X2VlZ19pZClcbiAgIDM4OFx0ICAgICAgICBcbiAgIDM4OVx0ICAgICAgICAjIEFkZCBhIHNlYXJjaCBlbnRyeSBhdCB0aGUgdG9wIG9mIHRoZSBjaGFubmVscyBmcmFtZVxuICAgMzkwXHQgICAgICAgIHNlbGYuc2VhcmNoX3ZhciA9IGN0ay5TdHJpbmdWYXIoKVxuICAgMzkxXHQgICAgICAgIHNlbGYuc2VhcmNoX3Zhci50cmFjZV9hZGQoXCJ3cml0ZVwiLCBzZWxmLmZpbHRlcl9jaGFubmVscylcbiAgIDM5Mlx0ICAgICAgICBcbiAgIDM5M1x0ICAgICAgICBzZWxmLnNlYXJjaF9mcmFtZSA9IGN0ay5DVGtGcmFtZShzZWxmLmNoYW5uZWxzX2ZyYW1lKVxuICAgMzk0XHQgICAgICAgIHNlbGYuc2VhcmNoX2ZyYW1lLmdyaWQocm93PTAsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9NSwgc3RpY2t5PVwiZXdcIilcbiAgIDM5NVx0ICAgICAgICBzZWxmLnNlYXJjaF9mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgIDM5Nlx0ICAgICAgICBcbiAgIDM5N1x0ICAgICAgICBzZWxmLnNlYXJjaF9lbnRyeSA9IGN0ay5DVGtFbnRyeShcbiAgIDM5OFx0ICAgICAgICAgICAgc2VsZi5zZWFyY2hfZnJhbWUsXG4gICAzOTlcdCAgICAgICAgICAgIHBsYWNlaG9sZGVyX3RleHQ9XCJTZWFyY2ggY2hhbm5lbHMuLi5cIixcbiAgIDQwMFx0ICAgICAgICAgICAgdGV4dHZhcmlhYmxlPXNlbGYuc2VhcmNoX3ZhcixcbiAgIDQwMVx0ICAgICAgICAgICAgaGVpZ2h0PTI1LFxuICAgNDAyXHQgICAgICAgICAgICBmb250PWdldF9kcm9wZG93bl9mb250KClcbiAgIDQwM1x0ICAgICAgICApXG4gICA0MDRcdCAgICAgICAgc2VsZi5zZWFyY2hfZW50cnkuZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0zLCBzdGlja3k9XCJld1wiKVxuICAgNDA1XHQgICAgICAgIFxuICAgNDA2XHQgICAgICAgICMgQ3JlYXRlIHRoZSBjaGFubmVscyBjb250YWluZXIgZnJhbWVcbiAgIDQwN1x0ICAgICAgICBzZWxmLmNoYW5uZWxzX2NvbnRhaW5lciA9IGN0ay5DVGtGcmFtZShzZWxmLmNoYW5uZWxzX2ZyYW1lLCBmZ19jb2xvcj1cInRyYW5zcGFyZW50XCIpXG4gICA0MDhcdCAgICAgICAgc2VsZi5jaGFubmVsc19jb250YWluZXIuZ3JpZChyb3c9MSwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT01LCBzdGlja3k9XCJld1wiKVxuICAgNDA5XHQgICAgICAgIFxuICAgNDEwXHQgICAgICAgICMgRGlzcGxheSBhbGwgY2hhbm5lbHMgaW5pdGlhbGx5XG4gICA0MTFcdCAgICAgICAgc2VsZi5kaXNwbGF5X2NoYW5uZWxzKHNlbGYuYXZhaWxhYmxlX2NoYW5uZWxzKVxuICAgNDEyXHQgICAgXG4gICA0MTNcdCAgICBkZWYgZGlzcGxheV9jaGFubmVscyhzZWxmLCBjaGFubmVsczogTGlzdFtzdHJdKTpcbiAgIDQxNFx0ICAgICAgICBcIlwiXCJcbiAgIDQxNVx0ICAgICAgICBEaXNwbGF5IHRoZSBnaXZlbiBjaGFubmVscyBhcyBjaGVja2JveGVzLlxuICAgNDE2XHQgICAgICAgIFxuICAgNDE3XHQgICAgICAgIEFyZ3M6XG4gICA0MThcdCAgICAgICAgICAgIGNoYW5uZWxzOiBMaXN0IG9mIGNoYW5uZWwgbmFtZXMgdG8gZGlzcGxheVxuICAgNDE5XHQgICAgICAgIFwiXCJcIlxuICAgNDIwXHQgICAgICAgICMgQ2xlYXIgZXhpc3RpbmcgY2hlY2tib3hlcyBpbiB0aGUgY29udGFpbmVyXG4gICA0MjFcdCAgICAgICAgZm9yIHdpZGdldCBpbiBzZWxmLmNoYW5uZWxzX2NvbnRhaW5lci53aW5mb19jaGlsZHJlbigpOlxuICAgNDIyXHQgICAgICAgICAgICB3aWRnZXQuZGVzdHJveSgpXG4gICA0MjNcdCAgICAgICAgXG4gICA0MjRcdCAgICAgICAgIyBDb25maWd1cmUgdGhlIGNvbnRhaW5lciBmb3IgcHJvcGVyIHNjcm9sbGluZ1xuICAgNDI1XHQgICAgICAgIHNlbGYuY2hhbm5lbHNfY29udGFpbmVyLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgNDI2XHQgICAgICAgIFxuICAgNDI3XHQgICAgICAgICMgU29ydCBjaGFubmVscyBhbHBoYWJldGljYWxseSB0byBlbnN1cmUgY29uc2lzdGVudCBkaXNwbGF5XG4gICA0MjhcdCAgICAgICAgc29ydGVkX2NoYW5uZWxzID0gc29ydGVkKGNoYW5uZWxzKVxuICAgNDI5XHQgICAgICAgIFxuICAgNDMwXHQgICAgICAgICMgQ3JlYXRlIGEgY2hlY2tib3ggZm9yIGVhY2ggY2hhbm5lbFxuICAgNDMxXHQgICAgICAgIGZvciBpLCBjaGFubmVsIGluIGVudW1lcmF0ZShzb3J0ZWRfY2hhbm5lbHMpOlxuICAgNDMyXHQgICAgICAgICAgICB2YXIgPSBzZWxmLmNoYW5uZWxfdmFycy5nZXQoY2hhbm5lbCwgY3RrLkJvb2xlYW5WYXIodmFsdWU9RmFsc2UpKVxuICAgNDMzXHQgICAgICAgICAgICBzZWxmLmNoYW5uZWxfdmFyc1tjaGFubmVsXSA9IHZhclxuICAgNDM0XHQgICAgICAgICAgICBcbiAgIDQzNVx0ICAgICAgICAgICAgIyBDcmVhdGUgbW9yZSBjb21wYWN0IGNoZWNrYm94ZXNcbiAgIDQzNlx0ICAgICAgICAgICAgY2hlY2tib3ggPSBjdGsuQ1RrQ2hlY2tCb3goXG4gICA0MzdcdCAgICAgICAgICAgICAgICBzZWxmLmNoYW5uZWxzX2NvbnRhaW5lciwgXG4gICA0MzhcdCAgICAgICAgICAgICAgICB0ZXh0PWNoYW5uZWwsIFxuICAgNDM5XHQgICAgICAgICAgICAgICAgdmFyaWFibGU9dmFyLFxuICAgNDQwXHQgICAgICAgICAgICAgICAgb252YWx1ZT1UcnVlLCBcbiAgIDQ0MVx0ICAgICAgICAgICAgICAgIG9mZnZhbHVlPUZhbHNlLFxuICAgNDQyXHQgICAgICAgICAgICAgICAgaGVpZ2h0PTIwLFxuICAgNDQzXHQgICAgICAgICAgICAgICAgZm9udD1nZXRfZHJvcGRvd25fZm9udCgpLFxuICAgNDQ0XHQgICAgICAgICAgICAgICAgY2hlY2tib3hfd2lkdGg9MTYsXG4gICA0NDVcdCAgICAgICAgICAgICAgICBjaGVja2JveF9oZWlnaHQ9MTZcbiAgIDQ0Nlx0ICAgICAgICAgICAgKVxuICAgNDQ3XHQgICAgICAgICAgICBjaGVja2JveC5ncmlkKHJvdz1pLCBjb2x1bW49MCwgcGFkeD04LCBwYWR5PTMsIHN0aWNreT1cIndcIilcbiAgIDQ0OFx0ICAgICAgICAgICAgXG4gICA0NDlcdCAgICAgICAgICAgICMgQmluZCBtb3VzZSB3aGVlbCBldmVudCB0byBlYWNoIGNoZWNrYm94IGZvciBiZXR0ZXIgc2Nyb2xsaW5nXG4gICA0NTBcdCAgICAgICAgICAgIGNoZWNrYm94LmJpbmQoXCI8TW91c2VXaGVlbD5cIiwgbGFtYmRhIGV2ZW50LCB3PXNlbGYuY2hhbm5lbHNfZnJhbWU6IHNlbGYuX29uX21vdXNlX3doZWVsKGV2ZW50LCB3KSlcbiAgIDQ1MVx0ICAgICAgICAgICAgY2hlY2tib3guYmluZChcIjxCdXR0b24tND5cIiwgbGFtYmRhIGV2ZW50LCB3PXNlbGYuY2hhbm5lbHNfZnJhbWU6IHNlbGYuX29uX21vdXNlX3doZWVsKGV2ZW50LCB3KSlcbiAgIDQ1Mlx0ICAgICAgICAgICAgY2hlY2tib3guYmluZChcIjxCdXR0b24tNT5cIiwgbGFtYmRhIGV2ZW50LCB3PXNlbGYuY2hhbm5lbHNfZnJhbWU6IHNlbGYuX29uX21vdXNlX3doZWVsKGV2ZW50LCB3KSlcbiAgIDQ1M1x0ICAgIFxuICAgNDU0XHQgICAgZGVmIGZpbHRlcl9jaGFubmVscyhzZWxmLCAqYXJncyk6XG4gICA0NTVcdCAgICAgICAgXCJcIlwiRmlsdGVyIGNoYW5uZWxzIGJhc2VkIG9uIHNlYXJjaCB0ZXh0LlwiXCJcIlxuICAgNDU2XHQgICAgICAgIHNlYXJjaF90ZXh0ID0gc2VsZi5zZWFyY2hfdmFyLmdldCgpLmxvd2VyKClcbiAgIDQ1N1x0ICAgICAgICBcbiAgIDQ1OFx0ICAgICAgICBpZiBub3Qgc2VhcmNoX3RleHQ6XG4gICA0NTlcdCAgICAgICAgICAgICMgSWYgc2VhcmNoIGlzIGVtcHR5LCBzaG93IGFsbCBjaGFubmVsc1xuICAgNDYwXHQgICAgICAgICAgICBmaWx0ZXJlZF9jaGFubmVscyA9IHNlbGYuYXZhaWxhYmxlX2NoYW5uZWxzXG4gICA0NjFcdCAgICAgICAgZWxzZTpcbiAgIDQ2Mlx0ICAgICAgICAgICAgIyBGaWx0ZXIgY2hhbm5lbHMgdGhhdCBjb250YWluIHRoZSBzZWFyY2ggdGV4dFxuICAgNDYzXHQgICAgICAgICAgICBmaWx0ZXJlZF9jaGFubmVscyA9IFtjaCBmb3IgY2ggaW4gc2VsZi5hdmFpbGFibGVfY2hhbm5lbHMgaWYgc2VhcmNoX3RleHQgaW4gY2gubG93ZXIoKV1cbiAgIDQ2NFx0ICAgICAgICAgICAgXG4gICA0NjVcdCAgICAgICAgICAgICMgU29ydCB0aGUgZmlsdGVyZWQgY2hhbm5lbHMgYWxwaGFiZXRpY2FsbHlcbiAgIDQ2Nlx0ICAgICAgICAgICAgZmlsdGVyZWRfY2hhbm5lbHMuc29ydCgpXG4gICA0NjdcdCAgICAgICAgXG4gICA0NjhcdCAgICAgICAgIyBVcGRhdGUgdGhlIGRpc3BsYXllZCBjaGFubmVsc1xuICAgNDY5XHQgICAgICAgIHNlbGYuZGlzcGxheV9jaGFubmVscyhmaWx0ZXJlZF9jaGFubmVscylcbiAgIDQ3MFx0ICAgIFxuICAgNDcxXHQgICAgZGVmIGJpbmRfbW91c2Vfd2hlZWwoc2VsZiwgd2lkZ2V0KTpcbiAgIDQ3Mlx0ICAgICAgICBcIlwiXCJcbiAgIDQ3M1x0ICAgICAgICBCaW5kIG1vdXNlIHdoZWVsIGV2ZW50cyB0byB0aGUgd2lkZ2V0IGZvciBzY3JvbGxpbmcuXG4gICA0NzRcdCAgICAgICAgXG4gICA0NzVcdCAgICAgICAgQXJnczpcbiAgIDQ3Nlx0ICAgICAgICAgICAgd2lkZ2V0OiBUaGUgd2lkZ2V0IHRvIGJpbmQgbW91c2Ugd2hlZWwgZXZlbnRzIHRvXG4gICA0NzdcdCAgICAgICAgXCJcIlwiXG4gICA0NzhcdCAgICAgICAgIyBCaW5kIGZvciBXaW5kb3dzIGFuZCBMaW51eCAod2l0aCBtb3VzZSB3aGVlbClcbiAgIDQ3OVx0ICAgICAgICB3aWRnZXQuYmluZF9hbGwoXCI8TW91c2VXaGVlbD5cIiwgbGFtYmRhIGV2ZW50OiBzZWxmLl9vbl9tb3VzZV93aGVlbChldmVudCwgd2lkZ2V0KSlcbiAgIDQ4MFx0ICAgICAgICAjIEJpbmQgZm9yIExpbnV4ICh3aXRoIHRvdWNocGFkKVxuICAgNDgxXHQgICAgICAgIHdpZGdldC5iaW5kX2FsbChcIjxCdXR0b24tND5cIiwgbGFtYmRhIGV2ZW50OiBzZWxmLl9vbl9tb3VzZV93aGVlbChldmVudCwgd2lkZ2V0KSlcbiAgIDQ4Mlx0ICAgICAgICB3aWRnZXQuYmluZF9hbGwoXCI8QnV0dG9uLTU+XCIsIGxhbWJkYSBldmVudDogc2VsZi5fb25fbW91c2Vfd2hlZWwoZXZlbnQsIHdpZGdldCkpXG4gICA0ODNcdCAgICBcbiAgIDQ4NFx0ICAgIGRlZiBfb25fbW91c2Vfd2hlZWwoc2VsZiwgZXZlbnQsIHdpZGdldCk6XG4gICA0ODVcdCAgICAgICAgXCJcIlwiXG4gICA0ODZcdCAgICAgICAgSGFuZGxlIG1vdXNlIHdoZWVsIGV2ZW50cyBmb3Igc2Nyb2xsaW5nLlxuICAgNDg3XHQgICAgICAgIFxuICAgNDg4XHQgICAgICAgIEFyZ3M6XG4gICA0ODlcdCAgICAgICAgICAgIGV2ZW50OiBUaGUgbW91c2Ugd2hlZWwgZXZlbnRcbiAgIDQ5MFx0ICAgICAgICAgICAgd2lkZ2V0OiBUaGUgd2lkZ2V0IHRvIHNjcm9sbFxuICAgNDkxXHQgICAgICAgIFwiXCJcIlxuICAgNDkyXHQgICAgICAgICMgR2V0IHRoZSB3aWRnZXQgdW5kZXIgdGhlIGN1cnNvclxuICAgNDkzXHQgICAgICAgIHgsIHkgPSBldmVudC54X3Jvb3QsIGV2ZW50Lnlfcm9vdFxuICAgNDk0XHQgICAgICAgIHRhcmdldF93aWRnZXQgPSBldmVudC53aWRnZXQud2luZm9fY29udGFpbmluZyh4LCB5KVxuICAgNDk1XHQgICAgICAgIFxuICAgNDk2XHQgICAgICAgICMgQ2hlY2sgaWYgdGhlIGN1cnNvciBpcyBvdmVyIG91ciBzY3JvbGxhYmxlIGZyYW1lIG9yIGl0cyBjaGlsZHJlblxuICAgNDk3XHQgICAgICAgIHBhcmVudCA9IHRhcmdldF93aWRnZXRcbiAgIDQ5OFx0ICAgICAgICB3aGlsZSBwYXJlbnQgaXMgbm90IE5vbmU6XG4gICA0OTlcdCAgICAgICAgICAgIGlmIHBhcmVudCA9PSB3aWRnZXQgb3IgcGFyZW50ID09IHNlbGYuY2hhbm5lbHNfY29udGFpbmVyOlxuICAgNTAwXHQgICAgICAgICAgICAgICAgYnJlYWtcbiAgIDUwMVx0ICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50Lm1hc3RlclxuICAgNTAyXHQgICAgICAgIFxuICAgNTAzXHQgICAgICAgICMgSWYgY3Vyc29yIGlzIG5vdCBvdmVyIG91ciBzY3JvbGxhYmxlIGFyZWEsIGRvbid0IHNjcm9sbFxuICAgNTA0XHQgICAgICAgIGlmIHBhcmVudCBpcyBOb25lOlxuICAgNTA1XHQgICAgICAgICAgICByZXR1cm5cbiAgIDUwNlx0ICAgICAgICBcbiAgIDUwN1x0ICAgICAgICAjIEhhbmRsZSBkaWZmZXJlbnQgZXZlbnQgdHlwZXNcbiAgIDUwOFx0ICAgICAgICBpZiBldmVudC5udW0gPT0gNCBvciBldmVudC5kZWx0YSA+IDA6ICAjIFNjcm9sbCB1cFxuICAgNTA5XHQgICAgICAgICAgICB3aWRnZXQuX3BhcmVudF9jYW52YXMueXZpZXdfc2Nyb2xsKC0xLCBcInVuaXRzXCIpXG4gICA1MTBcdCAgICAgICAgZWxpZiBldmVudC5udW0gPT0gNSBvciBldmVudC5kZWx0YSA8IDA6ICAjIFNjcm9sbCBkb3duXG4gICA1MTFcdCAgICAgICAgICAgIHdpZGdldC5fcGFyZW50X2NhbnZhcy55dmlld19zY3JvbGwoMSwgXCJ1bml0c1wiKVxuICAgNTEyXHQgICAgXG4gICA1MTNcdCAgICBkZWYgY2xlYXJfY2hhbm5lbHMoc2VsZik6XG4gICA1MTRcdCAgICAgICAgXCJcIlwiQ2xlYXIgYWxsIGNoYW5uZWwgY2hlY2tib3hlcyBhbmQgcmVsYXRlZCB3aWRnZXRzLlwiXCJcIlxuICAgNTE1XHQgICAgICAgIGZvciB3aWRnZXQgaW4gc2VsZi5jaGFubmVsc19mcmFtZS53aW5mb19jaGlsZHJlbigpOlxuICAgNTE2XHQgICAgICAgICAgICB3aWRnZXQuZGVzdHJveSgpXG4gICA1MTdcdCAgICAgICAgXG4gICA1MThcdCAgICAgICAgc2VsZi5jaGFubmVsX3ZhcnMgPSB7fVxuICAgNTE5XHQgICAgICAgIHNlbGYuYXZhaWxhYmxlX2NoYW5uZWxzID0gW11cbiAgIDUyMFx0ICAgIFxuICAgNTIxXHQgICAgZGVmIGNsZWFyX21ldHJpY3Moc2VsZik6XG4gICA1MjJcdCAgICAgICAgXCJcIlwiQ2xlYXIgdGhlIG1ldHJpY3MgZHJvcGRvd24uXCJcIlwiXG4gICA1MjNcdCAgICAgICAgc2VsZi5tZXRyaWNfZHJvcGRvd24uY29uZmlndXJlKHZhbHVlcz1bXSlcbiAgIDUyNFx0ICAgICAgICBzZWxmLm1ldHJpY192YXIuc2V0KFwiXCIpXG4gICA1MjVcdCAgICAgICAgc2VsZi5jdXJyZW50X21ldHJpYyA9IE5vbmVcbiAgIDUyNlx0ICAgIFxuICAgNTI3XHQgICAgZGVmIHNlbGVjdF9hbGxfY2hhbm5lbHMoc2VsZik6XG4gICA1MjhcdCAgICAgICAgXCJcIlwiU2VsZWN0IGFsbCBjaGFubmVsIGNoZWNrYm94ZXMuXCJcIlwiXG4gICA1MjlcdCAgICAgICAgZm9yIHZhciBpbiBzZWxmLmNoYW5uZWxfdmFycy52YWx1ZXMoKTpcbiAgIDUzMFx0ICAgICAgICAgICAgdmFyLnNldChUcnVlKVxuICAgNTMxXHQgICAgXG4gICA1MzJcdCAgICBkZWYgZGVzZWxlY3RfYWxsX2NoYW5uZWxzKHNlbGYpOlxuICAgNTMzXHQgICAgICAgIFwiXCJcIkRlc2VsZWN0IGFsbCBjaGFubmVsIGNoZWNrYm94ZXMuXCJcIlwiXG4gICA1MzRcdCAgICAgICAgZm9yIHZhciBpbiBzZWxmLmNoYW5uZWxfdmFycy52YWx1ZXMoKTpcbiAgIDUzNVx0ICAgICAgICAgICAgdmFyLnNldChGYWxzZSlcbiAgIDUzNlx0ICAgIFxuICAgNTM3XHQgICAgZGVmIHNlbGVjdF9jb21tb25fY2hhbm5lbHMoc2VsZik6XG4gICA1MzhcdCAgICAgICAgXCJcIlwiU2VsZWN0IGNvbW1vbiBFRUcgY2hhbm5lbHMgKDEwLTIwIHN5c3RlbSkuXCJcIlwiXG4gICA1MzlcdCAgICAgICAgIyBGaXJzdCBkZXNlbGVjdCBhbGxcbiAgIDU0MFx0ICAgICAgICBzZWxmLmRlc2VsZWN0X2FsbF9jaGFubmVscygpXG4gICA1NDFcdCAgICAgICAgXG4gICA1NDJcdCAgICAgICAgIyBTZWxlY3QgdGhlIGNoYW5uZWxzIGlmIHRoZXkgZXhpc3QgaW4gb3VyIGF2YWlsYWJsZSBjaGFubmVsc1xuICAgNTQzXHQgICAgICAgIGZvciBjaGFubmVsIGluIENPTU1PTl9DSEFOTkVMUzpcbiAgIDU0NFx0ICAgICAgICAgICAgaWYgY2hhbm5lbCBpbiBzZWxmLmNoYW5uZWxfdmFyczpcbiAgIDU0NVx0ICAgICAgICAgICAgICAgIHNlbGYuY2hhbm5lbF92YXJzW2NoYW5uZWxdLnNldChUcnVlKVxuICAgNTQ2XHQgICAgICAgICAgICAjIFRyeSBhbHRlcm5hdGl2ZSBuYW1lIGlmIHRoZSBjaGFubmVsIGRvZXNuJ3QgZXhpc3RcbiAgIDU0N1x0ICAgICAgICAgICAgZWxpZiBjaGFubmVsIGluIEFMVEVSTkFUSVZFX0NIQU5ORUxfTkFNRVMgYW5kIEFMVEVSTkFUSVZFX0NIQU5ORUxfTkFNRVNbY2hhbm5lbF0gaW4gc2VsZi5jaGFubmVsX3ZhcnM6XG4gICA1NDhcdCAgICAgICAgICAgICAgICBzZWxmLmNoYW5uZWxfdmFyc1tBTFRFUk5BVElWRV9DSEFOTkVMX05BTUVTW2NoYW5uZWxdXS5zZXQoVHJ1ZSlcbiAgIDU0OVx0ICAgICAgICBcbiAgIDU1MFx0ICAgICAgICAjIElmIHdlIGhhdmUgYSBzZWFyY2ggZmlsdGVyIGFjdGl2ZSwgdXBkYXRlIHRoZSBkaXNwbGF5XG4gICA1NTFcdCAgICAgICAgaWYgaGFzYXR0cihzZWxmLCAnc2VhcmNoX3ZhcicpOlxuICAgNTUyXHQgICAgICAgICAgICBzZWxmLmZpbHRlcl9jaGFubmVscygpXG4gICA1NTNcdCAgICBcbiAgIDU1NFx0ICAgIGRlZiByZXNldF90aW1lX3dpbmRvdyhzZWxmKTpcbiAgIDU1NVx0ICAgICAgICBcIlwiXCJSZXNldCB0aGUgdGltZSB3aW5kb3cgdG8gc2hvdyBhbGwgZGF0YS5cIlwiXCJcbiAgIDU1Nlx0ICAgICAgICBzZWxmLnN0YXJ0X3RpbWVfdmFyLnNldChcIjBcIilcbiAgIDU1N1x0ICAgICAgICBzZWxmLmVuZF90aW1lX3Zhci5zZXQoXCJcIilcbiAgIDU1OFx0ICAgICAgICBzZWxmLnVwZGF0ZV9wbG90KClcbiAgIDU1OVx0ICAgIFxuICAgNTYwXHQgICAgZGVmIHVwZGF0ZV9wbG90KHNlbGYpOlxuICAgNTYxXHQgICAgICAgIFwiXCJcIlVwZGF0ZSB0aGUgcGxvdCB3aXRoIHRoZSBzZWxlY3RlZCBtZXRyaWMgYW5kIGNoYW5uZWxzLlwiXCJcIlxuICAgNTYyXHQgICAgICAgIGlmIG5vdCBoYXNhdHRyKHNlbGYsICdjdXJyZW50X2V4cGVyaW1lbnRfaWQnKSBvciBub3QgaGFzYXR0cihzZWxmLCAnY3VycmVudF9lZWdfaWQnKSBvciBub3Qgc2VsZi5jdXJyZW50X21ldHJpYzpcbiAgIDU2M1x0ICAgICAgICAgICAgcmV0dXJuXG4gICA1NjRcdCAgICAgICAgXG4gICA1NjVcdCAgICAgICAgIyBHZXQgc2VsZWN0ZWQgY2hhbm5lbHNcbiAgIDU2Nlx0ICAgICAgICBzZWxlY3RlZF9jaGFubmVscyA9IFtjaGFubmVsIGZvciBjaGFubmVsLCB2YXIgaW4gc2VsZi5jaGFubmVsX3ZhcnMuaXRlbXMoKSBpZiB2YXIuZ2V0KCldXG4gICA1NjdcdCAgICAgICAgXG4gICA1NjhcdCAgICAgICAgIyBHZXQgc2VsZWN0ZWQgYWdncmVnYXRpb24gbWV0aG9kc1xuICAgNTY5XHQgICAgICAgIHNlbGVjdGVkX2FnZ3JlZ2F0aW9ucyA9IFthZ2cgZm9yIGFnZywgdmFyIGluIHNlbGYuYWdncmVnYXRpb25fdmFycy5pdGVtcygpIGlmIHZhci5nZXQoKV1cbiAgIDU3MFx0ICAgICAgICBcbiAgIDU3MVx0ICAgICAgICAjIENoZWNrIGlmIHdlIHNob3VsZCBzaG93IG9ubHkgYWdncmVnYXRpb25zXG4gICA1NzJcdCAgICAgICAgYWdncmVnYXRpb25fb25seSA9IHNlbGYuYWdncmVnYXRpb25fb25seV92YXIuZ2V0KClcbiAgIDU3M1x0ICAgICAgICBcbiAgIDU3NFx0ICAgICAgICAjIENoZWNrIGlmIHdlIGhhdmUgdmFsaWQgc2VsZWN0aW9uc1xuICAgNTc1XHQgICAgICAgIGlmIChub3Qgc2VsZWN0ZWRfY2hhbm5lbHMgYW5kIG5vdCBzZWxlY3RlZF9hZ2dyZWdhdGlvbnMpIG9yIFxcXG4gICA1NzZcdCAgICAgICAgICAgKGFnZ3JlZ2F0aW9uX29ubHkgYW5kIG5vdCBzZWxlY3RlZF9hZ2dyZWdhdGlvbnMpOlxuICAgNTc3XHQgICAgICAgICAgICBzZWxmLnBsb3RfZnJhbWUudXBkYXRlX3Bsb3QoTm9uZSwgTm9uZSwgTm9uZSwgXCJObyBjaGFubmVscyBvciBhZ2dyZWdhdGlvbnMgc2VsZWN0ZWRcIilcbiAgIDU3OFx0ICAgICAgICAgICAgcmV0dXJuXG4gICA1NzlcdCAgICAgICAgXG4gICA1ODBcdCAgICAgICAgIyBHZXQgZGF0YSBmb3IgdGhlIHNlbGVjdGVkIGV4cGVyaW1lbnQgYW5kIEVFR1xuICAgNTgxXHQgICAgICAgIGRmID0gc2VsZi5kYl9oYW5kbGVyLmdldF9tZXRyaWNzX2RhdGEoc2VsZi5jdXJyZW50X2V4cGVyaW1lbnRfaWQsIHNlbGYuY3VycmVudF9lZWdfaWQpXG4gICA1ODJcdCAgICAgICAgXG4gICA1ODNcdCAgICAgICAgaWYgZGYuZW1wdHk6XG4gICA1ODRcdCAgICAgICAgICAgIHNlbGYucGxvdF9mcmFtZS51cGRhdGVfcGxvdChOb25lLCBOb25lLCBOb25lLCBcIk5vIGRhdGEgYXZhaWxhYmxlXCIpXG4gICA1ODVcdCAgICAgICAgICAgIHJldHVyblxuICAgNTg2XHQgICAgICAgIFxuICAgNTg3XHQgICAgICAgICMgR2V0IHRpbWUgd2luZG93IHZhbHVlc1xuICAgNTg4XHQgICAgICAgIHRyeTpcbiAgIDU4OVx0ICAgICAgICAgICAgc3RhcnRfdGltZSA9IGZsb2F0KHNlbGYuc3RhcnRfdGltZV92YXIuZ2V0KCkpIGlmIHNlbGYuc3RhcnRfdGltZV92YXIuZ2V0KCkgZWxzZSBOb25lXG4gICA1OTBcdCAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6XG4gICA1OTFcdCAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBOb25lXG4gICA1OTJcdCAgICAgICAgICAgIHNlbGYuc3RhcnRfdGltZV92YXIuc2V0KFwiMFwiKVxuICAgNTkzXHQgICAgICAgIFxuICAgNTk0XHQgICAgICAgIHRyeTpcbiAgIDU5NVx0ICAgICAgICAgICAgZW5kX3RpbWUgPSBmbG9hdChzZWxmLmVuZF90aW1lX3Zhci5nZXQoKSkgaWYgc2VsZi5lbmRfdGltZV92YXIuZ2V0KCkgZWxzZSBOb25lXG4gICA1OTZcdCAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6XG4gICA1OTdcdCAgICAgICAgICAgIGVuZF90aW1lID0gTm9uZVxuICAgNTk4XHQgICAgICAgICAgICBzZWxmLmVuZF90aW1lX3Zhci5zZXQoXCJcIilcbiAgIDU5OVx0ICAgICAgICBcbiAgIDYwMFx0ICAgICAgICAjIFVwZGF0ZSB0aGUgcGxvdFxuICAgNjAxXHQgICAgICAgIGV4cGVyaW1lbnRfbmFtZSA9IG5leHQoKGV4cFsnbmFtZSddIGZvciBleHAgaW4gc2VsZi5leHBlcmltZW50cyBpZiBleHBbJ2lkJ10gPT0gc2VsZi5jdXJyZW50X2V4cGVyaW1lbnRfaWQpLCBcIlwiKVxuICAgNjAyXHQgICAgICAgIGVlZ19uYW1lID0gbmV4dCgoZWVnWydmaWxlbmFtZSddIGZvciBlZWcgaW4gc2VsZi5lZWdzIGlmIGVlZ1snaWQnXSA9PSBzZWxmLmN1cnJlbnRfZWVnX2lkKSwgXCJcIilcbiAgIDYwM1x0ICAgICAgICBcbiAgIDYwNFx0ICAgICAgICB0aXRsZSA9IGZcIntzZWxmLmN1cnJlbnRfbWV0cmljfSBmb3Ige2V4cGVyaW1lbnRfbmFtZX0gLSB7ZWVnX25hbWV9XCJcbiAgIDYwNVx0ICAgICAgICBcbiAgIDYwNlx0ICAgICAgICAjIEFkZCBhZ2dyZWdhdGlvbi1vbmx5IGluZm8gdG8gdGl0bGUgaWYgc3BlY2lmaWVkXG4gICA2MDdcdCAgICAgICAgaWYgYWdncmVnYXRpb25fb25seSBhbmQgc2VsZWN0ZWRfYWdncmVnYXRpb25zOlxuICAgNjA4XHQgICAgICAgICAgICB0aXRsZSArPSBcIiAoQWdncmVnYXRpb24gT25seSlcIlxuICAgNjA5XHQgICAgICAgIFxuICAgNjEwXHQgICAgICAgICMgQWRkIHRpbWUgd2luZG93IGluZm8gdG8gdGl0bGUgaWYgc3BlY2lmaWVkXG4gICA2MTFcdCAgICAgICAgaWYgc3RhcnRfdGltZSBpcyBub3QgTm9uZSBhbmQgZW5kX3RpbWUgaXMgbm90IE5vbmU6XG4gICA2MTJcdCAgICAgICAgICAgIHRpdGxlICs9IGZcIiAoVGltZToge3N0YXJ0X3RpbWV9cyB0byB7ZW5kX3RpbWV9cylcIlxuICAgNjEzXHQgICAgICAgIGVsaWYgc3RhcnRfdGltZSBpcyBub3QgTm9uZTpcbiAgIDYxNFx0ICAgICAgICAgICAgdGl0bGUgKz0gZlwiIChUaW1lOiB7c3RhcnRfdGltZX1zKylcIlxuICAgNjE1XHQgICAgICAgIFxuICAgNjE2XHQgICAgICAgIHNlbGYucGxvdF9mcmFtZS51cGRhdGVfcGxvdChcbiAgIDYxN1x0ICAgICAgICAgICAgZGYsIFxuICAgNjE4XHQgICAgICAgICAgICBzZWxmLmN1cnJlbnRfbWV0cmljLCBcbiAgIDYxOVx0ICAgICAgICAgICAgc2VsZWN0ZWRfY2hhbm5lbHMsIFxuICAgNjIwXHQgICAgICAgICAgICB0aXRsZSwgXG4gICA2MjFcdCAgICAgICAgICAgIHRpbWVfd2luZG93PShzdGFydF90aW1lLCBlbmRfdGltZSksXG4gICA2MjJcdCAgICAgICAgICAgIGFnZ3JlZ2F0aW9ucz1zZWxlY3RlZF9hZ2dyZWdhdGlvbnMsXG4gICA2MjNcdCAgICAgICAgICAgIGFnZ3JlZ2F0aW9uX29ubHk9YWdncmVnYXRpb25fb25seVxuICAgNjI0XHQgICAgICAgIClcbiAgIDYyNVx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA2MjVcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImJiOGFmOTJkLTAxNTAtNDczMC04YWI3LTgyNGFiZmFhMzM0ODt0b29sdV92cnR4XzAxV1ZFbWUybUdVNmE0RncxcHp0RXdVTSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIGd1aS9tZXRyaWNzX3ZpZXdlci91dGlscy5weTpcbiAgICAgMVx0XCJcIlwiXG4gICAgIDJcdFV0aWxpdHkgZnVuY3Rpb25zIGFuZCBjb25zdGFudHMgZm9yIHRoZSBFRUcgTWV0cmljcyBWaWV3ZXIuXG4gICAgIDNcdFwiXCJcIlxuICAgICA0XHRcbiAgICAgNVx0ZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIExpc3QsIFR1cGxlXG4gICAgIDZcdGltcG9ydCBjdXN0b210a2ludGVyIGFzIGN0a1xuICAgICA3XHRcbiAgICAgOFx0IyBDb21tb24gbWV0YWRhdGEgY29sdW1ucyB0aGF0IGFyZSBub3QgRUVHIGNoYW5uZWxzXG4gICAgIDlcdE1FVEFEQVRBX0NPTFVNTlMgPSBbJ2VlZ19pZCcsICdsYWJlbCcsICdzdGFydERhdGFSZWNvcmQnLCAnZHVyYXRpb24nLCAnbWV0cmljJ11cbiAgICAxMFx0XG4gICAgMTFcdCMgQWdncmVnYXRpb24gY29sb3JzIGFuZCBzdHlsZXNcbiAgICAxMlx0QUdHUkVHQVRJT05fQ09MT1JTOiBEaWN0W3N0ciwgc3RyXSA9IHtcbiAgICAxM1x0ICAgICdtZWFuJzogJ3JlZCcsXG4gICAgMTRcdCAgICAnc3RkJzogJ3B1cnBsZScsXG4gICAgMTVcdCAgICAnbWVkaWFuJzogJ2dyZWVuJ1xuICAgIDE2XHR9XG4gICAgMTdcdFxuICAgIDE4XHRBR0dSRUdBVElPTl9TVFlMRVM6IERpY3Rbc3RyLCBzdHJdID0ge1xuICAgIDE5XHQgICAgJ21lYW4nOiAnLScsXG4gICAgMjBcdCAgICAnc3RkJzogJy0tJyxcbiAgICAyMVx0ICAgICdtZWRpYW4nOiAnLS4nXG4gICAgMjJcdH1cbiAgICAyM1x0XG4gICAgMjRcdCMgQ29tbW9uIDEwLTIwIHN5c3RlbSBjaGFubmVscyAoaW4gYWxwaGFiZXRpY2FsIG9yZGVyKVxuICAgIDI1XHRDT01NT05fQ0hBTk5FTFM6IExpc3Rbc3RyXSA9IFtcbiAgICAyNlx0ICAgICdDMycsICdDNCcsICdDeicsICdGMycsICdGNCcsICdGNycsICdGOCcsICdGcDEnLCAnRnAyJywgJ0Z6JyxcbiAgICAyN1x0ICAgICdPMScsICdPMicsICdQMycsICdQNCcsICdQNycsICdQOCcsICdQeicsICdUMycsICdUNCcsICdUNScsICdUNicsICdUNycsICdUOCdcbiAgICAyOFx0XVxuICAgIDI5XHRcbiAgICAzMFx0IyBNYXAgb2YgYWx0ZXJuYXRpdmUgY2hhbm5lbCBuYW1lcyAob2xkIC0+IG5ldyBhbmQgbmV3IC0+IG9sZClcbiAgICAzMVx0QUxURVJOQVRJVkVfQ0hBTk5FTF9OQU1FUzogRGljdFtzdHIsIHN0cl0gPSB7XG4gICAgMzJcdCAgICAnVDMnOiAnVDcnLCAnVDQnOiAnVDgnLCAnVDUnOiAnUDcnLCAnVDYnOiAnUDgnLFxuICAgIDMzXHQgICAgJ1Q3JzogJ1QzJywgJ1Q4JzogJ1Q0JywgJ1A3JzogJ1Q1JywgJ1A4JzogJ1Q2J1xuICAgIDM0XHR9XG4gICAgMzVcdFxuICAgIDM2XHQjIEZvbnQgY29uZmlndXJhdGlvbnNcbiAgICAzN1x0ZGVmIGdldF9sYWJlbF9mb250KCkgLT4gY3RrLkNUa0ZvbnQ6XG4gICAgMzhcdCAgICBcIlwiXCJSZXR1cm4gYSBmb250IGZvciBsYWJlbHMuXCJcIlwiXG4gICAgMzlcdCAgICByZXR1cm4gY3RrLkNUa0ZvbnQoc2l6ZT0xMilcbiAgICA0MFx0XG4gICAgNDFcdGRlZiBnZXRfZHJvcGRvd25fZm9udCgpIC0+IGN0ay5DVGtGb250OlxuICAgIDQyXHQgICAgXCJcIlwiUmV0dXJuIGEgZm9udCBmb3IgZHJvcGRvd25zIGFuZCBzbWFsbGVyIHRleHQuXCJcIlwiXG4gICAgNDNcdCAgICByZXR1cm4gY3RrLkNUa0ZvbnQoc2l6ZT0xMSlcbiAgICA0NFx0XG4gICAgNDVcdGRlZiBnZXRfYnV0dG9uX2ZvbnQoKSAtPiBjdGsuQ1RrRm9udDpcbiAgICA0Nlx0ICAgIFwiXCJcIlJldHVybiBhIGZvbnQgZm9yIGJ1dHRvbnMuXCJcIlwiXG4gICAgNDdcdCAgICByZXR1cm4gY3RrLkNUa0ZvbnQoc2l6ZT0xNCwgd2VpZ2h0PVwiYm9sZFwiKVxuICAgIDQ4XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDQ4XG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI1Y2VlZWFiNy1iMGU5LTRkZDctYjYxZS1mZGM4ZWY4MmVlOWE7dG9vbHVfdnJ0eF8wMUM4YTREclZ2VHFaNGNwNnFOcnJQd24iOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBndWkvcnVuX21ldHJpY3Nfdmlld2VyLnB5OlxuICAgICAxXHQjIS91c3IvYmluL2VudiBweXRob24zXG4gICAgIDJcdFwiXCJcIlxuICAgICAzXHRSdW4gc2NyaXB0IGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuICAgICA0XHRcbiAgICAgNVx0VGhpcyBzY3JpcHQgcHJvdmlkZXMgYSBzaW1wbGUgd2F5IHRvIGxhdW5jaCB0aGUgRUVHIE1ldHJpY3MgVmlld2VyIGFwcGxpY2F0aW9uXG4gICAgIDZcdHdpdGggYSBzcGVjaWZpZWQgZGF0YWJhc2UgcGF0aC5cbiAgICAgN1x0XG4gICAgIDhcdFVzYWdlOlxuICAgICA5XHQgICAgcHl0aG9uIHJ1bl9tZXRyaWNzX3ZpZXdlci5weSBbcGF0aF90b19kYXRhYmFzZV1cbiAgICAxMFx0XG4gICAgMTFcdElmIG5vIGRhdGFiYXNlIHBhdGggaXMgcHJvdmlkZWQsIHRoZSBzY3JpcHQgd2lsbCBsb29rIGZvciB0aGUgZGVmYXVsdCBkYXRhYmFzZVxuICAgIDEyXHRhdCBcIi4uL2V4YW1wbGUvRUVHQW5hbHl6ZXIuc3FsaXRlXCIuXG4gICAgMTNcdFwiXCJcIlxuICAgIDE0XHRcbiAgICAxNVx0aW1wb3J0IG9zXG4gICAgMTZcdGltcG9ydCBzeXNcbiAgICAxN1x0aW1wb3J0IGltcG9ydGxpYi51dGlsXG4gICAgMThcdFxuICAgIDE5XHRkZWYgY2hlY2tfZGVwZW5kZW5jaWVzKCk6XG4gICAgMjBcdCAgICBcIlwiXCJDaGVjayBpZiBhbGwgcmVxdWlyZWQgZGVwZW5kZW5jaWVzIGFyZSBpbnN0YWxsZWQuXCJcIlwiXG4gICAgMjFcdCAgICByZXF1aXJlZF9wYWNrYWdlcyA9IFtcImN1c3RvbXRraW50ZXJcIiwgXCJtYXRwbG90bGliXCIsIFwibnVtcHlcIiwgXCJwYW5kYXNcIiwgXCJzcWxhbGNoZW15XCJdXG4gICAgMjJcdCAgICBtaXNzaW5nX3BhY2thZ2VzID0gW11cbiAgICAyM1x0XG4gICAgMjRcdCAgICBmb3IgcGFja2FnZSBpbiByZXF1aXJlZF9wYWNrYWdlczpcbiAgICAyNVx0ICAgICAgICBpZiBpbXBvcnRsaWIudXRpbC5maW5kX3NwZWMocGFja2FnZSkgaXMgTm9uZTpcbiAgICAyNlx0ICAgICAgICAgICAgbWlzc2luZ19wYWNrYWdlcy5hcHBlbmQocGFja2FnZSlcbiAgICAyN1x0XG4gICAgMjhcdCAgICBpZiBtaXNzaW5nX3BhY2thZ2VzOlxuICAgIDI5XHQgICAgICAgIHByaW50KFwiVGhlIGZvbGxvd2luZyByZXF1aXJlZCBwYWNrYWdlcyBhcmUgbWlzc2luZzpcIilcbiAgICAzMFx0ICAgICAgICBmb3IgcGFja2FnZSBpbiBtaXNzaW5nX3BhY2thZ2VzOlxuICAgIDMxXHQgICAgICAgICAgICBwcmludChmXCIgIC0ge3BhY2thZ2V9XCIpXG4gICAgMzJcdCAgICAgICAgcHJpbnQoXCJcXG5QbGVhc2UgaW5zdGFsbCB0aGVtIHVzaW5nOlwiKVxuICAgIDMzXHQgICAgICAgIHByaW50KFwiICBweXRob24gaW5zdGFsbF9kZXBlbmRlbmNpZXMucHlcIilcbiAgICAzNFx0ICAgICAgICBwcmludChcIm9yXCIpXG4gICAgMzVcdCAgICAgICAgcHJpbnQoZlwiICBwaXAgaW5zdGFsbCB7JyAnLmpvaW4obWlzc2luZ19wYWNrYWdlcyl9XCIpXG4gICAgMzZcdCAgICAgICAgcmV0dXJuIEZhbHNlXG4gICAgMzdcdFxuICAgIDM4XHQgICAgcmV0dXJuIFRydWVcbiAgICAzOVx0XG4gICAgNDBcdGRlZiBtYWluKCk6XG4gICAgNDFcdCAgICBcIlwiXCJSdW4gdGhlIEVFRyBNZXRyaWNzIFZpZXdlciBhcHBsaWNhdGlvbi5cIlwiXCJcbiAgICA0Mlx0ICAgICMgQ2hlY2sgZGVwZW5kZW5jaWVzIGZpcnN0XG4gICAgNDNcdCAgICBpZiBub3QgY2hlY2tfZGVwZW5kZW5jaWVzKCk6XG4gICAgNDRcdCAgICAgICAgc3lzLmV4aXQoMSlcbiAgICA0NVx0XG4gICAgNDZcdCAgICAjIEltcG9ydCBBcHAgb25seSBhZnRlciBjaGVja2luZyBkZXBlbmRlbmNpZXNcbiAgICA0N1x0ICAgIGZyb20gbWV0cmljc192aWV3ZXIgaW1wb3J0IEFwcFxuICAgIDQ4XHRcbiAgICA0OVx0ICAgICMgQ2hlY2sgaWYgYSBkYXRhYmFzZSBwYXRoIGlzIHByb3ZpZGVkIGFzIGEgY29tbWFuZC1saW5lIGFyZ3VtZW50XG4gICAgNTBcdCAgICBpZiBsZW4oc3lzLmFyZ3YpID4gMTpcbiAgICA1MVx0ICAgICAgICBkYl9wYXRoID0gc3lzLmFyZ3ZbMV1cbiAgICA1Mlx0ICAgIGVsc2U6XG4gICAgNTNcdCAgICAgICAgIyBEZWZhdWx0IGRhdGFiYXNlIHBhdGhcbiAgICA1NFx0ICAgICAgICBkYl9wYXRoID0gb3MucGF0aC5qb2luKG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmRpcm5hbWUob3MucGF0aC5hYnNwYXRoKF9fZmlsZV9fKSkpLFxuICAgIDU1XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImV4YW1wbGVcIiwgXCJFRUdBbmFseXplci5zcWxpdGVcIilcbiAgICA1Nlx0XG4gICAgNTdcdCAgICAjIEVuc3VyZSB0aGUgZGF0YWJhc2UgZmlsZSBleGlzdHNcbiAgICA1OFx0ICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhkYl9wYXRoKTpcbiAgICA1OVx0ICAgICAgICBwcmludChmXCJFcnJvcjogRGF0YWJhc2UgZmlsZSBub3QgZm91bmQgYXQge2RiX3BhdGh9XCIpXG4gICAgNjBcdCAgICAgICAgcHJpbnQoXCJQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIHBhdGggdG8gdGhlIEVFR0FuYWx5emVyLnNxbGl0ZSBkYXRhYmFzZS5cIilcbiAgICA2MVx0ICAgICAgICBzeXMuZXhpdCgxKVxuICAgIDYyXHRcbiAgICA2M1x0ICAgIHByaW50KGZcIlN0YXJ0aW5nIEVFRyBNZXRyaWNzIFZpZXdlciB3aXRoIGRhdGFiYXNlOiB7ZGJfcGF0aH1cIilcbiAgICA2NFx0XG4gICAgNjVcdCAgICAjIFN0YXJ0IHRoZSBhcHBsaWNhdGlvblxuICAgIDY2XHQgICAgYXBwID0gQXBwKGRiX3BhdGgpXG4gICAgNjdcdCAgICBhcHAubWFpbmxvb3AoKVxuICAgIDY4XHRcbiAgICA2OVx0aWYgX19uYW1lX18gPT0gXCJfX21haW5fX1wiOlxuICAgIDcwXHQgICAgbWFpbigpXG4gICAgNzFcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogNzFcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImRlMWNhM2Y4LTIzNzMtNDE4Mi04NjE3LTA5NzYwZTc2MjVhYjt0b29sdV92cnR4XzAxOHlHdkV5WGFta3ZRQnl5N3hTb3lBMyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBndWkvbWV0cmljc192aWV3ZXIvYXBwLnB5XG5cIlwiXCJcbk1haW4gYXBwbGljYXRpb24gY2xhc3MgZm9yIHRoZSBFRUcgTWV0cmljcyBWaWV3ZXIuXG5cIlwiXCJcblxuaW1wb3J0IG9zXG5pbXBvcnQgc3lzXG5pbXBvcnQgY3VzdG9tdGtpbnRlciBhcyBjdGtcblxuZnJvbSAuZGF0YWJhc2VfaGFuZGxlciBpbXBvcnQgRGF0YWJhc2VIYW5kbGVyXG5mcm9tIC5wbG90X2ZyYW1lIGltcG9ydCBNZXRyaWNzUGxvdEZyYW1lXG5mcm9tIC5zZWxlY3Rpb25fZnJhbWUgaW1wb3J0IFNlbGVjdGlvbkZyYW1lXG5cblxuY2xhc3MgQXBwKGN0ay5DVGspOlxuICAgIFwiXCJcIlxuICAgIE1haW4gYXBwbGljYXRpb24gY2xhc3MgZm9yIHRoZSBFRUcgTWV0cmljcyBWaWV3ZXIuXG4gICAgXCJcIlwiXG4gICAgXG4gICAgZGVmIF9faW5pdF9fKHNlbGYsIGRiX3BhdGg6IHN0cik6XG4gICAgICAgIFwiXCJcIlxuICAgICAgICBJbml0aWFsaXplIHRoZSBhcHBsaWNhdGlvbi5cbiAgICAgICAgXG4gICAgICAgIEFyZ3M6XG4gICAgICAgICAgICBkYl9wYXRoOiBQYXRoIHRvIHRoZSBTUUxpdGUgZGF0YWJhc2UgZmlsZVxuICAgICAgICBcIlwiXCJcbiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpXG4gICAgICAgIFxuICAgICAgICAjIENvbmZpZ3VyZSB3aW5kb3dcbiAgICAgICAgc2VsZi50aXRsZShcIkVFRyBNZXRyaWNzIFZpZXdlclwiKVxuICAgICAgICBzZWxmLmdlb21ldHJ5KFwiMTQwMHg4MDBcIikgICMgTGFyZ2VyIGRlZmF1bHQgc2l6ZVxuICAgICAgICBcbiAgICAgICAgIyBDb25maWd1cmUgZ3JpZCBsYXlvdXQgLSBnaXZlIG11Y2ggbW9yZSBzcGFjZSB0byB0aGUgcGxvdFxuICAgICAgICBzZWxmLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKSAgICAjIFNlbGVjdGlvbiBwYW5lbFxuICAgICAgICBzZWxmLmdyaWRfY29sdW1uY29uZmlndXJlKDEsIHdlaWdodD01KSAgICAjIFBsb3QgYXJlYSAoc2lnbmlmaWNhbnRseSBpbmNyZWFzZWQgd2VpZ2h0KVxuICAgICAgICBzZWxmLmdyaWRfcm93Y29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgICAgICBcbiAgICAgICAgIyBJbml0aWFsaXplIGRhdGFiYXNlIGhhbmRsZXJcbiAgICAgICAgc2VsZi5kYl9oYW5kbGVyID0gRGF0YWJhc2VIYW5kbGVyKGRiX3BhdGgpXG4gICAgICAgIFxuICAgICAgICAjIENyZWF0ZSBwbG90IGZyYW1lIHdpdGggbW9yZSBzcGFjZVxuICAgICAgICBzZWxmLnBsb3RfZnJhbWUgPSBNZXRyaWNzUGxvdEZyYW1lKHNlbGYsIHRpdGxlPVwiTWV0cmljcyBWaXN1YWxpemF0aW9uXCIpXG4gICAgICAgIHNlbGYucGxvdF9mcmFtZS5ncmlkKHJvdz0wLCBjb2x1bW49MSwgcGFkeD0oMCwgMTApLCBwYWR5PTEwLCBzdGlja3k9XCJuc2V3XCIpXG4gICAgICAgIFxuICAgICAgICAjIENyZWF0ZSBzZWxlY3Rpb24gZnJhbWUgd2l0aCBuYXJyb3dlciBmaXhlZCB3aWR0aFxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZSA9IFNlbGVjdGlvbkZyYW1lKHNlbGYsIHNlbGYuZGJfaGFuZGxlciwgc2VsZi5wbG90X2ZyYW1lLCB3aWR0aD0yNTApXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lLmdyaWQocm93PTAsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9MTAsIHN0aWNreT1cIm5zZXdcIilcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUuZ3JpZF9wcm9wYWdhdGUoRmFsc2UpICAjIFByZXZlbnQgdGhlIGZyYW1lIGZyb20gcmVzaXppbmcgYmFzZWQgb24gY29udGVudFxuLi4uXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI4OWYwYTRlMy0wYzZhLTQ3OGQtOTk4ZS02ZTQ2ZGU4YjI2MzQ7dG9vbHVfdnJ0eF8wMUs0R2RGYlRUaHhEWWE5NlpyTndrcGQiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBndWkvaW5zdGFsbF9kZXBlbmRlbmNpZXMucHk6XG4gICAgIDFcdCMhL3Vzci9iaW4vZW52IHB5dGhvbjNcbiAgICAgMlx0XCJcIlwiXG4gICAgIDNcdFNjcmlwdCB0byBpbnN0YWxsIHRoZSByZXF1aXJlZCBkZXBlbmRlbmNpZXMgZm9yIHRoZSBFRUcgTWV0cmljcyBWaWV3ZXIuXG4gICAgIDRcdFxuICAgICA1XHRUaGlzIHNjcmlwdCBjaGVja3MgaWYgdGhlIHJlcXVpcmVkIHBhY2thZ2VzIGFyZSBpbnN0YWxsZWQgYW5kIGluc3RhbGxzIHRoZW0gaWYgbmVlZGVkLlxuICAgICA2XHRcIlwiXCJcbiAgICAgN1x0XG4gICAgIDhcdGltcG9ydCBzeXNcbiAgICAgOVx0aW1wb3J0IHN1YnByb2Nlc3NcbiAgICAxMFx0aW1wb3J0IGltcG9ydGxpYi51dGlsXG4gICAgMTFcdFxuICAgIDEyXHRkZWYgY2hlY2tfcGFja2FnZShwYWNrYWdlX25hbWUpOlxuICAgIDEzXHQgICAgXCJcIlwiQ2hlY2sgaWYgYSBwYWNrYWdlIGlzIGluc3RhbGxlZC5cIlwiXCJcbiAgICAxNFx0ICAgIHJldHVybiBpbXBvcnRsaWIudXRpbC5maW5kX3NwZWMocGFja2FnZV9uYW1lKSBpcyBub3QgTm9uZVxuICAgIDE1XHRcbiAgICAxNlx0ZGVmIGluc3RhbGxfcGFja2FnZShwYWNrYWdlX25hbWUpOlxuICAgIDE3XHQgICAgXCJcIlwiSW5zdGFsbCBhIHBhY2thZ2UgdXNpbmcgcGlwLlwiXCJcIlxuICAgIDE4XHQgICAgcHJpbnQoZlwiSW5zdGFsbGluZyB7cGFja2FnZV9uYW1lfS4uLlwiKVxuICAgIDE5XHQgICAgc3VicHJvY2Vzcy5jaGVja19jYWxsKFtzeXMuZXhlY3V0YWJsZSwgXCItbVwiLCBcInBpcFwiLCBcImluc3RhbGxcIiwgcGFja2FnZV9uYW1lXSlcbiAgICAyMFx0ICAgIHByaW50KGZcIntwYWNrYWdlX25hbWV9IGluc3RhbGxlZCBzdWNjZXNzZnVsbHkuXCIpXG4gICAgMjFcdFxuICAgIDIyXHRkZWYgbWFpbigpOlxuICAgIDIzXHQgICAgXCJcIlwiQ2hlY2sgYW5kIGluc3RhbGwgcmVxdWlyZWQgcGFja2FnZXMuXCJcIlwiXG4gICAgMjRcdCAgICByZXF1aXJlZF9wYWNrYWdlcyA9IFtcbiAgICAyNVx0ICAgICAgICBcImN1c3RvbXRraW50ZXJcIixcbiAgICAyNlx0ICAgICAgICBcIm1hdHBsb3RsaWJcIixcbiAgICAyN1x0ICAgICAgICBcIm51bXB5XCIsXG4gICAgMjhcdCAgICAgICAgXCJwYW5kYXNcIixcbiAgICAyOVx0ICAgICAgICBcInNxbGFsY2hlbXlcIlxuICAgIDMwXHQgICAgXVxuICAgIDMxXHQgICAgXG4gICAgMzJcdCAgICBtaXNzaW5nX3BhY2thZ2VzID0gW11cbiAgICAzM1x0ICAgIFxuICAgIDM0XHQgICAgIyBDaGVjayB3aGljaCBwYWNrYWdlcyBhcmUgbWlzc2luZ1xuICAgIDM1XHQgICAgZm9yIHBhY2thZ2UgaW4gcmVxdWlyZWRfcGFja2FnZXM6XG4gICAgMzZcdCAgICAgICAgaWYgbm90IGNoZWNrX3BhY2thZ2UocGFja2FnZSk6XG4gICAgMzdcdCAgICAgICAgICAgIG1pc3NpbmdfcGFja2FnZXMuYXBwZW5kKHBhY2thZ2UpXG4gICAgMzhcdCAgICBcbiAgICAzOVx0ICAgICMgSW5zdGFsbCBtaXNzaW5nIHBhY2thZ2VzXG4gICAgNDBcdCAgICBpZiBtaXNzaW5nX3BhY2thZ2VzOlxuICAgIDQxXHQgICAgICAgIHByaW50KGZcIlRoZSBmb2xsb3dpbmcgcGFja2FnZXMgbmVlZCB0byBiZSBpbnN0YWxsZWQ6IHsnLCAnLmpvaW4obWlzc2luZ19wYWNrYWdlcyl9XCIpXG4gICAgNDJcdCAgICAgICAgdHJ5OlxuICAgIDQzXHQgICAgICAgICAgICBmb3IgcGFja2FnZSBpbiBtaXNzaW5nX3BhY2thZ2VzOlxuICAgIDQ0XHQgICAgICAgICAgICAgICAgaW5zdGFsbF9wYWNrYWdlKHBhY2thZ2UpXG4gICAgNDVcdCAgICAgICAgICAgIHByaW50KFwiQWxsIHJlcXVpcmVkIHBhY2thZ2VzIGhhdmUgYmVlbiBpbnN0YWxsZWQuXCIpXG4gICAgNDZcdCAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxuICAgIDQ3XHQgICAgICAgICAgICBwcmludChmXCJFcnJvciBpbnN0YWxsaW5nIHBhY2thZ2VzOiB7ZX1cIilcbiAgICA0OFx0ICAgICAgICAgICAgcHJpbnQoXCJQbGVhc2UgaW5zdGFsbCB0aGUgcmVxdWlyZWQgcGFja2FnZXMgbWFudWFsbHk6XCIpXG4gICAgNDlcdCAgICAgICAgICAgIGZvciBwYWNrYWdlIGluIG1pc3NpbmdfcGFja2FnZXM6XG4gICAgNTBcdCAgICAgICAgICAgICAgICBwcmludChmXCIgIHBpcCBpbnN0YWxsIHtwYWNrYWdlfVwiKVxuICAgIDUxXHQgICAgICAgICAgICBzeXMuZXhpdCgxKVxuICAgIDUyXHQgICAgZWxzZTpcbiAgICA1M1x0ICAgICAgICBwcmludChcIkFsbCByZXF1aXJlZCBwYWNrYWdlcyBhcmUgYWxyZWFkeSBpbnN0YWxsZWQuXCIpXG4gICAgNTRcdFxuICAgIDU1XHRpZiBfX25hbWVfXyA9PSBcIl9fbWFpbl9fXCI6XG4gICAgNTZcdCAgICBtYWluKClcbiAgICA1N1x0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA1N1xuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiYzg4NDFlMDEtNzE5NC00ZTJkLTgzNTMtNzY0ZmQ5MDBkOWI5O3Rvb2x1X3ZydHhfMDFEZEFvN0t4S01pRGg2eUpWZnpMUlI0Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IGd1aS9tZXRyaWNzX3ZpZXdlci9hcHAucHlcblwiXCJcIlxuTWFpbiBhcHBsaWNhdGlvbiBjbGFzcyBmb3IgdGhlIEVFRyBNZXRyaWNzIFZpZXdlci5cblwiXCJcIlxuXG5pbXBvcnQgb3NcbmltcG9ydCBzeXNcbmltcG9ydCBjdXN0b210a2ludGVyIGFzIGN0a1xuXG5mcm9tIC5kYXRhYmFzZV9oYW5kbGVyIGltcG9ydCBEYXRhYmFzZUhhbmRsZXJcbmZyb20gLnBsb3RfZnJhbWUgaW1wb3J0IE1ldHJpY3NQbG90RnJhbWVcbmZyb20gLnNlbGVjdGlvbl9mcmFtZSBpbXBvcnQgU2VsZWN0aW9uRnJhbWVcblxuXG5jbGFzcyBBcHAoY3RrLkNUayk6XG4gICAgXCJcIlwiXG4gICAgTWFpbiBhcHBsaWNhdGlvbiBjbGFzcyBmb3IgdGhlIEVFRyBNZXRyaWNzIFZpZXdlci5cbiAgICBcIlwiXCJcbiAgICBcbiAgICBkZWYgX19pbml0X18oc2VsZiwgZGJfcGF0aDogc3RyKTpcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIEluaXRpYWxpemUgdGhlIGFwcGxpY2F0aW9uLlxuICAgICAgICBcbiAgICAgICAgQXJnczpcbiAgICAgICAgICAgIGRiX3BhdGg6IFBhdGggdG8gdGhlIFNRTGl0ZSBkYXRhYmFzZSBmaWxlXG4gICAgICAgIFwiXCJcIlxuICAgICAgICBzdXBlcigpLl9faW5pdF9fKClcbiAgICAgICAgXG4gICAgICAgICMgQ29uZmlndXJlIHdpbmRvd1xuICAgICAgICBzZWxmLnRpdGxlKFwiRUVHIE1ldHJpY3MgVmlld2VyXCIpXG4gICAgICAgIHNlbGYuZ2VvbWV0cnkoXCIxNDAweDgwMFwiKSAgIyBMYXJnZXIgZGVmYXVsdCBzaXplXG4gICAgICAgIFxuICAgICAgICAjIENvbmZpZ3VyZSBncmlkIGxheW91dCAtIGdpdmUgbXVjaCBtb3JlIHNwYWNlIHRvIHRoZSBwbG90XG4gICAgICAgIHNlbGYuZ3JpZF9jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpICAgICMgU2VsZWN0aW9uIHBhbmVsXG4gICAgICAgIHNlbGYuZ3JpZF9jb2x1bW5jb25maWd1cmUoMSwgd2VpZ2h0PTUpICAgICMgUGxvdCBhcmVhIChzaWduaWZpY2FudGx5IGluY3JlYXNlZCB3ZWlnaHQpXG4gICAgICAgIHNlbGYuZ3JpZF9yb3djb25maWd1cmUoMCwgd2VpZ2h0PTEpXG4gICAgICAgIFxuICAgICAgICAjIEluaXRpYWxpemUgZGF0YWJhc2UgaGFuZGxlclxuICAgICAgICBzZWxmLmRiX2hhbmRsZXIgPSBEYXRhYmFzZUhhbmRsZXIoZGJfcGF0aClcbiAgICAgICAgXG4gICAgICAgICMgQ3JlYXRlIHBsb3QgZnJhbWUgd2l0aCBtb3JlIHNwYWNlXG4gICAgICAgIHNlbGYucGxvdF9mcmFtZSA9IE1ldHJpY3NQbG90RnJhbWUoc2VsZiwgdGl0bGU9XCJNZXRyaWNzIFZpc3VhbGl6YXRpb25cIilcbiAgICAgICAgc2VsZi5wbG90X2ZyYW1lLmdyaWQocm93PTAsIGNvbHVtbj0xLCBwYWR4PSgwLCAxMCksIHBhZHk9MTAsIHN0aWNreT1cIm5zZXdcIilcbiAgICAgICAgXG4gICAgICAgICMgQ3JlYXRlIHNlbGVjdGlvbiBmcmFtZSB3aXRoIG5hcnJvd2VyIGZpeGVkIHdpZHRoXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lID0gU2VsZWN0aW9uRnJhbWUoc2VsZiwgc2VsZi5kYl9oYW5kbGVyLCBzZWxmLnBsb3RfZnJhbWUsIHdpZHRoPTI1MClcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0xMCwgc3RpY2t5PVwibnNld1wiKVxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZS5ncmlkX3Byb3BhZ2F0ZShGYWxzZSkgICMgUHJldmVudCB0aGUgZnJhbWUgZnJvbSByZXNpemluZyBiYXNlZCBvbiBjb250ZW50XG4uLi5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjQzYzdlMjMxLTk0ZGUtNGYyZC1hNWY5LWVlMjE0NGYyMzIzMDt0b29sdV92cnR4XzAxSzI5R1IyakNHSzJHRDVySEJFQmkzdiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBndWkvbWV0cmljc192aWV3ZXIvYXBwLnB5XG5cIlwiXCJcbk1haW4gYXBwbGljYXRpb24gY2xhc3MgZm9yIHRoZSBFRUcgTWV0cmljcyBWaWV3ZXIuXG5cIlwiXCJcblxuaW1wb3J0IG9zXG5pbXBvcnQgc3lzXG5pbXBvcnQgY3VzdG9tdGtpbnRlciBhcyBjdGtcblxuZnJvbSAuZGF0YWJhc2VfaGFuZGxlciBpbXBvcnQgRGF0YWJhc2VIYW5kbGVyXG5mcm9tIC5wbG90X2ZyYW1lIGltcG9ydCBNZXRyaWNzUGxvdEZyYW1lXG5mcm9tIC5zZWxlY3Rpb25fZnJhbWUgaW1wb3J0IFNlbGVjdGlvbkZyYW1lXG5cblxuY2xhc3MgQXBwKGN0ay5DVGspOlxuICAgIFwiXCJcIlxuICAgIE1haW4gYXBwbGljYXRpb24gY2xhc3MgZm9yIHRoZSBFRUcgTWV0cmljcyBWaWV3ZXIuXG4gICAgXCJcIlwiXG4gICAgXG4gICAgZGVmIF9faW5pdF9fKHNlbGYsIGRiX3BhdGg6IHN0cik6XG4gICAgICAgIFwiXCJcIlxuICAgICAgICBJbml0aWFsaXplIHRoZSBhcHBsaWNhdGlvbi5cbiAgICAgICAgXG4gICAgICAgIEFyZ3M6XG4gICAgICAgICAgICBkYl9wYXRoOiBQYXRoIHRvIHRoZSBTUUxpdGUgZGF0YWJhc2UgZmlsZVxuICAgICAgICBcIlwiXCJcbiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpXG4gICAgICAgIFxuICAgICAgICAjIENvbmZpZ3VyZSB3aW5kb3dcbiAgICAgICAgc2VsZi50aXRsZShcIkVFRyBNZXRyaWNzIFZpZXdlclwiKVxuICAgICAgICBzZWxmLmdlb21ldHJ5KFwiMTQwMHg4MDBcIikgICMgTGFyZ2VyIGRlZmF1bHQgc2l6ZVxuICAgICAgICBcbiAgICAgICAgIyBDb25maWd1cmUgZ3JpZCBsYXlvdXQgLSBnaXZlIG11Y2ggbW9yZSBzcGFjZSB0byB0aGUgcGxvdFxuICAgICAgICBzZWxmLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKSAgICAjIFNlbGVjdGlvbiBwYW5lbFxuICAgICAgICBzZWxmLmdyaWRfY29sdW1uY29uZmlndXJlKDEsIHdlaWdodD01KSAgICAjIFBsb3QgYXJlYSAoc2lnbmlmaWNhbnRseSBpbmNyZWFzZWQgd2VpZ2h0KVxuICAgICAgICBzZWxmLmdyaWRfcm93Y29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgICAgICBcbiAgICAgICAgIyBJbml0aWFsaXplIGRhdGFiYXNlIGhhbmRsZXJcbiAgICAgICAgc2VsZi5kYl9oYW5kbGVyID0gRGF0YWJhc2VIYW5kbGVyKGRiX3BhdGgpXG4gICAgICAgIFxuICAgICAgICAjIENyZWF0ZSBwbG90IGZyYW1lIHdpdGggbW9yZSBzcGFjZVxuICAgICAgICBzZWxmLnBsb3RfZnJhbWUgPSBNZXRyaWNzUGxvdEZyYW1lKHNlbGYsIHRpdGxlPVwiTWV0cmljcyBWaXN1YWxpemF0aW9uXCIpXG4gICAgICAgIHNlbGYucGxvdF9mcmFtZS5ncmlkKHJvdz0wLCBjb2x1bW49MSwgcGFkeD0oMCwgMTApLCBwYWR5PTEwLCBzdGlja3k9XCJuc2V3XCIpXG4gICAgICAgIFxuICAgICAgICAjIENyZWF0ZSBzZWxlY3Rpb24gZnJhbWUgd2l0aCBuYXJyb3dlciBmaXhlZCB3aWR0aFxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZSA9IFNlbGVjdGlvbkZyYW1lKHNlbGYsIHNlbGYuZGJfaGFuZGxlciwgc2VsZi5wbG90X2ZyYW1lLCB3aWR0aD0yNTApXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lLmdyaWQocm93PTAsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9MTAsIHN0aWNreT1cIm5zZXdcIilcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUuZ3JpZF9wcm9wYWdhdGUoRmFsc2UpICAjIFByZXZlbnQgdGhlIGZyYW1lIGZyb20gcmVzaXppbmcgYmFzZWQgb24gY29udGVudFxuLi4uXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI5ZDBjNTgwMS04Y2QzLTRhZjktYjBkMC1mMDdlOWI5OGM2MzE7dG9vbHVfdnJ0eF8wMUVXb1dwUGNtVXpvWlUyZkhHdldIaXoiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBndWkvbWV0cmljc192aWV3ZXIvZGF0YWJhc2VfaGFuZGxlci5weTpcbiAgICA1MFx0ICAgIFxuICAgIDUxXHQgICAgZGVmIGdldF9lZWdzX2Zvcl9leHBlcmltZW50KHNlbGYsIGV4cGVyaW1lbnRfaWQ6IHN0cikgLT4gTGlzdFtEaWN0W3N0ciwgQW55XV06XG4gICAgNTJcdCAgICAgICAgXCJcIlwiXG4gICAgNTNcdCAgICAgICAgR2V0IGFsbCBFRUdzIGFzc29jaWF0ZWQgd2l0aCBhIHNwZWNpZmljIGV4cGVyaW1lbnQuXG4gICAgNTRcdCAgICAgICAgXG4gICAgNTVcdCAgICAgICAgQXJnczpcbiAgICA1Nlx0ICAgICAgICAgICAgZXhwZXJpbWVudF9pZDogSUQgb2YgdGhlIGV4cGVyaW1lbnRcbiAgICA1N1x0ICAgICAgICAgICAgXG4gICAgNThcdCAgICAgICAgUmV0dXJuczpcbiAgICA1OVx0ICAgICAgICAgICAgTGlzdCBvZiBkaWN0aW9uYXJpZXMgY29udGFpbmluZyBFRUcgaW5mb3JtYXRpb25cbiAgICA2MFx0ICAgICAgICBcIlwiXCJcbiAgICA2MVx0ICAgICAgICBleHBlcmltZW50ID0gc2VsZi5zZXNzaW9uLmdldChBbGNoZW1pc3QuRXhwZXJpbWVudCwgZXhwZXJpbWVudF9pZClcbiAgICA2Mlx0ICAgICAgICBpZiBub3QgZXhwZXJpbWVudDpcbiAgICA2M1x0ICAgICAgICAgICAgcmV0dXJuIFtdXG4gICAgNjRcdCAgICAgICAgXG4gICAgNjVcdCAgICAgICAgcmV0dXJuIFt7J2lkJzogZWVnLmlkLCAnZmlsZW5hbWUnOiBlZWcuZmlsZW5hbWUsICdmaWxlcGF0aCc6IGVlZy5maWxlcGF0aH0gZm9yIGVlZyBpbiBleHBlcmltZW50LmVlZ3NdXG4gICAgNjZcdCAgICBcbiAgICA2N1x0ICAgIGRlZiBnZXRfbWV0cmljc19kYXRhKHNlbGYsIGV4cGVyaW1lbnRfaWQ6IHN0ciwgZWVnX2lkOiBzdHIpIC0+IHBkLkRhdGFGcmFtZTpcbiAgICA2OFx0ICAgICAgICBcIlwiXCJcbiAgICA2OVx0ICAgICAgICBHZXQgbWV0cmljcyBkYXRhIGZvciBhIHNwZWNpZmljIGV4cGVyaW1lbnQgYW5kIEVFRy5cbiAgICA3MFx0ICAgICAgICBcblRvdGFsIGxpbmVzIGluIGZpbGU6IDEyNlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZDRkZDNmNDItY2FiMS00ZGFlLTg4NjctYjM0ZmQ1MmE5ZWFlO3Rvb2x1X3ZydHhfMDE4Rm1zcHdCR21FVjlDU3lLbnVHNkRhIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gZ3VpL21ldHJpY3Nfdmlld2VyL3NlbGVjdGlvbl9mcmFtZS5weTpcbiAgIDI4MFx0ICAgICAgICAjIFJlc2V0IHpvb20gYnV0dG9uXG4gICAyODFcdCAgICAgICAgc2VsZi5yZXNldF96b29tX2J1dHRvbiA9IGN0ay5DVGtCdXR0b24oXG4gICAyODJcdCAgICAgICAgICAgIHNlbGYsIFxuICAgMjgzXHQgICAgICAgICAgICB0ZXh0PVwiUmVzZXQgWm9vbVwiLCBcbiAgIDI4NFx0ICAgICAgICAgICAgY29tbWFuZD1zZWxmLnJlc2V0X3RpbWVfd2luZG93LFxuICAgMjg1XHQgICAgICAgICAgICBoZWlnaHQ9MjUsXG4gICAyODZcdCAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udFxuICAgMjg3XHQgICAgICAgIClcbiAgIDI4OFx0ICAgICAgICBzZWxmLnJlc2V0X3pvb21fYnV0dG9uLmdyaWQocm93PTcsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9KDUsIDApLCBzdGlja3k9XCJld1wiKVxuICAgMjg5XHQgICAgICAgIFxuICAgMjkwXHQgICAgICAgICMgVXBkYXRlIGJ1dHRvbiAtIG1vcmUgY29tcGFjdFxuICAgMjkxXHQgICAgICAgIHNlbGYudXBkYXRlX2J1dHRvbiA9IGN0ay5DVGtCdXR0b24oXG4gICAyOTJcdCAgICAgICAgICAgIHNlbGYsIFxuICAgMjkzXHQgICAgICAgICAgICB0ZXh0PVwiVXBkYXRlIFBsb3RcIiwgXG4gICAyOTRcdCAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi51cGRhdGVfcGxvdCxcbiAgIDI5NVx0ICAgICAgICAgICAgaGVpZ2h0PTMwLFxuICAgMjk2XHQgICAgICAgICAgICBmb250PWdldF9idXR0b25fZm9udCgpXG4gICAyOTdcdCAgICAgICAgKVxuICAgMjk4XHQgICAgICAgIHNlbGYudXBkYXRlX2J1dHRvbi5ncmlkKHJvdz03LCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PSg1LCA4KSwgc3RpY2t5PVwiZXdcIilcbiAgIDI5OVx0ICAgICAgICBcbiAgIDMwMFx0ICAgICAgICAjIEluaXRpYWxpemUgd2l0aCB0aGUgZmlyc3QgZXhwZXJpbWVudCBpZiBhdmFpbGFibGVcblRvdGFsIGxpbmVzIGluIGZpbGU6IDYyNVxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZmVmM2Y2NzMtODBjYy00NjRiLWFmZDItMjRkY2U2ZGY2YTAxO3Rvb2x1X3ZydHhfMDE2S1lSckdiREhmaG1jUlVjQ243aVE4Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IGd1aS9tZXRyaWNzX3ZpZXdlci9hcHAucHlcblwiXCJcIlxuTWFpbiBhcHBsaWNhdGlvbiBjbGFzcyBmb3IgdGhlIEVFRyBNZXRyaWNzIFZpZXdlci5cblwiXCJcIlxuXG5pbXBvcnQgb3NcbmltcG9ydCBzeXNcbmltcG9ydCBjdXN0b210a2ludGVyIGFzIGN0a1xuXG5mcm9tIC5kYXRhYmFzZV9oYW5kbGVyIGltcG9ydCBEYXRhYmFzZUhhbmRsZXJcbmZyb20gLnBsb3RfZnJhbWUgaW1wb3J0IE1ldHJpY3NQbG90RnJhbWVcbmZyb20gLnNlbGVjdGlvbl9mcmFtZSBpbXBvcnQgU2VsZWN0aW9uRnJhbWVcblxuXG5jbGFzcyBBcHAoY3RrLkNUayk6XG4gICAgXCJcIlwiXG4gICAgTWFpbiBhcHBsaWNhdGlvbiBjbGFzcyBmb3IgdGhlIEVFRyBNZXRyaWNzIFZpZXdlci5cbiAgICBcIlwiXCJcbiAgICBcbiAgICBkZWYgX19pbml0X18oc2VsZiwgZGJfcGF0aDogc3RyKTpcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIEluaXRpYWxpemUgdGhlIGFwcGxpY2F0aW9uLlxuICAgICAgICBcbiAgICAgICAgQXJnczpcbiAgICAgICAgICAgIGRiX3BhdGg6IFBhdGggdG8gdGhlIFNRTGl0ZSBkYXRhYmFzZSBmaWxlXG4gICAgICAgIFwiXCJcIlxuICAgICAgICBzdXBlcigpLl9faW5pdF9fKClcbiAgICAgICAgXG4gICAgICAgICMgQ29uZmlndXJlIHdpbmRvd1xuICAgICAgICBzZWxmLnRpdGxlKFwiRUVHIE1ldHJpY3MgVmlld2VyXCIpXG4gICAgICAgIHNlbGYuZ2VvbWV0cnkoXCIxNDAweDgwMFwiKSAgIyBMYXJnZXIgZGVmYXVsdCBzaXplXG4gICAgICAgIFxuICAgICAgICAjIENvbmZpZ3VyZSBncmlkIGxheW91dCAtIGdpdmUgbXVjaCBtb3JlIHNwYWNlIHRvIHRoZSBwbG90XG4gICAgICAgIHNlbGYuZ3JpZF9jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpICAgICMgU2VsZWN0aW9uIHBhbmVsXG4gICAgICAgIHNlbGYuZ3JpZF9jb2x1bW5jb25maWd1cmUoMSwgd2VpZ2h0PTUpICAgICMgUGxvdCBhcmVhIChzaWduaWZpY2FudGx5IGluY3JlYXNlZCB3ZWlnaHQpXG4gICAgICAgIHNlbGYuZ3JpZF9yb3djb25maWd1cmUoMCwgd2VpZ2h0PTEpXG4gICAgICAgIFxuICAgICAgICAjIEluaXRpYWxpemUgZGF0YWJhc2UgaGFuZGxlclxuICAgICAgICBzZWxmLmRiX2hhbmRsZXIgPSBEYXRhYmFzZUhhbmRsZXIoZGJfcGF0aClcbiAgICAgICAgXG4gICAgICAgICMgQ3JlYXRlIHBsb3QgZnJhbWUgd2l0aCBtb3JlIHNwYWNlXG4gICAgICAgIHNlbGYucGxvdF9mcmFtZSA9IE1ldHJpY3NQbG90RnJhbWUoc2VsZiwgdGl0bGU9XCJNZXRyaWNzIFZpc3VhbGl6YXRpb25cIilcbiAgICAgICAgc2VsZi5wbG90X2ZyYW1lLmdyaWQocm93PTAsIGNvbHVtbj0xLCBwYWR4PSgwLCAxMCksIHBhZHk9MTAsIHN0aWNreT1cIm5zZXdcIilcbiAgICAgICAgXG4gICAgICAgICMgQ3JlYXRlIHNlbGVjdGlvbiBmcmFtZSB3aXRoIG5hcnJvd2VyIGZpeGVkIHdpZHRoXG4gICAgICAgIHNlbGYuc2VsZWN0aW9uX2ZyYW1lID0gU2VsZWN0aW9uRnJhbWUoc2VsZiwgc2VsZi5kYl9oYW5kbGVyLCBzZWxmLnBsb3RfZnJhbWUsIHdpZHRoPTI1MClcbiAgICAgICAgc2VsZi5zZWxlY3Rpb25fZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0xMCwgc3RpY2t5PVwibnNld1wiKVxuICAgICAgICBzZWxmLnNlbGVjdGlvbl9mcmFtZS5ncmlkX3Byb3BhZ2F0ZShGYWxzZSkgICMgUHJldmVudCB0aGUgZnJhbWUgZnJvbSByZXNpemluZyBiYXNlZCBvbiBjb250ZW50XG4uLi5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjllODU4NTEyLTY2NzQtNDVjOC1hZjg3LTdkZTZjOWQ5MjcyYTt0b29sdV92cnR4XzAxM0ZvS2J5UHNYY2tOZVR4VjNMRkNxOCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIGd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHk6XG4gICAzMzZcdCAgICBkZWYgb25fZWVnX3NlbGVjdGVkKHNlbGYsIHNlbGVjdGlvbjogc3RyKTpcbiAgIDMzN1x0ICAgICAgICBcIlwiXCJcbiAgIDMzOFx0ICAgICAgICBIYW5kbGUgRUVHIHNlbGVjdGlvbiBjaGFuZ2UuXG4gICAzMzlcdCAgICAgICAgXG4gICAzNDBcdCAgICAgICAgQXJnczpcbiAgIDM0MVx0ICAgICAgICAgICAgc2VsZWN0aW9uOiBTZWxlY3RlZCBFRUcgbmFtZVxuICAgMzQyXHQgICAgICAgIFwiXCJcIlxuICAgMzQzXHQgICAgICAgICMgRmluZCB0aGUgc2VsZWN0ZWQgRUVHXG4gICAzNDRcdCAgICAgICAgc2VsZWN0ZWRfZWVnID0gTm9uZVxuICAgMzQ1XHQgICAgICAgIGZvciBlZWcgaW4gc2VsZi5lZWdzOlxuICAgMzQ2XHQgICAgICAgICAgICBpZiBlZWdbJ2ZpbGVuYW1lJ10gPT0gc2VsZWN0aW9uOlxuICAgMzQ3XHQgICAgICAgICAgICAgICAgc2VsZWN0ZWRfZWVnID0gZWVnXG4gICAzNDhcdCAgICAgICAgICAgICAgICBicmVha1xuICAgMzQ5XHQgICAgICAgIFxuICAgMzUwXHQgICAgICAgIGlmIG5vdCBzZWxlY3RlZF9lZWc6XG4gICAzNTFcdCAgICAgICAgICAgIHJldHVyblxuICAgMzUyXHQgICAgICAgIFxuICAgMzUzXHQgICAgICAgICMgVXBkYXRlIG1ldHJpY3MgZHJvcGRvd25cbiAgIDM1NFx0ICAgICAgICBzZWxmLmN1cnJlbnRfZWVnX2lkID0gc2VsZWN0ZWRfZWVnWydpZCddXG4gICAzNTVcdCAgICAgICAgc2VsZi51cGRhdGVfbWV0cmljc19kcm9wZG93bigpXG4gICAzNTZcdCAgICAgICAgc2VsZi51cGRhdGVfY2hhbm5lbHNfY2hlY2tib3hlcygpXG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA2MjVcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImQxNGZkYmY1LTFjYWEtNDIzNC1hMDU4LTQ5NzA4NTNiNDU2Nzt0b29sdV92cnR4XzAxTVllWU5MQkdTSzE0d253TEJHckJmNyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIGd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHk6XG4gICA1NjBcdCAgICBkZWYgdXBkYXRlX3Bsb3Qoc2VsZik6XG4gICA1NjFcdCAgICAgICAgXCJcIlwiVXBkYXRlIHRoZSBwbG90IHdpdGggdGhlIHNlbGVjdGVkIG1ldHJpYyBhbmQgY2hhbm5lbHMuXCJcIlwiXG4gICA1NjJcdCAgICAgICAgaWYgbm90IGhhc2F0dHIoc2VsZiwgJ2N1cnJlbnRfZXhwZXJpbWVudF9pZCcpIG9yIG5vdCBoYXNhdHRyKHNlbGYsICdjdXJyZW50X2VlZ19pZCcpIG9yIG5vdCBzZWxmLmN1cnJlbnRfbWV0cmljOlxuICAgNTYzXHQgICAgICAgICAgICByZXR1cm5cbiAgIDU2NFx0ICAgICAgICBcbiAgIDU2NVx0ICAgICAgICAjIEdldCBzZWxlY3RlZCBjaGFubmVsc1xuICAgNTY2XHQgICAgICAgIHNlbGVjdGVkX2NoYW5uZWxzID0gW2NoYW5uZWwgZm9yIGNoYW5uZWwsIHZhciBpbiBzZWxmLmNoYW5uZWxfdmFycy5pdGVtcygpIGlmIHZhci5nZXQoKV1cbiAgIDU2N1x0ICAgICAgICBcbiAgIDU2OFx0ICAgICAgICAjIEdldCBzZWxlY3RlZCBhZ2dyZWdhdGlvbiBtZXRob2RzXG4gICA1NjlcdCAgICAgICAgc2VsZWN0ZWRfYWdncmVnYXRpb25zID0gW2FnZyBmb3IgYWdnLCB2YXIgaW4gc2VsZi5hZ2dyZWdhdGlvbl92YXJzLml0ZW1zKCkgaWYgdmFyLmdldCgpXVxuICAgNTcwXHQgICAgICAgIFxuICAgNTcxXHQgICAgICAgICMgQ2hlY2sgaWYgd2Ugc2hvdWxkIHNob3cgb25seSBhZ2dyZWdhdGlvbnNcbiAgIDU3Mlx0ICAgICAgICBhZ2dyZWdhdGlvbl9vbmx5ID0gc2VsZi5hZ2dyZWdhdGlvbl9vbmx5X3Zhci5nZXQoKVxuICAgNTczXHQgICAgICAgIFxuICAgNTc0XHQgICAgICAgICMgQ2hlY2sgaWYgd2UgaGF2ZSB2YWxpZCBzZWxlY3Rpb25zXG4gICA1NzVcdCAgICAgICAgaWYgKG5vdCBzZWxlY3RlZF9jaGFubmVscyBhbmQgbm90IHNlbGVjdGVkX2FnZ3JlZ2F0aW9ucykgb3IgXFxcbiAgIDU3Nlx0ICAgICAgICAgICAoYWdncmVnYXRpb25fb25seSBhbmQgbm90IHNlbGVjdGVkX2FnZ3JlZ2F0aW9ucyk6XG4gICA1NzdcdCAgICAgICAgICAgIHNlbGYucGxvdF9mcmFtZS51cGRhdGVfcGxvdChOb25lLCBOb25lLCBOb25lLCBcIk5vIGNoYW5uZWxzIG9yIGFnZ3JlZ2F0aW9ucyBzZWxlY3RlZFwiKVxuICAgNTc4XHQgICAgICAgICAgICByZXR1cm5cbiAgIDU3OVx0ICAgICAgICBcbiAgIDU4MFx0ICAgICAgICAjIEdldCBkYXRhIGZvciB0aGUgc2VsZWN0ZWQgZXhwZXJpbWVudCBhbmQgRUVHXG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA2MjVcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjFkM2MyNDNkLTgyNjAtNGU1YS1iYmZmLTYwYTBhZTM0MjE2MTt0b29sdV92cnR4XzAxS3lNOEw4dG1ZRlRlUmtBSHVKanExbiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIGd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHk6XG4gICA1ODBcdCAgICAgICAgIyBHZXQgZGF0YSBmb3IgdGhlIHNlbGVjdGVkIGV4cGVyaW1lbnQgYW5kIEVFR1xuICAgNTgxXHQgICAgICAgIGRmID0gc2VsZi5kYl9oYW5kbGVyLmdldF9tZXRyaWNzX2RhdGEoc2VsZi5jdXJyZW50X2V4cGVyaW1lbnRfaWQsIHNlbGYuY3VycmVudF9lZWdfaWQpXG4gICA1ODJcdCAgICAgICAgXG4gICA1ODNcdCAgICAgICAgaWYgZGYuZW1wdHk6XG4gICA1ODRcdCAgICAgICAgICAgIHNlbGYucGxvdF9mcmFtZS51cGRhdGVfcGxvdChOb25lLCBOb25lLCBOb25lLCBcIk5vIGRhdGEgYXZhaWxhYmxlXCIpXG4gICA1ODVcdCAgICAgICAgICAgIHJldHVyblxuICAgNTg2XHQgICAgICAgIFxuICAgNTg3XHQgICAgICAgICMgR2V0IHRpbWUgd2luZG93IHZhbHVlc1xuICAgNTg4XHQgICAgICAgIHRyeTpcbiAgIDU4OVx0ICAgICAgICAgICAgc3RhcnRfdGltZSA9IGZsb2F0KHNlbGYuc3RhcnRfdGltZV92YXIuZ2V0KCkpIGlmIHNlbGYuc3RhcnRfdGltZV92YXIuZ2V0KCkgZWxzZSBOb25lXG4gICA1OTBcdCAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6XG4gICA1OTFcdCAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBOb25lXG4gICA1OTJcdCAgICAgICAgICAgIHNlbGYuc3RhcnRfdGltZV92YXIuc2V0KFwiMFwiKVxuICAgNTkzXHQgICAgICAgIFxuICAgNTk0XHQgICAgICAgIHRyeTpcbiAgIDU5NVx0ICAgICAgICAgICAgZW5kX3RpbWUgPSBmbG9hdChzZWxmLmVuZF90aW1lX3Zhci5nZXQoKSkgaWYgc2VsZi5lbmRfdGltZV92YXIuZ2V0KCkgZWxzZSBOb25lXG4gICA1OTZcdCAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6XG4gICA1OTdcdCAgICAgICAgICAgIGVuZF90aW1lID0gTm9uZVxuICAgNTk4XHQgICAgICAgICAgICBzZWxmLmVuZF90aW1lX3Zhci5zZXQoXCJcIilcbiAgIDU5OVx0ICAgICAgICBcbiAgIDYwMFx0ICAgICAgICAjIFVwZGF0ZSB0aGUgcGxvdFxuVG90YWwgbGluZXMgaW4gZmlsZTogNjI1XG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIyNDk5MTNmYS1hYzBlLTQ1YjgtYWIyMy1kNmY2MGYyNDViMjE7dG9vbHVfdnJ0eF8wMUNzUjhLZTdjZjQzYWFtcjhnUmhycWoiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBndWkvaW5zdGFsbF9kZXBlbmRlbmNpZXMucHkuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAyMFx0ICAgIHByaW50KGZcIntwYWNrYWdlX25hbWV9IGluc3RhbGxlZCBzdWNjZXNzZnVsbHkuXCIpXG4gICAgMjFcdFxuICAgIDIyXHRkZWYgbWFpbigpOlxuICAgIDIzXHQgICAgXCJcIlwiQ2hlY2sgYW5kIGluc3RhbGwgcmVxdWlyZWQgcGFja2FnZXMuXCJcIlwiXG4gICAgMjRcdCAgICByZXF1aXJlZF9wYWNrYWdlcyA9IFtcbiAgICAyNVx0ICAgICAgICBcImN1c3RvbXRraW50ZXJcIixcbiAgICAyNlx0ICAgICAgICBcIm1hdHBsb3RsaWJcIixcbiAgICAyN1x0ICAgICAgICBcIm51bXB5XCIsXG4gICAgMjhcdCAgICAgICAgXCJwYW5kYXNcIixcbiAgICAyOVx0ICAgICAgICBcInNxbGFsY2hlbXlcIixcbiAgICAzMFx0ICAgICAgICBcIm1uZVwiXG4gICAgMzFcdCAgICBdXG4gICAgMzJcdFxuICAgIDMzXHQgICAgbWlzc2luZ19wYWNrYWdlcyA9IFtdXG4gICAgMzRcdFxuICAgIDM1XHQgICAgIyBDaGVjayB3aGljaCBwYWNrYWdlcyBhcmUgbWlzc2luZ1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIyNDJhMzM4Yy0xNjJiLTRlYmItYTFmOS05OTFjNjM1YTM4ZjM7dG9vbHVfdnJ0eF8wMU44RDRTc0JiY2pvNGdReGtza0RmYnQiOnsicGhhc2UiOjYsInJlc3VsdCI6eyJ0ZXh0IjoiRmFpbGVkIHRvIGVkaXQgdGhlIGZpbGUgZ3VpL3J1bl9tZXRyaWNzX3ZpZXdlci5weS4gU2VlIGJlbG93IGZvciBkZXRhaWxzLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuTm8gcmVwbGFjZW1lbnQgd2FzIHBlcmZvcm1lZCwgb2xkU3RyIGRpZCBub3QgYXBwZWFyIHZlcmJhdGltIGluIGd1aS9ydW5fbWV0cmljc192aWV3ZXIucHkuXG5UaGUgY29udGVudCBpbiB0aGUgc3BlY2lmaWVkIHJlZ2lvbiBpczpcbiAgICAxNlx0aW1wb3J0IHN5c1xuICAgIDE3XHRpbXBvcnQgaW1wb3J0bGliLnV0aWxcbiAgICAxOFx0XG4gICAgMTlcdGRlZiBjaGVja19kZXBlbmRlbmNpZXMoKTpcbiAgICAyMFx0ICAgIFwiXCJcIkNoZWNrIGlmIGFsbCByZXF1aXJlZCBkZXBlbmRlbmNpZXMgYXJlIGluc3RhbGxlZC5cIlwiXCJcbiAgICAyMVx0ICAgIHJlcXVpcmVkX3BhY2thZ2VzID0gW1wiY3VzdG9tdGtpbnRlclwiLCBcIm1hdHBsb3RsaWJcIiwgXCJudW1weVwiLCBcInBhbmRhc1wiLCBcInNxbGFsY2hlbXlcIl1cbiAgICAyMlx0ICAgIG1pc3NpbmdfcGFja2FnZXMgPSBbXVxuICAgIDIzXHRcbiAgICAyNFx0ICAgIGZvciBwYWNrYWdlIGluIHJlcXVpcmVkX3BhY2thZ2VzOlxuICAgIDI1XHQgICAgICAgIGlmIGltcG9ydGxpYi51dGlsLmZpbmRfc3BlYyhwYWNrYWdlKSBpcyBOb25lOlxuXG5EaWZmIGJldHdlZW4gb2xkU3RyIGFuZCB0aGUgc3BlY2lmaWVkIHJlZ2lvbiBpczpcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi0tLSBvbGRTdHJcbisrKyByZWdpb25Db250ZW50XG5AQCAtMSwyICsxLDIgQEBcbi0gICAgXCJDaGVjayBpZiBhbGwgcmVxdWlyZWQgZGVwZW5kZW5jaWVzIGFyZSBpbnN0YWxsZWQuXCJcIlwiXG4rICAgIFwiXCJcIkNoZWNrIGlmIGFsbCByZXF1aXJlZCBkZXBlbmRlbmNpZXMgYXJlIGluc3RhbGxlZC5cIlwiXCJcbiAgICAgcmVxdWlyZWRfcGFja2FnZXMgPSBbXCJjdXN0b210a2ludGVyXCIsIFwibWF0cGxvdGxpYlwiLCBcIm51bXB5XCIsIFwicGFuZGFzXCIsIFwic3FsYWxjaGVteVwiXVxuXG5cbkZpeCBmYWlsZWQgc3RyX3JlcGxhY2VfZW50cmllcyBhY2NvcmRpbmdseSBhbmQgdHJ5IGFnYWluLlxuIiwiaXNFcnJvciI6dHJ1ZSwicmVxdWVzdElkIjoiIn19LCJjYWEyY2U0Mi1jMjNkLTQ4MGItYWIzMi00MGQ2NjVlYjBkNWE7dG9vbHVfdnJ0eF8wMTdScW4yVFlOZHk2OXpDU3Q2b1dta0EiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBndWkvcnVuX21ldHJpY3Nfdmlld2VyLnB5LlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMTdcdGltcG9ydCBpbXBvcnRsaWIudXRpbFxuICAgIDE4XHRcbiAgICAxOVx0ZGVmIGNoZWNrX2RlcGVuZGVuY2llcygpOlxuICAgIDIwXHQgICAgXCJcIlwiQ2hlY2sgaWYgYWxsIHJlcXVpcmVkIGRlcGVuZGVuY2llcyBhcmUgaW5zdGFsbGVkLlwiXCJcIlxuICAgIDIxXHQgICAgcmVxdWlyZWRfcGFja2FnZXMgPSBbXCJjdXN0b210a2ludGVyXCIsIFwibWF0cGxvdGxpYlwiLCBcIm51bXB5XCIsIFwicGFuZGFzXCIsIFwic3FsYWxjaGVteVwiLCBcIm1uZVwiXVxuICAgIDIyXHQgICAgbWlzc2luZ19wYWNrYWdlcyA9IFtdXG4gICAgMjNcdFxuICAgIDI0XHQgICAgZm9yIHBhY2thZ2UgaW4gcmVxdWlyZWRfcGFja2FnZXM6XG4gICAgMjVcdCAgICAgICAgaWYgaW1wb3J0bGliLnV0aWwuZmluZF9zcGVjKHBhY2thZ2UpIGlzIE5vbmU6XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjFjYjk4YzFiLTAxNjAtNDhlZC1hNzdhLTQxZjAxNDk3YjE2YTt0b29sdV92cnR4XzAxS0ZGVXJLMmtyZTd6eTZnZng5VVNjUCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIGd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHkuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgNFx0VGhpcyBtb2R1bGUgcHJvdmlkZXMgdGhlIFNlbGVjdGlvbkZyYW1lIGNsYXNzIGZvciBzZWxlY3RpbmcgZXhwZXJpbWVudHMsIEVFR3MsXG4gICAgIDVcdG1ldHJpY3MsIGNoYW5uZWxzLCBhbmQgb3RoZXIgdmlzdWFsaXphdGlvbiBvcHRpb25zLlxuICAgICA2XHRcIlwiXCJcbiAgICAgN1x0XG4gICAgIDhcdGZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBEaWN0LCBUdXBsZSwgT3B0aW9uYWwsIEFueSwgQ2FsbGFibGVcbiAgICAgOVx0aW1wb3J0IG9zXG4gICAgMTBcdGltcG9ydCBjdXN0b210a2ludGVyIGFzIGN0a1xuICAgIDExXHRpbXBvcnQgdGtpbnRlciBhcyB0a1xuICAgIDEyXHRmcm9tIHRraW50ZXIgaW1wb3J0IG1lc3NhZ2Vib3hcbiAgICAxM1x0aW1wb3J0IG1uZVxuICAgIDE0XHRpbXBvcnQgbnVtcHkgYXMgbnBcbiAgICAxNVx0XG4gICAgMTZcdGZyb20gLmRhdGFiYXNlX2hhbmRsZXIgaW1wb3J0IERhdGFiYXNlSGFuZGxlclxuICAgIDE3XHRmcm9tIC5wbG90X2ZyYW1lIGltcG9ydCBNZXRyaWNzUGxvdEZyYW1lXG4gICAgMThcdGZyb20gLnV0aWxzIGltcG9ydCAoXG4gICAgMTlcdCAgICBnZXRfbGFiZWxfZm9udCxcbiAgICAyMFx0ICAgIGdldF9kcm9wZG93bl9mb250LFxuICAgIDIxXHQgICAgZ2V0X2J1dHRvbl9mb250LFxuICAgIDIyXHQgICAgQ09NTU9OX0NIQU5ORUxTLFxuICAgIDIzXHQgICAgQUxURVJOQVRJVkVfQ0hBTk5FTF9OQU1FU1xuICAgIDI0XHQpXG4gICAgMjVcdFxuICAgIDI2XHRcbiAgICAyN1x0Y2xhc3MgU2VsZWN0aW9uRnJhbWUoY3RrLkNUa0ZyYW1lKTpcbiAgICAyOFx0ICAgIFwiXCJcIlxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI0MTEwMjVlMy0zOWQyLTQ4YTgtOWVkMS03NDM1ZGY2OTYxMGM7dG9vbHVfdnJ0eF8wMTVLVFNhd3pjM3hXYVFEWUJLTTVkTWIiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBndWkvbWV0cmljc192aWV3ZXIvc2VsZWN0aW9uX2ZyYW1lLnB5LlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICA1NjFcdCAgICAgICAgc2VsZi5zdGFydF90aW1lX3Zhci5zZXQoXCIwXCIpXG4gICA1NjJcdCAgICAgICAgc2VsZi5lbmRfdGltZV92YXIuc2V0KFwiXCIpXG4gICA1NjNcdCAgICAgICAgc2VsZi51cGRhdGVfcGxvdCgpXG4gICA1NjRcdFxuICAgNTY1XHQgICAgZGVmIHZpZXdfZWVnKHNlbGYpOlxuICAgNTY2XHQgICAgICAgIFwiXCJcIk9wZW4gdGhlIGN1cnJlbnQgRUVHIGZpbGUgd2l0aCBNTkUgYW5kIGRpc3BsYXkgaXQgaW4gYSBuZXcgd2luZG93LlwiXCJcIlxuICAgNTY3XHQgICAgICAgIGlmIG5vdCBoYXNhdHRyKHNlbGYsICdjdXJyZW50X2V4cGVyaW1lbnRfaWQnKSBvciBub3QgaGFzYXR0cihzZWxmLCAnY3VycmVudF9lZWdfaWQnKTpcbiAgIDU2OFx0ICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93aW5mbyhcIk5vIEVFRyBTZWxlY3RlZFwiLCBcIlBsZWFzZSBzZWxlY3QgYW4gZXhwZXJpbWVudCBhbmQgRUVHIGZpbGUgZmlyc3QuXCIpXG4gICA1NjlcdCAgICAgICAgICAgIHJldHVyblxuICAgNTcwXHRcbiAgIDU3MVx0ICAgICAgICAjIEZpbmQgdGhlIHNlbGVjdGVkIEVFRyB0byBnZXQgaXRzIGZpbGVwYXRoXG4gICA1NzJcdCAgICAgICAgc2VsZWN0ZWRfZWVnID0gTm9uZVxuICAgNTczXHQgICAgICAgIGZvciBlZWcgaW4gc2VsZi5lZWdzOlxuICAgNTc0XHQgICAgICAgICAgICBpZiBlZWdbJ2lkJ10gPT0gc2VsZi5jdXJyZW50X2VlZ19pZDpcbiAgIDU3NVx0ICAgICAgICAgICAgICAgIHNlbGVjdGVkX2VlZyA9IGVlZ1xuICAgNTc2XHQgICAgICAgICAgICAgICAgYnJlYWtcbiAgIDU3N1x0XG4gICA1NzhcdCAgICAgICAgaWYgbm90IHNlbGVjdGVkX2VlZyBvciBub3Qgc2VsZWN0ZWRfZWVnLmdldCgnZmlsZXBhdGgnKTpcbiAgIDU3OVx0ICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoXCJFcnJvclwiLCBcIkNvdWxkIG5vdCBmaW5kIHRoZSBFRUcgZmlsZSBwYXRoLlwiKVxuICAgNTgwXHQgICAgICAgICAgICByZXR1cm5cbiAgIDU4MVx0XG4gICA1ODJcdCAgICAgICAgZWVnX2ZpbGVwYXRoID0gc2VsZWN0ZWRfZWVnWydmaWxlcGF0aCddXG4gICA1ODNcdFxuICAgNTg0XHQgICAgICAgICMgQ2hlY2sgaWYgdGhlIGZpbGUgZXhpc3RzXG4gICA1ODVcdCAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKGVlZ19maWxlcGF0aCk6XG4gICA1ODZcdCAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKFwiRmlsZSBOb3QgRm91bmRcIiwgZlwiVGhlIEVFRyBmaWxlIHdhcyBub3QgZm91bmQgYXQ6XFxue2VlZ19maWxlcGF0aH1cIilcbiAgIDU4N1x0ICAgICAgICAgICAgcmV0dXJuXG4gICA1ODhcdFxuICAgNTg5XHQgICAgICAgICMgR2V0IHRoZSBjdXJyZW50IHRpbWUgd2luZG93XG4gICA1OTBcdCAgICAgICAgdHJ5OlxuICAgNTkxXHQgICAgICAgICAgICBzdGFydF90aW1lID0gZmxvYXQoc2VsZi5zdGFydF90aW1lX3Zhci5nZXQoKSkgaWYgc2VsZi5zdGFydF90aW1lX3Zhci5nZXQoKSBlbHNlIE5vbmVcbiAgIDU5Mlx0ICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjpcbiAgIDU5M1x0ICAgICAgICAgICAgc3RhcnRfdGltZSA9IE5vbmVcbiAgIDU5NFx0XG4gICA1OTVcdCAgICAgICAgdHJ5OlxuICAgNTk2XHQgICAgICAgICAgICBlbmRfdGltZSA9IGZsb2F0KHNlbGYuZW5kX3RpbWVfdmFyLmdldCgpKSBpZiBzZWxmLmVuZF90aW1lX3Zhci5nZXQoKSBlbHNlIE5vbmVcbiAgIDU5N1x0ICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjpcbiAgIDU5OFx0ICAgICAgICAgICAgZW5kX3RpbWUgPSBOb25lXG4gICA1OTlcdFxuICAgNjAwXHQgICAgICAgICMgVHJ5IHRvIGxvYWQgdGhlIEVFRyBmaWxlIHdpdGggTU5FXG4gICA2MDFcdCAgICAgICAgdHJ5OlxuICAgNjAyXHQgICAgICAgICAgICAjIFNob3cgYSBsb2FkaW5nIG1lc3NhZ2VcbiAgIDYwM1x0ICAgICAgICAgICAgc2VsZi5sb2FkaW5nX3dpbmRvdyA9IHRrLlRvcGxldmVsKHNlbGYpXG4gICA2MDRcdCAgICAgICAgICAgIHNlbGYubG9hZGluZ193aW5kb3cudGl0bGUoXCJMb2FkaW5nIEVFR1wiKVxuICAgNjA1XHQgICAgICAgICAgICBzZWxmLmxvYWRpbmdfd2luZG93Lmdlb21ldHJ5KFwiMzAweDEwMFwiKVxuICAgNjA2XHQgICAgICAgICAgICBzZWxmLmxvYWRpbmdfd2luZG93LnRyYW5zaWVudChzZWxmLm1hc3RlcilcbiAgIDYwN1x0ICAgICAgICAgICAgc2VsZi5sb2FkaW5nX3dpbmRvdy5ncmFiX3NldCgpXG4gICA2MDhcdFxuICAgNjA5XHQgICAgICAgICAgICBsb2FkaW5nX2xhYmVsID0gdGsuTGFiZWwoc2VsZi5sb2FkaW5nX3dpbmRvdywgdGV4dD1cIkxvYWRpbmcgRUVHIGZpbGUuLi5cXG5UaGlzIG1heSB0YWtlIGEgbW9tZW50LlwiKVxuICAgNjEwXHQgICAgICAgICAgICBsb2FkaW5nX2xhYmVsLnBhY2soZXhwYW5kPVRydWUsIGZpbGw9dGsuQk9USCwgcGFkeD0yMCwgcGFkeT0yMClcbiAgIDYxMVx0XG4gICA2MTJcdCAgICAgICAgICAgIHNlbGYubG9hZGluZ193aW5kb3cudXBkYXRlKClcbiAgIDYxM1x0XG4gICA2MTRcdCAgICAgICAgICAgICMgTG9hZCB0aGUgRUVHIGZpbGVcbiAgIDYxNVx0ICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3KGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxuICAgNjE2XHRcbiAgIDYxN1x0ICAgICAgICAgICAgIyBDbG9zZSB0aGUgbG9hZGluZyB3aW5kb3dcbiAgIDYxOFx0ICAgICAgICAgICAgc2VsZi5sb2FkaW5nX3dpbmRvdy5kZXN0cm95KClcbiAgIDYxOVx0XG4gICA2MjBcdCAgICAgICAgICAgICMgU2V0IHRoZSB0aW1lIHdpbmRvdyBpZiBzcGVjaWZpZWRcbiAgIDYyMVx0ICAgICAgICAgICAgaWYgc3RhcnRfdGltZSBpcyBub3QgTm9uZSBhbmQgZW5kX3RpbWUgaXMgbm90IE5vbmU6XG4gICA2MjJcdCAgICAgICAgICAgICAgICAjIENvbnZlcnQgZnJvbSBzZWNvbmRzIHRvIHBvaW50cyBpZiBuZWVkZWRcbiAgIDYyM1x0ICAgICAgICAgICAgICAgIHN0YXJ0X2lkeCA9IG1heCgwLCBpbnQoc3RhcnRfdGltZSAqIHJhdy5pbmZvWydzZnJlcSddKSlcbiAgIDYyNFx0ICAgICAgICAgICAgICAgIGVuZF9pZHggPSBtaW4obGVuKHJhdy50aW1lcyksIGludChlbmRfdGltZSAqIHJhdy5pbmZvWydzZnJlcSddKSlcbiAgIDYyNVx0XG4gICA2MjZcdCAgICAgICAgICAgICAgICAjIENyZWF0ZSBhIHBsb3Qgd2l0aCB0aGUgc3BlY2lmaWVkIHRpbWUgd2luZG93XG4gICA2MjdcdCAgICAgICAgICAgICAgICBmaWcgPSByYXcucGxvdChzdGFydD1zdGFydF9pZHgsIGR1cmF0aW9uPShlbmRfaWR4LXN0YXJ0X2lkeCkvcmF3LmluZm9bJ3NmcmVxJ10sXG4gICA2MjhcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxpbmdzPSdhdXRvJywgYmxvY2s9RmFsc2UsIHNob3c9RmFsc2UpXG4gICA2MjlcdFxuICAgNjMwXHQgICAgICAgICAgICAgICAgIyBTZXQgdGhlIHdpbmRvdyB0aXRsZSB0byBpbmNsdWRlIHRoZSBFRUcgZmlsZW5hbWVcbiAgIDYzMVx0ICAgICAgICAgICAgICAgIGZpZy5jYW52YXMubWFuYWdlci5zZXRfd2luZG93X3RpdGxlKGZcIk1ORSBFRUcgVmlld2VyIC0ge3NlbGVjdGVkX2VlZ1snZmlsZW5hbWUnXX1cIilcbiAgIDYzMlx0XG4gICA2MzNcdCAgICAgICAgICAgICAgICAjIFNob3cgdGhlIHBsb3RcbiAgIDYzNFx0ICAgICAgICAgICAgICAgIGZpZy5zaG93KClcbiAgIDYzNVx0ICAgICAgICAgICAgZWxzZTpcbiAgIDYzNlx0ICAgICAgICAgICAgICAgICMgSnVzdCBzaG93IHRoZSB3aG9sZSBFRUdcbiAgIDYzN1x0ICAgICAgICAgICAgICAgIGZpZyA9IHJhdy5wbG90KHNjYWxpbmdzPSdhdXRvJywgYmxvY2s9RmFsc2UsIHNob3c9RmFsc2UpXG4gICA2MzhcdCAgICAgICAgICAgICAgICBmaWcuY2FudmFzLm1hbmFnZXIuc2V0X3dpbmRvd190aXRsZShmXCJNTkUgRUVHIFZpZXdlciAtIHtzZWxlY3RlZF9lZWdbJ2ZpbGVuYW1lJ119XCIpXG4gICA2MzlcdCAgICAgICAgICAgICAgICBmaWcuc2hvdygpXG4gICA2NDBcdFxuICAgNjQxXHQgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcbiAgIDY0Mlx0ICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoXCJFcnJvclwiLCBmXCJGYWlsZWQgdG8gb3BlbiB0aGUgRUVHIGZpbGUgd2l0aCBNTkU6XFxue3N0cihlKX1cIilcbiAgIDY0M1x0ICAgICAgICAgICAgaWYgaGFzYXR0cihzZWxmLCAnbG9hZGluZ193aW5kb3cnKSBhbmQgc2VsZi5sb2FkaW5nX3dpbmRvdy53aW5mb19leGlzdHMoKTpcbiAgIDY0NFx0ICAgICAgICAgICAgICAgIHNlbGYubG9hZGluZ193aW5kb3cuZGVzdHJveSgpXG4gICA2NDVcdFxuICAgNjQ2XHQgICAgZGVmIHVwZGF0ZV9wbG90KHNlbGYpOlxuICAgNjQ3XHQgICAgICAgIFwiXCJcIlVwZGF0ZSB0aGUgcGxvdCB3aXRoIHRoZSBzZWxlY3RlZCBtZXRyaWMgYW5kIGNoYW5uZWxzLlwiXCJcIlxuICAgNjQ4XHQgICAgICAgIGlmIG5vdCBoYXNhdHRyKHNlbGYsICdjdXJyZW50X2V4cGVyaW1lbnRfaWQnKSBvciBub3QgaGFzYXR0cihzZWxmLCAnY3VycmVudF9lZWdfaWQnKSBvciBub3Qgc2VsZi5jdXJyZW50X21ldHJpYzpcbiAgIDY0OVx0ICAgICAgICAgICAgcmV0dXJuXG4gICA2NTBcdFxuICAgNjUxXHQgICAgICAgICMgR2V0IHNlbGVjdGVkIGNoYW5uZWxzXG4gICA2NTJcdCAgICAgICAgc2VsZWN0ZWRfY2hhbm5lbHMgPSBbY2hhbm5lbCBmb3IgY2hhbm5lbCwgdmFyIGluIHNlbGYuY2hhbm5lbF92YXJzLml0ZW1zKCkgaWYgdmFyLmdldCgpXVxuICAgNjUzXHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMzI4MWE2ZGQtN2U2OS00OWVjLThhZjMtODk5Mjg3YTVhMDYzO3Rvb2x1X3ZydHhfMDExb3BNRXNTVldvaUVYcm5RWFVXaGFiIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgZ3VpL21ldHJpY3Nfdmlld2VyL3NlbGVjdGlvbl9mcmFtZS5weS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgMjgxXHQgICAgICAgICAgICBmb250PWRyb3Bkb3duX2ZvbnRcbiAgIDI4Mlx0ICAgICAgICApXG4gICAyODNcdCAgICAgICAgc2VsZi5lbmRfdGltZV9lbnRyeS5ncmlkKHJvdz0wLCBjb2x1bW49MywgcGFkeD01LCBwYWR5PTUsIHN0aWNreT1cImV3XCIpXG4gICAyODRcdFxuICAgMjg1XHQgICAgICAgICMgUmVzZXQgem9vbSBidXR0b25cbiAgIDI4Nlx0ICAgICAgICBzZWxmLnJlc2V0X3pvb21fYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgIDI4N1x0ICAgICAgICAgICAgc2VsZixcbiAgIDI4OFx0ICAgICAgICAgICAgdGV4dD1cIlJlc2V0IFpvb21cIixcbiAgIDI4OVx0ICAgICAgICAgICAgY29tbWFuZD1zZWxmLnJlc2V0X3RpbWVfd2luZG93LFxuICAgMjkwXHQgICAgICAgICAgICBoZWlnaHQ9MjUsXG4gICAyOTFcdCAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udFxuICAgMjkyXHQgICAgICAgIClcbiAgIDI5M1x0ICAgICAgICBzZWxmLnJlc2V0X3pvb21fYnV0dG9uLmdyaWQocm93PTcsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9KDUsIDApLCBzdGlja3k9XCJld1wiKVxuICAgMjk0XHRcbiAgIDI5NVx0ICAgICAgICAjIFVwZGF0ZSBidXR0b24gLSBtb3JlIGNvbXBhY3RcbiAgIDI5Nlx0ICAgICAgICBzZWxmLnVwZGF0ZV9idXR0b24gPSBjdGsuQ1RrQnV0dG9uKFxuICAgMjk3XHQgICAgICAgICAgICBzZWxmLFxuICAgMjk4XHQgICAgICAgICAgICB0ZXh0PVwiVXBkYXRlIFBsb3RcIixcbiAgIDI5OVx0ICAgICAgICAgICAgY29tbWFuZD1zZWxmLnVwZGF0ZV9wbG90LFxuICAgMzAwXHQgICAgICAgICAgICBoZWlnaHQ9MzAsXG4gICAzMDFcdCAgICAgICAgICAgIGZvbnQ9Z2V0X2J1dHRvbl9mb250KClcbiAgIDMwMlx0ICAgICAgICApXG4gICAzMDNcdCAgICAgICAgc2VsZi51cGRhdGVfYnV0dG9uLmdyaWQocm93PTcsIGNvbHVtbj0xLCBwYWR4PTUsIHBhZHk9KDUsIDApLCBzdGlja3k9XCJld1wiKVxuICAgMzA0XHRcbiAgIDMwNVx0ICAgICAgICAjIFZpZXcgRUVHIGJ1dHRvblxuICAgMzA2XHQgICAgICAgIHNlbGYudmlld19lZWdfYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgIDMwN1x0ICAgICAgICAgICAgc2VsZixcbiAgIDMwOFx0ICAgICAgICAgICAgdGV4dD1cIlZpZXcgRUVHXCIsXG4gICAzMDlcdCAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi52aWV3X2VlZyxcbiAgIDMxMFx0ICAgICAgICAgICAgaGVpZ2h0PTMwLFxuICAgMzExXHQgICAgICAgICAgICBmb250PWdldF9idXR0b25fZm9udCgpLFxuICAgMzEyXHQgICAgICAgICAgICBmZ19jb2xvcj1cIiMyYTYwOTlcIiAgIyBEaWZmZXJlbnQgY29sb3IgdG8gZGlzdGluZ3Vpc2ggaXRcbiAgIDMxM1x0ICAgICAgICApXG4gICAzMTRcdCAgICAgICAgc2VsZi52aWV3X2VlZ19idXR0b24uZ3JpZChyb3c9OCwgY29sdW1uPTAsIGNvbHVtbnNwYW49MiwgcGFkeD01LCBwYWR5PSg1LCA4KSwgc3RpY2t5PVwiZXdcIilcbiAgIDMxNVx0XG4gICAzMTZcdCAgICAgICAgIyBJbml0aWFsaXplIHdpdGggdGhlIGZpcnN0IGV4cGVyaW1lbnQgaWYgYXZhaWxhYmxlXG4gICAzMTdcdCAgICAgICAgaWYgc2VsZi5leHBlcmltZW50czpcbiAgIDMxOFx0ICAgICAgICAgICAgc2VsZi5vbl9leHBlcmltZW50X3NlbGVjdGVkKGV4cGVyaW1lbnRfbmFtZXNbMF0pXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImFkMTllMzE0LTI3MzAtNGRkYi04ZDgzLTRiNzNlYmRlNmQxNzt0b29sdV92cnR4XzAxN1V2UUZWR0xHRkNuWTRVbjdteHdQaCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIGd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHkuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICA0M1x0XG4gICAgNDRcdCAgICAgICAgc2VsZi5kYl9oYW5kbGVyID0gZGJfaGFuZGxlclxuICAgIDQ1XHQgICAgICAgIHNlbGYucGxvdF9mcmFtZSA9IHBsb3RfZnJhbWVcbiAgICA0Nlx0XG4gICAgNDdcdCAgICAgICAgIyBDb25maWd1cmUgZ3JpZCBsYXlvdXRcbiAgICA0OFx0ICAgICAgICBzZWxmLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgIDQ5XHQgICAgICAgIHNlbGYuZ3JpZF9jb2x1bW5jb25maWd1cmUoMSwgd2VpZ2h0PTEpXG4gICAgNTBcdCAgICAgICAgc2VsZi5ncmlkX3Jvd2NvbmZpZ3VyZSg4LCB3ZWlnaHQ9MCkgICMgUm93IGZvciB0aGUgVmlldyBFRUcgYnV0dG9uXG4gICAgNTFcdFxuICAgIDUyXHQgICAgICAgICMgQ3JlYXRlIGZvbnRzXG4gICAgNTNcdCAgICAgICAgbGFiZWxfZm9udCA9IGdldF9sYWJlbF9mb250KClcbiAgICA1NFx0ICAgICAgICBkcm9wZG93bl9mb250ID0gZ2V0X2Ryb3Bkb3duX2ZvbnQoKVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIxZWVhMzE4OC0zN2RkLTRjNDEtYWVhYS0zYzJlODQ4NGU4OGM7dG9vbHVfdnJ0eF8wMUExMWJ3R3F4WjlmR3dmelpKcWQxWm0iOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBndWkvbWV0cmljc192aWV3ZXIvc2VsZWN0aW9uX2ZyYW1lLnB5LlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMjNcdCAgICBBTFRFUk5BVElWRV9DSEFOTkVMX05BTUVTXG4gICAgMjRcdClcbiAgICAyNVx0XG4gICAgMjZcdFxuICAgIDI3XHRjbGFzcyBTZWxlY3Rpb25GcmFtZShjdGsuQ1RrRnJhbWUpOlxuICAgIDI4XHQgICAgXCJcIlwiXG4gICAgMjlcdCAgICBBIGZyYW1lIGNvbnRhaW5pbmcgY29udHJvbHMgZm9yIHNlbGVjdGluZyBleHBlcmltZW50cywgRUVHcywgbWV0cmljcywgY2hhbm5lbHMsIGFuZCBvdGhlciBvcHRpb25zLlxuICAgIDMwXHQgICAgQWxzbyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHZpZXcgdGhlIG9yaWdpbmFsIEVFRyBmaWxlIHVzaW5nIE1ORSwgc3luY2hyb25pemVkIHdpdGggdGhlIGN1cnJlbnQgdGltZSB3aW5kb3cuXG4gICAgMzFcdCAgICBcIlwiXCJcbiAgICAzMlx0XG4gICAgMzNcdCAgICBkZWYgX19pbml0X18oc2VsZiwgbWFzdGVyLCBkYl9oYW5kbGVyOiBEYXRhYmFzZUhhbmRsZXIsIHBsb3RfZnJhbWU6IE1ldHJpY3NQbG90RnJhbWUsICoqa3dhcmdzKTpcbiAgICAzNFx0ICAgICAgICBcIlwiXCJcbiAgICAzNVx0ICAgICAgICBJbml0aWFsaXplIHRoZSBzZWxlY3Rpb24gZnJhbWUuXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjc0MWI4ZTE5LTI4MDUtNDhhZS04NDRmLTE0ZmZhN2VhZTNhODt0b29sdV92cnR4XzAxTXJYNmlFSlFCNHp3N2RBSDRHOFZNQSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIGd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHkuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDYyM1x0ICAgICAgICAgICAgbG9hZGluZ19sYWJlbC5wYWNrKGV4cGFuZD1UcnVlLCBmaWxsPXRrLkJPVEgsIHBhZHg9MjAsIHBhZHk9MjApXG4gICA2MjRcdFxuICAgNjI1XHQgICAgICAgICAgICBzZWxmLmxvYWRpbmdfd2luZG93LnVwZGF0ZSgpXG4gICA2MjZcdFxuICAgNjI3XHQgICAgICAgICAgICAjIExvYWQgdGhlIEVFRyBmaWxlIC0gdHJ5IGRpZmZlcmVudCByZWFkZXJzIGJhc2VkIG9uIGZpbGUgZXh0ZW5zaW9uXG4gICA2MjhcdCAgICAgICAgICAgIGZpbGVfZXh0ID0gb3MucGF0aC5zcGxpdGV4dChlZWdfZmlsZXBhdGgpWzFdLmxvd2VyKClcbiAgIDYyOVx0XG4gICA2MzBcdCAgICAgICAgICAgIGlmIGZpbGVfZXh0ID09ICcuZWRmJzpcbiAgIDYzMVx0ICAgICAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3Jhd19lZGYoZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXG4gICA2MzJcdCAgICAgICAgICAgIGVsaWYgZmlsZV9leHQgPT0gJy5iZGYnOlxuICAgNjMzXHQgICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2JkZihlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcbiAgIDYzNFx0ICAgICAgICAgICAgZWxpZiBmaWxlX2V4dCA9PSAnLmdkZic6XG4gICA2MzVcdCAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXdfZ2RmKGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxuICAgNjM2XHQgICAgICAgICAgICBlbGlmIGZpbGVfZXh0IGluIFsnLnZoZHInLCAnLnZtcmsnLCAnLmVlZyddOlxuICAgNjM3XHQgICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2JyYWludmlzaW9uKGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxuICAgNjM4XHQgICAgICAgICAgICBlbGlmIGZpbGVfZXh0ID09ICcuY250JzpcbiAgIDYzOVx0ICAgICAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3Jhd19jbnQoZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXG4gICA2NDBcdCAgICAgICAgICAgIGVsaWYgZmlsZV9leHQgPT0gJy5zZXQnOlxuICAgNjQxXHQgICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2VlZ2xhYihlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcbiAgIDY0Mlx0ICAgICAgICAgICAgZWxzZTpcbiAgIDY0M1x0ICAgICAgICAgICAgICAgICMgVHJ5IHRoZSBnZW5lcmljIHJlYWRlciBhcyBhIGZhbGxiYWNrXG4gICA2NDRcdCAgICAgICAgICAgICAgICB0cnk6XG4gICA2NDVcdCAgICAgICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3KGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxuICAgNjQ2XHQgICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxuICAgNjQ3XHQgICAgICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZlwiVW5zdXBwb3J0ZWQgZmlsZSBmb3JtYXQ6IHtmaWxlX2V4dH0uIEVycm9yOiB7c3RyKGUpfVwiKVxuICAgNjQ4XHRcbiAgIDY0OVx0ICAgICAgICAgICAgIyBDbG9zZSB0aGUgbG9hZGluZyB3aW5kb3dcbiAgIDY1MFx0ICAgICAgICAgICAgc2VsZi5sb2FkaW5nX3dpbmRvdy5kZXN0cm95KClcbiAgIDY1MVx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX19LCJkcmFmdEV4Y2hhbmdlIjp7InJlcXVlc3RfbWVzc2FnZSI6IiIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgifV19LCJzdGF0dXMiOiJkcmFmdCJ9LCJkcmFmdEFjdGl2ZUNvbnRleHRJZHMiOlsiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyL2d1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHkiLCIvZ3VpIiwiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyZmFsc2VmYWxzZSIsImFnZW50TWVtb3JpZXMiXSwicmVxdWVzdElkcyI6W10sImlzUGlubmVkIjpmYWxzZSwiaXNTaGFyZWFibGUiOnRydWUsImV4dHJhRGF0YSI6eyJpc0FnZW50Q29udmVyc2F0aW9uIjp0cnVlLCJoYXNEaXJ0eUVkaXRzIjp0cnVlfSwicGVyc29uYVR5cGUiOjB9LCIzOWZlYWQ5ZC0wZDJhLTRiYjgtOWViYi0yMjJiYWYwOWJiMjUiOnsiaWQiOiIzOWZlYWQ5ZC0wZDJhLTRiYjgtOWViYi0yMjJiYWYwOWJiMjUiLCJjcmVhdGVkQXRJc28iOiIyMDI1LTA0LTE2VDE5OjU0OjQxLjU5MFoiLCJsYXN0SW50ZXJhY3RlZEF0SXNvIjoiMjAyNS0wNC0xNlQxOTo1Njo1OS43NjRaIiwiY2hhdEhpc3RvcnkiOlt7InJlcXVlc3RfaWQiOiI1NTBiOWYwOS1hMDk0LTQ4ZTMtODZkMC1mNTU2NjJmZTNhZmQiLCJ1dWlkIjoiMDRiNmY1NzktMTNmNS00NTAxLTllZjUtYjdiMTlhYTY1YWYwIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy1jaGVja3BvaW50LWRlbGltaXRlciIsInN0YXR1cyI6InN1Y2Nlc3MiLCJmcm9tVGltZXN0YW1wIjowLCJ0b1RpbWVzdGFtcCI6MTc0NDgzMzI4MTU5MSwic2Vlbl9zdGF0ZSI6InNlZW4ifSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMmM5ZjRmY2YtNGQ3MC00NGE0LWJmZTItYzUzMTA0MjNjNzVlIiwicmVxdWVzdF9tZXNzYWdlIjoibWFrZSBpdCBzbyB0aGF0IHRoZSBwbG90IGZyb20gbW5lIGlzIGtlcHQgYWxpdmUgaW4gYSBzdWJwcm9jZXNzIGluc3RlYWQgb2YgYmxvY2tpbmcgdGhlIHdob2xlIGFwcGxpY2F0aW9uIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Im1ha2UgaXQgc28gdGhhdCB0aGUgcGxvdCBmcm9tIG1uZSBpcyBrZXB0IGFsaXZlIGluIGEgc3VicHJvY2VzcyBpbnN0ZWFkIG9mIGJsb2NraW5nIHRoZSB3aG9sZSBhcHBsaWNhdGlvbiJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQU1uWk51U05GUFFKanZEM1ZOaEhiQSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJndWkvbWV0cmljc192aWV3ZXIvc2VsZWN0aW9uX2ZyYW1lLnB5XCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJJ2xsIGhlbHAgeW91IG1vZGlmeSB0aGUgY29kZSB0byBydW4gdGhlIE1ORSBwbG90IGluIGEgc3VicHJvY2VzcyBzbyBpdCBkb2Vzbid0IGJsb2NrIHRoZSBtYWluIGFwcGxpY2F0aW9uLiBMZXQgbWUgZmlyc3QgZ2F0aGVyIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIHRvIHVuZGVyc3RhbmQgaG93IHRoZSBwbG90dGluZyBpcyBjdXJyZW50bHkgZG9uZS5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50IjoibWFrZSBpdCBzbyB0aGF0IHRoZSBwbG90IGZyb20gbW5lIGlzIGtlcHQgYWxpdmUgaW4gYSBzdWJwcm9jZXNzIGluc3RlYWQgb2YgYmxvY2tpbmcgdGhlIHdob2xlIGFwcGxpY2F0aW9uIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIiwiZm9sZGVyUm9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJJJ2xsIGhlbHAgeW91IG1vZGlmeSB0aGUgY29kZSB0byBydW4gdGhlIE1ORSBwbG90IGluIGEgc3VicHJvY2VzcyBzbyBpdCBkb2Vzbid0IGJsb2NrIHRoZSBtYWluIGFwcGxpY2F0aW9uLiBMZXQgbWUgZmlyc3QgZ2F0aGVyIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIHRvIHVuZGVyc3RhbmQgaG93IHRoZSBwbG90dGluZyBpcyBjdXJyZW50bHkgZG9uZS5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI1OTQwODhhNi0zZGQyLTQ1MDgtYWI1Yy1iY2YxZTYyZmYxMjUiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFMVHBac3hhRkdlVE14V3IzaVNNdkFDIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJGaW5kIGFueSBleGlzdGluZyBjb2RlIGluIHRoZSBjb2RlYmFzZSB0aGF0IHVzZXMgbXVsdGlwcm9jZXNzaW5nLCBzdWJwcm9jZXNzLCBvciB0aHJlYWRpbmcgdGhhdCBtaWdodCBiZSBoZWxwZnVsIGZvciBydW5uaW5nIHRoZSBNTkUgcGxvdCBpbiBhIHNlcGFyYXRlIHByb2Nlc3MuXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgSSBuZWVkIHRvIHVuZGVyc3RhbmQgaG93IHRoZSBNTkUgcGxvdHRpbmcgaXMgY3VycmVudGx5IGltcGxlbWVudGVkLiBMZXQgbWUgbG9vayBhdCB0aGUgYHZpZXdfZWVnYCBtZXRob2QgaW4gbW9yZSBkZXRhaWwuIEkgY2FuIHNlZSB0aGF0IHRoZSBNTkUgcGxvdCBpcyBiZWluZyBjYWxsZWQgd2l0aCBgYmxvY2s9VHJ1ZWAgd2hpY2ggaXMgY2F1c2luZyBpdCB0byBibG9jayB0aGUgbWFpbiBhcHBsaWNhdGlvbi4gSSdsbCBuZWVkIHRvIG1vZGlmeSB0aGlzIHRvIHJ1biBpbiBhIHN1YnByb2Nlc3MuXG5cbkxldCBtZSBhbHNvIGNoZWNrIGlmIHRoZXJlIGFyZSBhbnkgaW1wb3J0cyBvciB1dGlsaXRpZXMgSSBtaWdodCBuZWVkIHRvIHVzZSBmb3IgaW1wbGVtZW50aW5nIHRoZSBzdWJwcm9jZXNzIGZ1bmN0aW9uYWxpdHk6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIGd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHk6XG4gICAgIDFcdFwiXCJcIlxuICAgICAyXHRTZWxlY3Rpb24gZnJhbWUgZm9yIHRoZSBFRUcgTWV0cmljcyBWaWV3ZXIuXG4gICAgIDNcdFxuICAgICA0XHRUaGlzIG1vZHVsZSBwcm92aWRlcyB0aGUgU2VsZWN0aW9uRnJhbWUgY2xhc3MgZm9yIHNlbGVjdGluZyBleHBlcmltZW50cywgRUVHcyxcbiAgICAgNVx0bWV0cmljcywgY2hhbm5lbHMsIGFuZCBvdGhlciB2aXN1YWxpemF0aW9uIG9wdGlvbnMuXG4gICAgIDZcdFwiXCJcIlxuICAgICA3XHRcbiAgICAgOFx0ZnJvbSB0eXBpbmcgaW1wb3J0IExpc3QsIERpY3QsIFR1cGxlLCBPcHRpb25hbCwgQW55LCBDYWxsYWJsZVxuICAgICA5XHRpbXBvcnQgb3NcbiAgICAxMFx0aW1wb3J0IGN1c3RvbXRraW50ZXIgYXMgY3RrXG4gICAgMTFcdGltcG9ydCB0a2ludGVyIGFzIHRrXG4gICAgMTJcdGZyb20gdGtpbnRlciBpbXBvcnQgbWVzc2FnZWJveFxuICAgIDEzXHRpbXBvcnQgbW5lXG4gICAgMTRcdGltcG9ydCBudW1weSBhcyBucFxuICAgIDE1XHRcbiAgICAxNlx0ZnJvbSAuZGF0YWJhc2VfaGFuZGxlciBpbXBvcnQgRGF0YWJhc2VIYW5kbGVyXG4gICAgMTdcdGZyb20gLnBsb3RfZnJhbWUgaW1wb3J0IE1ldHJpY3NQbG90RnJhbWVcbiAgICAxOFx0ZnJvbSAudXRpbHMgaW1wb3J0IChcbiAgICAxOVx0ICAgIGdldF9sYWJlbF9mb250LFxuICAgIDIwXHQgICAgZ2V0X2Ryb3Bkb3duX2ZvbnQsXG4gICAgMjFcdCAgICBnZXRfYnV0dG9uX2ZvbnQsXG4gICAgMjJcdCAgICBDT01NT05fQ0hBTk5FTFMsXG4gICAgMjNcdCAgICBBTFRFUk5BVElWRV9DSEFOTkVMX05BTUVTXG4gICAgMjRcdClcbiAgICAyNVx0XG4gICAgMjZcdFxuICAgIDI3XHRjbGFzcyBTZWxlY3Rpb25GcmFtZShjdGsuQ1RrRnJhbWUpOlxuICAgIDI4XHQgICAgXCJcIlwiXG4gICAgMjlcdCAgICBBIGZyYW1lIGNvbnRhaW5pbmcgY29udHJvbHMgZm9yIHNlbGVjdGluZyBleHBlcmltZW50cywgRUVHcywgbWV0cmljcywgY2hhbm5lbHMsIGFuZCBvdGhlciBvcHRpb25zLlxuICAgIDMwXHQgICAgQWxzbyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHZpZXcgdGhlIG9yaWdpbmFsIEVFRyBmaWxlIHVzaW5nIE1ORSwgc3luY2hyb25pemVkIHdpdGggdGhlIGN1cnJlbnQgdGltZSB3aW5kb3cuXG4gICAgMzFcdCAgICBcIlwiXCJcbiAgICAzMlx0XG4gICAgMzNcdCAgICBkZWYgX19pbml0X18oc2VsZiwgbWFzdGVyLCBkYl9oYW5kbGVyOiBEYXRhYmFzZUhhbmRsZXIsIHBsb3RfZnJhbWU6IE1ldHJpY3NQbG90RnJhbWUsICoqa3dhcmdzKTpcbiAgICAzNFx0ICAgICAgICBcIlwiXCJcbiAgICAzNVx0ICAgICAgICBJbml0aWFsaXplIHRoZSBzZWxlY3Rpb24gZnJhbWUuXG4gICAgMzZcdFxuICAgIDM3XHQgICAgICAgIEFyZ3M6XG4gICAgMzhcdCAgICAgICAgICAgIG1hc3RlcjogVGhlIHBhcmVudCB3aWRnZXRcbiAgICAzOVx0ICAgICAgICAgICAgZGJfaGFuZGxlcjogRGF0YWJhc2VIYW5kbGVyIGluc3RhbmNlIGZvciBxdWVyeWluZyB0aGUgZGF0YWJhc2VcbiAgICA0MFx0ICAgICAgICAgICAgcGxvdF9mcmFtZTogTWV0cmljc1Bsb3RGcmFtZSBpbnN0YW5jZSBmb3IgZGlzcGxheWluZyBwbG90c1xuICAgIDQxXHQgICAgICAgICAgICAqKmt3YXJnczogQWRkaXRpb25hbCBhcmd1bWVudHMgZm9yIHRoZSBDVGtGcmFtZSBjb25zdHJ1Y3RvclxuICAgIDQyXHQgICAgICAgIFwiXCJcIlxuICAgIDQzXHQgICAgICAgIHN1cGVyKCkuX19pbml0X18obWFzdGVyLCAqKmt3YXJncylcbiAgICA0NFx0XG4gICAgNDVcdCAgICAgICAgc2VsZi5kYl9oYW5kbGVyID0gZGJfaGFuZGxlclxuICAgIDQ2XHQgICAgICAgIHNlbGYucGxvdF9mcmFtZSA9IHBsb3RfZnJhbWVcbiAgICA0N1x0XG4gICAgNDhcdCAgICAgICAgIyBDb25maWd1cmUgZ3JpZCBsYXlvdXRcbiAgICA0OVx0ICAgICAgICBzZWxmLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgIDUwXHQgICAgICAgIHNlbGYuZ3JpZF9jb2x1bW5jb25maWd1cmUoMSwgd2VpZ2h0PTEpXG4gICAgNTFcdCAgICAgICAgc2VsZi5ncmlkX3Jvd2NvbmZpZ3VyZSg4LCB3ZWlnaHQ9MCkgICMgUm93IGZvciB0aGUgVmlldyBFRUcgYnV0dG9uXG4gICAgNTJcdFxuICAgIDUzXHQgICAgICAgICMgQ3JlYXRlIGZvbnRzXG4gICAgNTRcdCAgICAgICAgbGFiZWxfZm9udCA9IGdldF9sYWJlbF9mb250KClcbiAgICA1NVx0ICAgICAgICBkcm9wZG93bl9mb250ID0gZ2V0X2Ryb3Bkb3duX2ZvbnQoKVxuICAgIDU2XHRcbiAgICA1N1x0ICAgICAgICAjIEV4cGVyaW1lbnQgc2VsZWN0aW9uIC0gbW9yZSBjb21wYWN0XG4gICAgNThcdCAgICAgICAgc2VsZi5leHBlcmltZW50X2xhYmVsID0gY3RrLkNUa0xhYmVsKHNlbGYsIHRleHQ9XCJTZWxlY3QgRXhwZXJpbWVudDpcIiwgZm9udD1sYWJlbF9mb250KVxuICAgIDU5XHQgICAgICAgIHNlbGYuZXhwZXJpbWVudF9sYWJlbC5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PSg4LCAwKSwgc3RpY2t5PVwid1wiKVxuICAgIDYwXHRcbiAgICA2MVx0ICAgICAgICBzZWxmLmV4cGVyaW1lbnRzID0gc2VsZi5kYl9oYW5kbGVyLmdldF9leHBlcmltZW50cygpXG4gICAgNjJcdCAgICAgICAgZXhwZXJpbWVudF9uYW1lcyA9IFtmXCJ7ZXhwWyduYW1lJ119ICh7ZXhwWydydW5fbmFtZSddfSlcIiBmb3IgZXhwIGluIHNlbGYuZXhwZXJpbWVudHNdXG4gICAgNjNcdFxuICAgIDY0XHQgICAgICAgIHNlbGYuZXhwZXJpbWVudF92YXIgPSBjdGsuU3RyaW5nVmFyKHZhbHVlPWV4cGVyaW1lbnRfbmFtZXNbMF0gaWYgZXhwZXJpbWVudF9uYW1lcyBlbHNlIFwiXCIpXG4gICAgNjVcdCAgICAgICAgc2VsZi5leHBlcmltZW50X2Ryb3Bkb3duID0gY3RrLkNUa09wdGlvbk1lbnUoXG4gICAgNjZcdCAgICAgICAgICAgIHNlbGYsXG4gICAgNjdcdCAgICAgICAgICAgIHZhbHVlcz1leHBlcmltZW50X25hbWVzLFxuICAgIDY4XHQgICAgICAgICAgICB2YXJpYWJsZT1zZWxmLmV4cGVyaW1lbnRfdmFyLFxuICAgIDY5XHQgICAgICAgICAgICBjb21tYW5kPXNlbGYub25fZXhwZXJpbWVudF9zZWxlY3RlZCxcbiAgICA3MFx0ICAgICAgICAgICAgaGVpZ2h0PTI4LFxuICAgIDcxXHQgICAgICAgICAgICBmb250PWRyb3Bkb3duX2ZvbnQsXG4gICAgNzJcdCAgICAgICAgICAgIGRyb3Bkb3duX2ZvbnQ9ZHJvcGRvd25fZm9udFxuICAgIDczXHQgICAgICAgIClcbiAgICA3NFx0ICAgICAgICBzZWxmLmV4cGVyaW1lbnRfZHJvcGRvd24uZ3JpZChyb3c9MCwgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT0oOCwgMCksIHN0aWNreT1cImV3XCIpXG4gICAgNzVcdFxuICAgIDc2XHQgICAgICAgICMgRUVHIHNlbGVjdGlvbiAtIG1vcmUgY29tcGFjdFxuICAgIDc3XHQgICAgICAgIHNlbGYuZWVnX2xhYmVsID0gY3RrLkNUa0xhYmVsKHNlbGYsIHRleHQ9XCJTZWxlY3QgRUVHOlwiLCBmb250PWxhYmVsX2ZvbnQpXG4gICAgNzhcdCAgICAgICAgc2VsZi5lZWdfbGFiZWwuZ3JpZChyb3c9MSwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0oOCwgMCksIHN0aWNreT1cIndcIilcbiAgICA3OVx0XG4gICAgODBcdCAgICAgICAgc2VsZi5lZWdfdmFyID0gY3RrLlN0cmluZ1ZhcigpXG4gICAgODFcdCAgICAgICAgc2VsZi5lZWdfZHJvcGRvd24gPSBjdGsuQ1RrT3B0aW9uTWVudShcbiAgICA4Mlx0ICAgICAgICAgICAgc2VsZixcbiAgICA4M1x0ICAgICAgICAgICAgdmFsdWVzPVtdLFxuICAgIDg0XHQgICAgICAgICAgICB2YXJpYWJsZT1zZWxmLmVlZ192YXIsXG4gICAgODVcdCAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi5vbl9lZWdfc2VsZWN0ZWQsXG4gICAgODZcdCAgICAgICAgICAgIGhlaWdodD0yOCxcbiAgICA4N1x0ICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250LFxuICAgIDg4XHQgICAgICAgICAgICBkcm9wZG93bl9mb250PWRyb3Bkb3duX2ZvbnRcbiAgICA4OVx0ICAgICAgICApXG4gICAgOTBcdCAgICAgICAgc2VsZi5lZWdfZHJvcGRvd24uZ3JpZChyb3c9MSwgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT0oOCwgMCksIHN0aWNreT1cImV3XCIpXG4gICAgOTFcdFxuICAgIDkyXHQgICAgICAgICMgTWV0cmljIHNlbGVjdGlvbiAtIG1vcmUgY29tcGFjdFxuICAgIDkzXHQgICAgICAgIHNlbGYubWV0cmljX2xhYmVsID0gY3RrLkNUa0xhYmVsKHNlbGYsIHRleHQ9XCJTZWxlY3QgTWV0cmljOlwiLCBmb250PWxhYmVsX2ZvbnQpXG4gICAgOTRcdCAgICAgICAgc2VsZi5tZXRyaWNfbGFiZWwuZ3JpZChyb3c9MiwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0oOCwgMCksIHN0aWNreT1cIndcIilcbiAgICA5NVx0XG4gICAgOTZcdCAgICAgICAgc2VsZi5tZXRyaWNfdmFyID0gY3RrLlN0cmluZ1ZhcigpXG4gICAgOTdcdCAgICAgICAgc2VsZi5tZXRyaWNfZHJvcGRvd24gPSBjdGsuQ1RrT3B0aW9uTWVudShcbiAgICA5OFx0ICAgICAgICAgICAgc2VsZixcbiAgICA5OVx0ICAgICAgICAgICAgdmFsdWVzPVtdLFxuICAgMTAwXHQgICAgICAgICAgICB2YXJpYWJsZT1zZWxmLm1ldHJpY192YXIsXG4gICAxMDFcdCAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi5vbl9tZXRyaWNfc2VsZWN0ZWQsXG4gICAxMDJcdCAgICAgICAgICAgIGhlaWdodD0yOCxcbiAgIDEwM1x0ICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250LFxuICAgMTA0XHQgICAgICAgICAgICBkcm9wZG93bl9mb250PWRyb3Bkb3duX2ZvbnRcbiAgIDEwNVx0ICAgICAgICApXG4gICAxMDZcdCAgICAgICAgc2VsZi5tZXRyaWNfZHJvcGRvd24uZ3JpZChyb3c9MiwgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT0oOCwgMCksIHN0aWNreT1cImV3XCIpXG4gICAxMDdcdFxuICAgMTA4XHQgICAgICAgICMgQ2hhbm5lbHMgc2VsZWN0aW9uIHdpdGggbW9yZSBjb21wYWN0IGxheW91dFxuICAgMTA5XHQgICAgICAgIHNlbGYuY2hhbm5lbHNfbGFiZWwgPSBjdGsuQ1RrTGFiZWwoc2VsZiwgdGV4dD1cIlNlbGVjdCBDaGFubmVsczpcIiwgZm9udD1sYWJlbF9mb250KVxuICAgMTEwXHQgICAgICAgIHNlbGYuY2hhbm5lbHNfbGFiZWwuZ3JpZChyb3c9MywgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0oOCwgMCksIHN0aWNreT1cIm53XCIpXG4gICAxMTFcdFxuICAgMTEyXHQgICAgICAgICMgQ3JlYXRlIGEgZnJhbWUgZm9yIGNoYW5uZWwgc2VsZWN0aW9uIGJ1dHRvbnMgLSBtb3JlIGNvbXBhY3QgbGF5b3V0XG4gICAxMTNcdCAgICAgICAgc2VsZi5jaGFubmVsX2J1dHRvbnNfZnJhbWUgPSBjdGsuQ1RrRnJhbWUoc2VsZilcbiAgIDExNFx0ICAgICAgICBzZWxmLmNoYW5uZWxfYnV0dG9uc19mcmFtZS5ncmlkKHJvdz0zLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PSg4LCAwKSwgc3RpY2t5PVwiZXdcIilcbiAgIDExNVx0ICAgICAgICBzZWxmLmNoYW5uZWxfYnV0dG9uc19mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgIDExNlx0ICAgICAgICBzZWxmLmNoYW5uZWxfYnV0dG9uc19mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgxLCB3ZWlnaHQ9MSlcbiAgIDExN1x0ICAgICAgICBzZWxmLmNoYW5uZWxfYnV0dG9uc19mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgyLCB3ZWlnaHQ9MSlcbiAgIDExOFx0XG4gICAxMTlcdCAgICAgICAgIyBBZGQgc2VsZWN0IGFsbCBhbmQgZGVzZWxlY3QgYWxsIGJ1dHRvbnMgd2l0aCBzbWFsbGVyIGZvbnQgYW5kIG1vcmUgY29tcGFjdCBkZXNpZ25cbiAgIDEyMFx0ICAgICAgICBidXR0b25fZm9udCA9IGRyb3Bkb3duX2ZvbnRcbiAgIDEyMVx0XG4gICAxMjJcdCAgICAgICAgc2VsZi5zZWxlY3RfYWxsX2J1dHRvbiA9IGN0ay5DVGtCdXR0b24oXG4gICAxMjNcdCAgICAgICAgICAgIHNlbGYuY2hhbm5lbF9idXR0b25zX2ZyYW1lLFxuICAgMTI0XHQgICAgICAgICAgICB0ZXh0PVwiU2VsZWN0IEFsbFwiLFxuICAgMTI1XHQgICAgICAgICAgICBjb21tYW5kPXNlbGYuc2VsZWN0X2FsbF9jaGFubmVscyxcbiAgIDEyNlx0ICAgICAgICAgICAgaGVpZ2h0PTIyLFxuICAgMTI3XHQgICAgICAgICAgICBmb250PWJ1dHRvbl9mb250XG4gICAxMjhcdCAgICAgICAgKVxuICAgMTI5XHQgICAgICAgIHNlbGYuc2VsZWN0X2FsbF9idXR0b24uZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9MiwgcGFkeT0zLCBzdGlja3k9XCJld1wiKVxuICAgMTMwXHRcbiAgIDEzMVx0ICAgICAgICBzZWxmLmRlc2VsZWN0X2FsbF9idXR0b24gPSBjdGsuQ1RrQnV0dG9uKFxuICAgMTMyXHQgICAgICAgICAgICBzZWxmLmNoYW5uZWxfYnV0dG9uc19mcmFtZSxcbiAgIDEzM1x0ICAgICAgICAgICAgdGV4dD1cIkRlc2VsZWN0IEFsbFwiLFxuICAgMTM0XHQgICAgICAgICAgICBjb21tYW5kPXNlbGYuZGVzZWxlY3RfYWxsX2NoYW5uZWxzLFxuICAgMTM1XHQgICAgICAgICAgICBoZWlnaHQ9MjIsXG4gICAxMzZcdCAgICAgICAgICAgIGZvbnQ9YnV0dG9uX2ZvbnRcbiAgIDEzN1x0ICAgICAgICApXG4gICAxMzhcdCAgICAgICAgc2VsZi5kZXNlbGVjdF9hbGxfYnV0dG9uLmdyaWQocm93PTAsIGNvbHVtbj0xLCBwYWR4PTIsIHBhZHk9Mywgc3RpY2t5PVwiZXdcIilcbiAgIDEzOVx0XG4gICAxNDBcdCAgICAgICAgIyBBZGQgc2VsZWN0IGNvbW1vbiBjaGFubmVscyBidXR0b25cbiAgIDE0MVx0ICAgICAgICBzZWxmLnNlbGVjdF9jb21tb25fYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgIDE0Mlx0ICAgICAgICAgICAgc2VsZi5jaGFubmVsX2J1dHRvbnNfZnJhbWUsXG4gICAxNDNcdCAgICAgICAgICAgIHRleHQ9XCJDb21tb24gQ2hhbm5lbHNcIixcbiAgIDE0NFx0ICAgICAgICAgICAgY29tbWFuZD1zZWxmLnNlbGVjdF9jb21tb25fY2hhbm5lbHMsXG4gICAxNDVcdCAgICAgICAgICAgIGhlaWdodD0yMixcbiAgIDE0Nlx0ICAgICAgICAgICAgZm9udD1idXR0b25fZm9udFxuICAgMTQ3XHQgICAgICAgIClcbiAgIDE0OFx0ICAgICAgICBzZWxmLnNlbGVjdF9jb21tb25fYnV0dG9uLmdyaWQocm93PTAsIGNvbHVtbj0yLCBwYWR4PTIsIHBhZHk9Mywgc3RpY2t5PVwiZXdcIilcbiAgIDE0OVx0XG4gICAxNTBcdCAgICAgICAgIyBDcmVhdGUgYSBzY3JvbGxhYmxlIGZyYW1lIGZvciBjaGFubmVsIGNoZWNrYm94ZXMgLSBpbmNyZWFzZWQgaGVpZ2h0IGZvciBiZXR0ZXIgdXNhYmlsaXR5XG4gICAxNTFcdCAgICAgICAgc2VsZi5jaGFubmVsc19mcmFtZSA9IGN0ay5DVGtTY3JvbGxhYmxlRnJhbWUoc2VsZiwgd2lkdGg9MTgwLCBoZWlnaHQ9MjAwKVxuICAgMTUyXHQgICAgICAgIHNlbGYuY2hhbm5lbHNfZnJhbWUuZ3JpZChyb3c9NCwgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT0oMCwgOCksIHN0aWNreT1cImV3XCIpXG4gICAxNTNcdFxuICAgMTU0XHQgICAgICAgICMgQmluZCBtb3VzZSB3aGVlbCBldmVudHMgdG8gZW5zdXJlIHNjcm9sbGluZyB3b3JrcyBwcm9wZXJseVxuICAgMTU1XHQgICAgICAgIHNlbGYuYmluZF9tb3VzZV93aGVlbChzZWxmLmNoYW5uZWxzX2ZyYW1lKVxuICAgMTU2XHRcbiAgIDE1N1x0ICAgICAgICBzZWxmLmNoYW5uZWxfdmFycyA9IHt9ICAjIFdpbGwgaG9sZCB0aGUgY2hlY2tib3ggdmFyaWFibGVzXG4gICAxNThcdFxuICAgMTU5XHQgICAgICAgICMgQWdncmVnYXRpb24gbWV0aG9kcyBmcmFtZVxuICAgMTYwXHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fZnJhbWUgPSBjdGsuQ1RrRnJhbWUoc2VsZilcbiAgIDE2MVx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2ZyYW1lLmdyaWQocm93PTUsIGNvbHVtbj0wLCBjb2x1bW5zcGFuPTIsIHBhZHg9NSwgcGFkeT0oNSwgMCksIHN0aWNreT1cImV3XCIpXG4gICAxNjJcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgIDE2M1x0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDEsIHdlaWdodD0zKVxuICAgMTY0XHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fZnJhbWUuZ3JpZF9yb3djb25maWd1cmUoMCwgd2VpZ2h0PTEpXG4gICAxNjVcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9mcmFtZS5ncmlkX3Jvd2NvbmZpZ3VyZSgxLCB3ZWlnaHQ9MSlcbiAgIDE2Nlx0XG4gICAxNjdcdCAgICAgICAgIyBBZ2dyZWdhdGlvbiBsYWJlbFxuICAgMTY4XHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fbGFiZWwgPSBjdGsuQ1RrTGFiZWwoXG4gICAxNjlcdCAgICAgICAgICAgIHNlbGYuYWdncmVnYXRpb25fZnJhbWUsXG4gICAxNzBcdCAgICAgICAgICAgIHRleHQ9XCJBZ2dyZWdhdGlvbjpcIixcbiAgIDE3MVx0ICAgICAgICAgICAgZm9udD1sYWJlbF9mb250XG4gICAxNzJcdCAgICAgICAgKVxuICAgMTczXHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fbGFiZWwuZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT01LCBzdGlja3k9XCJ3XCIpXG4gICAxNzRcdFxuICAgMTc1XHQgICAgICAgICMgQWdncmVnYXRpb24gY2hlY2tib3hlcyBmcmFtZVxuICAgMTc2XHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fY2hlY2tib3hlc19mcmFtZSA9IGN0ay5DVGtGcmFtZShzZWxmLmFnZ3JlZ2F0aW9uX2ZyYW1lLCBmZ19jb2xvcj1cInRyYW5zcGFyZW50XCIpXG4gICAxNzdcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9jaGVja2JveGVzX2ZyYW1lLmdyaWQocm93PTAsIGNvbHVtbj0xLCBwYWR4PTUsIHBhZHk9NSwgc3RpY2t5PVwiZXdcIilcbiAgIDE3OFx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2NoZWNrYm94ZXNfZnJhbWUuZ3JpZF9jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpXG4gICAxNzlcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9jaGVja2JveGVzX2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDEsIHdlaWdodD0xKVxuICAgMTgwXHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fY2hlY2tib3hlc19mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgyLCB3ZWlnaHQ9MSlcbiAgIDE4MVx0XG4gICAxODJcdCAgICAgICAgIyBBZ2dyZWdhdGlvbiBtZXRob2QgY2hlY2tib3hlc1xuICAgMTgzXHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fdmFycyA9IHt9XG4gICAxODRcdFxuICAgMTg1XHQgICAgICAgICMgTWVhbiBjaGVja2JveFxuICAgMTg2XHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fdmFyc1snbWVhbiddID0gY3RrLkJvb2xlYW5WYXIodmFsdWU9RmFsc2UpXG4gICAxODdcdCAgICAgICAgc2VsZi5tZWFuX2NoZWNrYm94ID0gY3RrLkNUa0NoZWNrQm94KFxuICAgMTg4XHQgICAgICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2NoZWNrYm94ZXNfZnJhbWUsXG4gICAxODlcdCAgICAgICAgICAgIHRleHQ9XCJNZWFuXCIsXG4gICAxOTBcdCAgICAgICAgICAgIHZhcmlhYmxlPXNlbGYuYWdncmVnYXRpb25fdmFyc1snbWVhbiddLFxuICAgMTkxXHQgICAgICAgICAgICBvbnZhbHVlPVRydWUsXG4gICAxOTJcdCAgICAgICAgICAgIG9mZnZhbHVlPUZhbHNlLFxuICAgMTkzXHQgICAgICAgICAgICBmb250PWRyb3Bkb3duX2ZvbnQsXG4gICAxOTRcdCAgICAgICAgICAgIGNoZWNrYm94X3dpZHRoPTE2LFxuICAgMTk1XHQgICAgICAgICAgICBjaGVja2JveF9oZWlnaHQ9MTZcbiAgIDE5Nlx0ICAgICAgICApXG4gICAxOTdcdCAgICAgICAgc2VsZi5tZWFuX2NoZWNrYm94LmdyaWQocm93PTAsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9Miwgc3RpY2t5PVwid1wiKVxuICAgMTk4XHRcbiAgIDE5OVx0ICAgICAgICAjIFN0ZCBjaGVja2JveFxuICAgMjAwXHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fdmFyc1snc3RkJ10gPSBjdGsuQm9vbGVhblZhcih2YWx1ZT1GYWxzZSlcbiAgIDIwMVx0ICAgICAgICBzZWxmLnN0ZF9jaGVja2JveCA9IGN0ay5DVGtDaGVja0JveChcbiAgIDIwMlx0ICAgICAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9jaGVja2JveGVzX2ZyYW1lLFxuICAgMjAzXHQgICAgICAgICAgICB0ZXh0PVwiU3RkIERldlwiLFxuICAgMjA0XHQgICAgICAgICAgICB2YXJpYWJsZT1zZWxmLmFnZ3JlZ2F0aW9uX3ZhcnNbJ3N0ZCddLFxuICAgMjA1XHQgICAgICAgICAgICBvbnZhbHVlPVRydWUsXG4gICAyMDZcdCAgICAgICAgICAgIG9mZnZhbHVlPUZhbHNlLFxuICAgMjA3XHQgICAgICAgICAgICBmb250PWRyb3Bkb3duX2ZvbnQsXG4gICAyMDhcdCAgICAgICAgICAgIGNoZWNrYm94X3dpZHRoPTE2LFxuICAgMjA5XHQgICAgICAgICAgICBjaGVja2JveF9oZWlnaHQ9MTZcbiAgIDIxMFx0ICAgICAgICApXG4gICAyMTFcdCAgICAgICAgc2VsZi5zdGRfY2hlY2tib3guZ3JpZChyb3c9MCwgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT0yLCBzdGlja3k9XCJ3XCIpXG4gICAyMTJcdFxuICAgMjEzXHQgICAgICAgICMgTWVkaWFuIGNoZWNrYm94XG4gICAyMTRcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl92YXJzWydtZWRpYW4nXSA9IGN0ay5Cb29sZWFuVmFyKHZhbHVlPUZhbHNlKVxuICAgMjE1XHQgICAgICAgIHNlbGYubWVkaWFuX2NoZWNrYm94ID0gY3RrLkNUa0NoZWNrQm94KFxuICAgMjE2XHQgICAgICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2NoZWNrYm94ZXNfZnJhbWUsXG4gICAyMTdcdCAgICAgICAgICAgIHRleHQ9XCJNZWRpYW5cIixcbiAgIDIxOFx0ICAgICAgICAgICAgdmFyaWFibGU9c2VsZi5hZ2dyZWdhdGlvbl92YXJzWydtZWRpYW4nXSxcbiAgIDIxOVx0ICAgICAgICAgICAgb252YWx1ZT1UcnVlLFxuICAgMjIwXHQgICAgICAgICAgICBvZmZ2YWx1ZT1GYWxzZSxcbiAgIDIyMVx0ICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250LFxuICAgMjIyXHQgICAgICAgICAgICBjaGVja2JveF93aWR0aD0xNixcbiAgIDIyM1x0ICAgICAgICAgICAgY2hlY2tib3hfaGVpZ2h0PTE2XG4gICAyMjRcdCAgICAgICAgKVxuICAgMjI1XHQgICAgICAgIHNlbGYubWVkaWFuX2NoZWNrYm94LmdyaWQocm93PTAsIGNvbHVtbj0yLCBwYWR4PTUsIHBhZHk9Miwgc3RpY2t5PVwid1wiKVxuICAgMjI2XHRcbiAgIDIyN1x0ICAgICAgICAjIEFnZ3JlZ2F0aW9uIG9ubHkgY2hlY2tib3hcbiAgIDIyOFx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX29ubHlfdmFyID0gY3RrLkJvb2xlYW5WYXIodmFsdWU9RmFsc2UpXG4gICAyMjlcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9vbmx5X2NoZWNrYm94ID0gY3RrLkNUa0NoZWNrQm94KFxuICAgMjMwXHQgICAgICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2ZyYW1lLFxuICAgMjMxXHQgICAgICAgICAgICB0ZXh0PVwiU2hvdyBBZ2dyZWdhdGlvbiBPbmx5XCIsXG4gICAyMzJcdCAgICAgICAgICAgIHZhcmlhYmxlPXNlbGYuYWdncmVnYXRpb25fb25seV92YXIsXG4gICAyMzNcdCAgICAgICAgICAgIG9udmFsdWU9VHJ1ZSxcbiAgIDIzNFx0ICAgICAgICAgICAgb2ZmdmFsdWU9RmFsc2UsXG4gICAyMzVcdCAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udCxcbiAgIDIzNlx0ICAgICAgICAgICAgY2hlY2tib3hfd2lkdGg9MTYsXG4gICAyMzdcdCAgICAgICAgICAgIGNoZWNrYm94X2hlaWdodD0xNlxuICAgMjM4XHQgICAgICAgIClcbiAgIDIzOVx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX29ubHlfY2hlY2tib3guZ3JpZChyb3c9MSwgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT0oMCwgMiksIHN0aWNreT1cIndcIilcbiAgIDI0MFx0XG4gICAyNDFcdCAgICAgICAgIyBUaW1lIHdpbmRvdyBzZWxlY3Rpb24gZnJhbWVcbiAgIDI0Mlx0ICAgICAgICBzZWxmLnRpbWVfd2luZG93X2ZyYW1lID0gY3RrLkNUa0ZyYW1lKHNlbGYpXG4gICAyNDNcdCAgICAgICAgc2VsZi50aW1lX3dpbmRvd19mcmFtZS5ncmlkKHJvdz02LCBjb2x1bW49MCwgY29sdW1uc3Bhbj0yLCBwYWR4PTUsIHBhZHk9KDUsIDApLCBzdGlja3k9XCJld1wiKVxuICAgMjQ0XHQgICAgICAgIHNlbGYudGltZV93aW5kb3dfZnJhbWUuZ3JpZF9jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpXG4gICAyNDVcdCAgICAgICAgc2VsZi50aW1lX3dpbmRvd19mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgxLCB3ZWlnaHQ9MSlcbiAgIDI0Nlx0ICAgICAgICBzZWxmLnRpbWVfd2luZG93X2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDIsIHdlaWdodD0xKVxuICAgMjQ3XHQgICAgICAgIHNlbGYudGltZV93aW5kb3dfZnJhbWUuZ3JpZF9jb2x1bW5jb25maWd1cmUoMywgd2VpZ2h0PTEpXG4gICAyNDhcdFxuICAgMjQ5XHQgICAgICAgICMgVGltZSB3aW5kb3cgbGFiZWxcbiAgIDI1MFx0ICAgICAgICBzZWxmLnRpbWVfd2luZG93X2xhYmVsID0gY3RrLkNUa0xhYmVsKFxuICAgMjUxXHQgICAgICAgICAgICBzZWxmLnRpbWVfd2luZG93X2ZyYW1lLFxuICAgMjUyXHQgICAgICAgICAgICB0ZXh0PVwiVGltZSBXaW5kb3cgKHMpOlwiLFxuICAgMjUzXHQgICAgICAgICAgICBmb250PWxhYmVsX2ZvbnRcbiAgIDI1NFx0ICAgICAgICApXG4gICAyNTVcdCAgICAgICAgc2VsZi50aW1lX3dpbmRvd19sYWJlbC5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTUsIHN0aWNreT1cIndcIilcbiAgIDI1Nlx0XG4gICAyNTdcdCAgICAgICAgIyBTdGFydCB0aW1lIGVudHJ5XG4gICAyNThcdCAgICAgICAgc2VsZi5zdGFydF90aW1lX3ZhciA9IGN0ay5TdHJpbmdWYXIodmFsdWU9XCIwXCIpXG4gICAyNTlcdCAgICAgICAgc2VsZi5zdGFydF90aW1lX2VudHJ5ID0gY3RrLkNUa0VudHJ5KFxuICAgMjYwXHQgICAgICAgICAgICBzZWxmLnRpbWVfd2luZG93X2ZyYW1lLFxuICAgMjYxXHQgICAgICAgICAgICB0ZXh0dmFyaWFibGU9c2VsZi5zdGFydF90aW1lX3ZhcixcbiAgIDI2Mlx0ICAgICAgICAgICAgd2lkdGg9NjAsXG4gICAyNjNcdCAgICAgICAgICAgIGhlaWdodD0yNSxcbiAgIDI2NFx0ICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250XG4gICAyNjVcdCAgICAgICAgKVxuICAgMjY2XHQgICAgICAgIHNlbGYuc3RhcnRfdGltZV9lbnRyeS5ncmlkKHJvdz0wLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PTUsIHN0aWNreT1cImV3XCIpXG4gICAyNjdcdFxuICAgMjY4XHQgICAgICAgICMgVG8gbGFiZWxcbiAgIDI2OVx0ICAgICAgICBzZWxmLnRvX2xhYmVsID0gY3RrLkNUa0xhYmVsKFxuICAgMjcwXHQgICAgICAgICAgICBzZWxmLnRpbWVfd2luZG93X2ZyYW1lLFxuICAgMjcxXHQgICAgICAgICAgICB0ZXh0PVwidG9cIixcbiAgIDI3Mlx0ICAgICAgICAgICAgZm9udD1sYWJlbF9mb250XG4gICAyNzNcdCAgICAgICAgKVxuICAgMjc0XHQgICAgICAgIHNlbGYudG9fbGFiZWwuZ3JpZChyb3c9MCwgY29sdW1uPTIsIHBhZHg9MiwgcGFkeT01KVxuICAgMjc1XHRcbiAgIDI3Nlx0ICAgICAgICAjIEVuZCB0aW1lIGVudHJ5XG4gICAyNzdcdCAgICAgICAgc2VsZi5lbmRfdGltZV92YXIgPSBjdGsuU3RyaW5nVmFyKHZhbHVlPVwiXCIpXG4gICAyNzhcdCAgICAgICAgc2VsZi5lbmRfdGltZV9lbnRyeSA9IGN0ay5DVGtFbnRyeShcbiAgIDI3OVx0ICAgICAgICAgICAgc2VsZi50aW1lX3dpbmRvd19mcmFtZSxcbiAgIDI4MFx0ICAgICAgICAgICAgdGV4dHZhcmlhYmxlPXNlbGYuZW5kX3RpbWVfdmFyLFxuICAgMjgxXHQgICAgICAgICAgICB3aWR0aD02MCxcbiAgIDI4Mlx0ICAgICAgICAgICAgaGVpZ2h0PTI1LFxuICAgMjgzXHQgICAgICAgICAgICBmb250PWRyb3Bkb3duX2ZvbnRcbiAgIDI4NFx0ICAgICAgICApXG4gICAyODVcdCAgICAgICAgc2VsZi5lbmRfdGltZV9lbnRyeS5ncmlkKHJvdz0wLCBjb2x1bW49MywgcGFkeD01LCBwYWR5PTUsIHN0aWNreT1cImV3XCIpXG4gICAyODZcdFxuICAgMjg3XHQgICAgICAgICMgUmVzZXQgem9vbSBidXR0b25cbiAgIDI4OFx0ICAgICAgICBzZWxmLnJlc2V0X3pvb21fYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgIDI4OVx0ICAgICAgICAgICAgc2VsZixcbiAgIDI5MFx0ICAgICAgICAgICAgdGV4dD1cIlJlc2V0IFpvb21cIixcbiAgIDI5MVx0ICAgICAgICAgICAgY29tbWFuZD1zZWxmLnJlc2V0X3RpbWVfd2luZG93LFxuICAgMjkyXHQgICAgICAgICAgICBoZWlnaHQ9MjUsXG4gICAyOTNcdCAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udFxuICAgMjk0XHQgICAgICAgIClcbiAgIDI5NVx0ICAgICAgICBzZWxmLnJlc2V0X3pvb21fYnV0dG9uLmdyaWQocm93PTcsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9KDUsIDApLCBzdGlja3k9XCJld1wiKVxuICAgMjk2XHRcbiAgIDI5N1x0ICAgICAgICAjIFVwZGF0ZSBidXR0b24gLSBtb3JlIGNvbXBhY3RcbiAgIDI5OFx0ICAgICAgICBzZWxmLnVwZGF0ZV9idXR0b24gPSBjdGsuQ1RrQnV0dG9uKFxuICAgMjk5XHQgICAgICAgICAgICBzZWxmLFxuICAgMzAwXHQgICAgICAgICAgICB0ZXh0PVwiVXBkYXRlIFBsb3RcIixcbiAgIDMwMVx0ICAgICAgICAgICAgY29tbWFuZD1zZWxmLnVwZGF0ZV9wbG90LFxuICAgMzAyXHQgICAgICAgICAgICBoZWlnaHQ9MzAsXG4gICAzMDNcdCAgICAgICAgICAgIGZvbnQ9Z2V0X2J1dHRvbl9mb250KClcbiAgIDMwNFx0ICAgICAgICApXG4gICAzMDVcdCAgICAgICAgc2VsZi51cGRhdGVfYnV0dG9uLmdyaWQocm93PTcsIGNvbHVtbj0xLCBwYWR4PTUsIHBhZHk9KDUsIDApLCBzdGlja3k9XCJld1wiKVxuICAgMzA2XHRcbiAgIDMwN1x0ICAgICAgICAjIFZpZXcgRUVHIGJ1dHRvblxuICAgMzA4XHQgICAgICAgIHNlbGYudmlld19lZWdfYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgIDMwOVx0ICAgICAgICAgICAgc2VsZixcbiAgIDMxMFx0ICAgICAgICAgICAgdGV4dD1cIlZpZXcgRUVHXCIsXG4gICAzMTFcdCAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi52aWV3X2VlZyxcbiAgIDMxMlx0ICAgICAgICAgICAgaGVpZ2h0PTMwLFxuICAgMzEzXHQgICAgICAgICAgICBmb250PWdldF9idXR0b25fZm9udCgpLFxuICAgMzE0XHQgICAgICAgICAgICBmZ19jb2xvcj1cIiMyYTYwOTlcIiAgIyBEaWZmZXJlbnQgY29sb3IgdG8gZGlzdGluZ3Vpc2ggaXRcbiAgIDMxNVx0ICAgICAgICApXG4gICAzMTZcdCAgICAgICAgc2VsZi52aWV3X2VlZ19idXR0b24uZ3JpZChyb3c9OCwgY29sdW1uPTAsIGNvbHVtbnNwYW49MiwgcGFkeD01LCBwYWR5PSg1LCA4KSwgc3RpY2t5PVwiZXdcIilcbiAgIDMxN1x0XG4gICAzMThcdCAgICAgICAgIyBJbml0aWFsaXplIHdpdGggdGhlIGZpcnN0IGV4cGVyaW1lbnQgaWYgYXZhaWxhYmxlXG4gICAzMTlcdCAgICAgICAgaWYgc2VsZi5leHBlcmltZW50czpcbiAgIDMyMFx0ICAgICAgICAgICAgc2VsZi5vbl9leHBlcmltZW50X3NlbGVjdGVkKGV4cGVyaW1lbnRfbmFtZXNbMF0pXG4gICAzMjFcdFxuICAgMzIyXHQgICAgZGVmIG9uX2V4cGVyaW1lbnRfc2VsZWN0ZWQoc2VsZiwgc2VsZWN0aW9uOiBzdHIpOlxuICAgMzIzXHQgICAgICAgIFwiXCJcIlxuICAgMzI0XHQgICAgICAgIEhhbmRsZSBleHBlcmltZW50IHNlbGVjdGlvbiBjaGFuZ2UuXG4gICAzMjVcdFxuICAgMzI2XHQgICAgICAgIEFyZ3M6XG4gICAzMjdcdCAgICAgICAgICAgIHNlbGVjdGlvbjogU2VsZWN0ZWQgZXhwZXJpbWVudCBuYW1lXG4gICAzMjhcdCAgICAgICAgXCJcIlwiXG4gICAzMjlcdCAgICAgICAgIyBGaW5kIHRoZSBzZWxlY3RlZCBleHBlcmltZW50XG4gICAzMzBcdCAgICAgICAgc2VsZWN0ZWRfZXhwID0gTm9uZVxuICAgMzMxXHQgICAgICAgIGZvciBleHAgaW4gc2VsZi5leHBlcmltZW50czpcbiAgIDMzMlx0ICAgICAgICAgICAgaWYgZlwie2V4cFsnbmFtZSddfSAoe2V4cFsncnVuX25hbWUnXX0pXCIgPT0gc2VsZWN0aW9uOlxuICAgMzMzXHQgICAgICAgICAgICAgICAgc2VsZWN0ZWRfZXhwID0gZXhwXG4gICAzMzRcdCAgICAgICAgICAgICAgICBicmVha1xuICAgMzM1XHRcbiAgIDMzNlx0ICAgICAgICBpZiBub3Qgc2VsZWN0ZWRfZXhwOlxuICAgMzM3XHQgICAgICAgICAgICByZXR1cm5cbiAgIDMzOFx0XG4gICAzMzlcdCAgICAgICAgIyBVcGRhdGUgRUVHIGRyb3Bkb3duXG4gICAzNDBcdCAgICAgICAgc2VsZi5jdXJyZW50X2V4cGVyaW1lbnRfaWQgPSBzZWxlY3RlZF9leHBbJ2lkJ11cbiAgIDM0MVx0ICAgICAgICBlZWdzID0gc2VsZi5kYl9oYW5kbGVyLmdldF9lZWdzX2Zvcl9leHBlcmltZW50KHNlbGYuY3VycmVudF9leHBlcmltZW50X2lkKVxuICAgMzQyXHQgICAgICAgIGVlZ19uYW1lcyA9IFtlZWdbJ2ZpbGVuYW1lJ10gZm9yIGVlZyBpbiBlZWdzXVxuICAgMzQzXHRcbiAgIDM0NFx0ICAgICAgICBzZWxmLmVlZ3MgPSBlZWdzXG4gICAzNDVcdCAgICAgICAgc2VsZi5lZWdfZHJvcGRvd24uY29uZmlndXJlKHZhbHVlcz1lZWdfbmFtZXMpXG4gICAzNDZcdCAgICAgICAgaWYgZWVnX25hbWVzOlxuICAgMzQ3XHQgICAgICAgICAgICBzZWxmLmVlZ192YXIuc2V0KGVlZ19uYW1lc1swXSlcbiAgIDM0OFx0ICAgICAgICAgICAgc2VsZi5vbl9lZWdfc2VsZWN0ZWQoZWVnX25hbWVzWzBdKVxuICAgMzQ5XHQgICAgICAgIGVsc2U6XG4gICAzNTBcdCAgICAgICAgICAgIHNlbGYuZWVnX3Zhci5zZXQoXCJcIilcbiAgIDM1MVx0ICAgICAgICAgICAgc2VsZi5jbGVhcl9tZXRyaWNzKClcbiAgIDM1Mlx0ICAgICAgICAgICAgc2VsZi5jbGVhcl9jaGFubmVscygpXG4gICAzNTNcdFxuICAgMzU0XHQgICAgZGVmIG9uX2VlZ19zZWxlY3RlZChzZWxmLCBzZWxlY3Rpb246IHN0cik6XG4gICAzNTVcdCAgICAgICAgXCJcIlwiXG4gICAzNTZcdCAgICAgICAgSGFuZGxlIEVFRyBzZWxlY3Rpb24gY2hhbmdlLlxuICAgMzU3XHRcbiAgIDM1OFx0ICAgICAgICBBcmdzOlxuICAgMzU5XHQgICAgICAgICAgICBzZWxlY3Rpb246IFNlbGVjdGVkIEVFRyBuYW1lXG4gICAzNjBcdCAgICAgICAgXCJcIlwiXG4gICAzNjFcdCAgICAgICAgIyBGaW5kIHRoZSBzZWxlY3RlZCBFRUdcbiAgIDM2Mlx0ICAgICAgICBzZWxlY3RlZF9lZWcgPSBOb25lXG4gICAzNjNcdCAgICAgICAgZm9yIGVlZyBpbiBzZWxmLmVlZ3M6XG4gICAzNjRcdCAgICAgICAgICAgIGlmIGVlZ1snZmlsZW5hbWUnXSA9PSBzZWxlY3Rpb246XG4gICAzNjVcdCAgICAgICAgICAgICAgICBzZWxlY3RlZF9lZWcgPSBlZWdcbiAgIDM2Nlx0ICAgICAgICAgICAgICAgIGJyZWFrXG4gICAzNjdcdFxuICAgMzY4XHQgICAgICAgIGlmIG5vdCBzZWxlY3RlZF9lZWc6XG4gICAzNjlcdCAgICAgICAgICAgIHJldHVyblxuICAgMzcwXHRcbiAgIDM3MVx0ICAgICAgICAjIFVwZGF0ZSBtZXRyaWNzIGRyb3Bkb3duXG4gICAzNzJcdCAgICAgICAgc2VsZi5jdXJyZW50X2VlZ19pZCA9IHNlbGVjdGVkX2VlZ1snaWQnXVxuICAgMzczXHQgICAgICAgIHNlbGYudXBkYXRlX21ldHJpY3NfZHJvcGRvd24oKVxuICAgMzc0XHQgICAgICAgIHNlbGYudXBkYXRlX2NoYW5uZWxzX2NoZWNrYm94ZXMoKVxuICAgMzc1XHRcbiAgIDM3Nlx0ICAgIGRlZiBvbl9tZXRyaWNfc2VsZWN0ZWQoc2VsZiwgc2VsZWN0aW9uOiBzdHIpOlxuICAgMzc3XHQgICAgICAgIFwiXCJcIlxuICAgMzc4XHQgICAgICAgIEhhbmRsZSBtZXRyaWMgc2VsZWN0aW9uIGNoYW5nZS5cbiAgIDM3OVx0XG4gICAzODBcdCAgICAgICAgQXJnczpcbiAgIDM4MVx0ICAgICAgICAgICAgc2VsZWN0aW9uOiBTZWxlY3RlZCBtZXRyaWMgbmFtZVxuICAgMzgyXHQgICAgICAgIFwiXCJcIlxuICAgMzgzXHQgICAgICAgIHNlbGYuY3VycmVudF9tZXRyaWMgPSBzZWxlY3Rpb25cbiAgIDM4NFx0XG4gICAzODVcdCAgICBkZWYgdXBkYXRlX21ldHJpY3NfZHJvcGRvd24oc2VsZik6XG4gICAzODZcdCAgICAgICAgXCJcIlwiVXBkYXRlIHRoZSBtZXRyaWNzIGRyb3Bkb3duIGJhc2VkIG9uIHRoZSBzZWxlY3RlZCBleHBlcmltZW50IGFuZCBFRUcuXCJcIlwiXG4gICAzODdcdCAgICAgICAgIyBHZXQgYXZhaWxhYmxlIG1ldHJpY3NcbiAgIDM4OFx0ICAgICAgICBtZXRyaWNzID0gc2VsZi5kYl9oYW5kbGVyLmdldF9hdmFpbGFibGVfbWV0cmljcyhzZWxmLmN1cnJlbnRfZXhwZXJpbWVudF9pZCwgc2VsZi5jdXJyZW50X2VlZ19pZClcbiAgIDM4OVx0XG4gICAzOTBcdCAgICAgICAgIyBVcGRhdGUgZHJvcGRvd25cbiAgIDM5MVx0ICAgICAgICBzZWxmLm1ldHJpY19kcm9wZG93bi5jb25maWd1cmUodmFsdWVzPW1ldHJpY3MpXG4gICAzOTJcdCAgICAgICAgaWYgbWV0cmljczpcbiAgIDM5M1x0ICAgICAgICAgICAgc2VsZi5tZXRyaWNfdmFyLnNldChtZXRyaWNzWzBdKVxuICAgMzk0XHQgICAgICAgICAgICBzZWxmLmN1cnJlbnRfbWV0cmljID0gbWV0cmljc1swXVxuICAgMzk1XHQgICAgICAgIGVsc2U6XG4gICAzOTZcdCAgICAgICAgICAgIHNlbGYubWV0cmljX3Zhci5zZXQoXCJcIilcbiAgIDM5N1x0ICAgICAgICAgICAgc2VsZi5jdXJyZW50X21ldHJpYyA9IE5vbmVcbiAgIDM5OFx0XG4gICAzOTlcdCAgICBkZWYgdXBkYXRlX2NoYW5uZWxzX2NoZWNrYm94ZXMoc2VsZik6XG4gICA0MDBcdCAgICAgICAgXCJcIlwiVXBkYXRlIHRoZSBjaGFubmVsIGNoZWNrYm94ZXMgYmFzZWQgb24gdGhlIHNlbGVjdGVkIGV4cGVyaW1lbnQgYW5kIEVFRy5cIlwiXCJcbiAgIDQwMVx0ICAgICAgICAjIENsZWFyIGV4aXN0aW5nIGNoZWNrYm94ZXNcbiAgIDQwMlx0ICAgICAgICBzZWxmLmNsZWFyX2NoYW5uZWxzKClcbiAgIDQwM1x0XG4gICA0MDRcdCAgICAgICAgIyBHZXQgYXZhaWxhYmxlIGNoYW5uZWxzXG4gICA0MDVcdCAgICAgICAgc2VsZi5hdmFpbGFibGVfY2hhbm5lbHMgPSBzZWxmLmRiX2hhbmRsZXIuZ2V0X2F2YWlsYWJsZV9jaGFubmVscyhzZWxmLmN1cnJlbnRfZXhwZXJpbWVudF9pZCwgc2VsZi5jdXJyZW50X2VlZ19pZClcbiAgIDQwNlx0XG4gICA0MDdcdCAgICAgICAgIyBBZGQgYSBzZWFyY2ggZW50cnkgYXQgdGhlIHRvcCBvZiB0aGUgY2hhbm5lbHMgZnJhbWVcbiAgIDQwOFx0ICAgICAgICBzZWxmLnNlYXJjaF92YXIgPSBjdGsuU3RyaW5nVmFyKClcbiAgIDQwOVx0ICAgICAgICBzZWxmLnNlYXJjaF92YXIudHJhY2VfYWRkKFwid3JpdGVcIiwgc2VsZi5maWx0ZXJfY2hhbm5lbHMpXG4gICA0MTBcdFxuICAgNDExXHQgICAgICAgIHNlbGYuc2VhcmNoX2ZyYW1lID0gY3RrLkNUa0ZyYW1lKHNlbGYuY2hhbm5lbHNfZnJhbWUpXG4gICA0MTJcdCAgICAgICAgc2VsZi5zZWFyY2hfZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT01LCBzdGlja3k9XCJld1wiKVxuICAgNDEzXHQgICAgICAgIHNlbGYuc2VhcmNoX2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgNDE0XHRcbiAgIDQxNVx0ICAgICAgICBzZWxmLnNlYXJjaF9lbnRyeSA9IGN0ay5DVGtFbnRyeShcbiAgIDQxNlx0ICAgICAgICAgICAgc2VsZi5zZWFyY2hfZnJhbWUsXG4gICA0MTdcdCAgICAgICAgICAgIHBsYWNlaG9sZGVyX3RleHQ9XCJTZWFyY2ggY2hhbm5lbHMuLi5cIixcbiAgIDQxOFx0ICAgICAgICAgICAgdGV4dHZhcmlhYmxlPXNlbGYuc2VhcmNoX3ZhcixcbiAgIDQxOVx0ICAgICAgICAgICAgaGVpZ2h0PTI1LFxuICAgNDIwXHQgICAgICAgICAgICBmb250PWdldF9kcm9wZG93bl9mb250KClcbiAgIDQyMVx0ICAgICAgICApXG4gICA0MjJcdCAgICAgICAgc2VsZi5zZWFyY2hfZW50cnkuZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0zLCBzdGlja3k9XCJld1wiKVxuICAgNDIzXHRcbiAgIDQyNFx0ICAgICAgICAjIENyZWF0ZSB0aGUgY2hhbm5lbHMgY29udGFpbmVyIGZyYW1lXG4gICA0MjVcdCAgICAgICAgc2VsZi5jaGFubmVsc19jb250YWluZXIgPSBjdGsuQ1RrRnJhbWUoc2VsZi5jaGFubmVsc19mcmFtZSwgZmdfY29sb3I9XCJ0cmFuc3BhcmVudFwiKVxuICAgNDI2XHQgICAgICAgIHNlbGYuY2hhbm5lbHNfY29udGFpbmVyLmdyaWQocm93PTEsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9NSwgc3RpY2t5PVwiZXdcIilcbiAgIDQyN1x0XG4gICA0MjhcdCAgICAgICAgIyBEaXNwbGF5IGFsbCBjaGFubmVscyBpbml0aWFsbHlcbiAgIDQyOVx0ICAgICAgICBzZWxmLmRpc3BsYXlfY2hhbm5lbHMoc2VsZi5hdmFpbGFibGVfY2hhbm5lbHMpXG4gICA0MzBcdFxuICAgNDMxXHQgICAgZGVmIGRpc3BsYXlfY2hhbm5lbHMoc2VsZiwgY2hhbm5lbHM6IExpc3Rbc3RyXSk6XG4gICA0MzJcdCAgICAgICAgXCJcIlwiXG4gICA0MzNcdCAgICAgICAgRGlzcGxheSB0aGUgZ2l2ZW4gY2hhbm5lbHMgYXMgY2hlY2tib3hlcy5cbiAgIDQzNFx0XG4gICA0MzVcdCAgICAgICAgQXJnczpcbiAgIDQzNlx0ICAgICAgICAgICAgY2hhbm5lbHM6IExpc3Qgb2YgY2hhbm5lbCBuYW1lcyB0byBkaXNwbGF5XG4gICA0MzdcdCAgICAgICAgXCJcIlwiXG4gICA0MzhcdCAgICAgICAgIyBDbGVhciBleGlzdGluZyBjaGVja2JveGVzIGluIHRoZSBjb250YWluZXJcbiAgIDQzOVx0ICAgICAgICBmb3Igd2lkZ2V0IGluIHNlbGYuY2hhbm5lbHNfY29udGFpbmVyLndpbmZvX2NoaWxkcmVuKCk6XG4gICA0NDBcdCAgICAgICAgICAgIHdpZGdldC5kZXN0cm95KClcbiAgIDQ0MVx0XG4gICA0NDJcdCAgICAgICAgIyBDb25maWd1cmUgdGhlIGNvbnRhaW5lciBmb3IgcHJvcGVyIHNjcm9sbGluZ1xuICAgNDQzXHQgICAgICAgIHNlbGYuY2hhbm5lbHNfY29udGFpbmVyLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgNDQ0XHRcbiAgIDQ0NVx0ICAgICAgICAjIFNvcnQgY2hhbm5lbHMgYWxwaGFiZXRpY2FsbHkgdG8gZW5zdXJlIGNvbnNpc3RlbnQgZGlzcGxheVxuICAgNDQ2XHQgICAgICAgIHNvcnRlZF9jaGFubmVscyA9IHNvcnRlZChjaGFubmVscylcbiAgIDQ0N1x0XG4gICA0NDhcdCAgICAgICAgIyBDcmVhdGUgYSBjaGVja2JveCBmb3IgZWFjaCBjaGFubmVsXG4gICA0NDlcdCAgICAgICAgZm9yIGksIGNoYW5uZWwgaW4gZW51bWVyYXRlKHNvcnRlZF9jaGFubmVscyk6XG4gICA0NTBcdCAgICAgICAgICAgIHZhciA9IHNlbGYuY2hhbm5lbF92YXJzLmdldChjaGFubmVsLCBjdGsuQm9vbGVhblZhcih2YWx1ZT1GYWxzZSkpXG4gICA0NTFcdCAgICAgICAgICAgIHNlbGYuY2hhbm5lbF92YXJzW2NoYW5uZWxdID0gdmFyXG4gICA0NTJcdFxuICAgNDUzXHQgICAgICAgICAgICAjIENyZWF0ZSBtb3JlIGNvbXBhY3QgY2hlY2tib3hlc1xuICAgNDU0XHQgICAgICAgICAgICBjaGVja2JveCA9IGN0ay5DVGtDaGVja0JveChcbiAgIDQ1NVx0ICAgICAgICAgICAgICAgIHNlbGYuY2hhbm5lbHNfY29udGFpbmVyLFxuICAgNDU2XHQgICAgICAgICAgICAgICAgdGV4dD1jaGFubmVsLFxuICAgNDU3XHQgICAgICAgICAgICAgICAgdmFyaWFibGU9dmFyLFxuICAgNDU4XHQgICAgICAgICAgICAgICAgb252YWx1ZT1UcnVlLFxuICAgNDU5XHQgICAgICAgICAgICAgICAgb2ZmdmFsdWU9RmFsc2UsXG4gICA0NjBcdCAgICAgICAgICAgICAgICBoZWlnaHQ9MjAsXG4gICA0NjFcdCAgICAgICAgICAgICAgICBmb250PWdldF9kcm9wZG93bl9mb250KCksXG4gICA0NjJcdCAgICAgICAgICAgICAgICBjaGVja2JveF93aWR0aD0xNixcbiAgIDQ2M1x0ICAgICAgICAgICAgICAgIGNoZWNrYm94X2hlaWdodD0xNlxuICAgNDY0XHQgICAgICAgICAgICApXG4gICA0NjVcdCAgICAgICAgICAgIGNoZWNrYm94LmdyaWQocm93PWksIGNvbHVtbj0wLCBwYWR4PTgsIHBhZHk9Mywgc3RpY2t5PVwid1wiKVxuICAgNDY2XHRcbiAgIDQ2N1x0ICAgICAgICAgICAgIyBCaW5kIG1vdXNlIHdoZWVsIGV2ZW50IHRvIGVhY2ggY2hlY2tib3ggZm9yIGJldHRlciBzY3JvbGxpbmdcbiAgIDQ2OFx0ICAgICAgICAgICAgY2hlY2tib3guYmluZChcIjxNb3VzZVdoZWVsPlwiLCBsYW1iZGEgZXZlbnQsIHc9c2VsZi5jaGFubmVsc19mcmFtZTogc2VsZi5fb25fbW91c2Vfd2hlZWwoZXZlbnQsIHcpKVxuICAgNDY5XHQgICAgICAgICAgICBjaGVja2JveC5iaW5kKFwiPEJ1dHRvbi00PlwiLCBsYW1iZGEgZXZlbnQsIHc9c2VsZi5jaGFubmVsc19mcmFtZTogc2VsZi5fb25fbW91c2Vfd2hlZWwoZXZlbnQsIHcpKVxuICAgNDcwXHQgICAgICAgICAgICBjaGVja2JveC5iaW5kKFwiPEJ1dHRvbi01PlwiLCBsYW1iZGEgZXZlbnQsIHc9c2VsZi5jaGFubmVsc19mcmFtZTogc2VsZi5fb25fbW91c2Vfd2hlZWwoZXZlbnQsIHcpKVxuICAgNDcxXHRcbiAgIDQ3Mlx0ICAgIGRlZiBmaWx0ZXJfY2hhbm5lbHMoc2VsZiwgKmFyZ3MpOlxuICAgNDczXHQgICAgICAgIFwiXCJcIkZpbHRlciBjaGFubmVscyBiYXNlZCBvbiBzZWFyY2ggdGV4dC5cIlwiXCJcbiAgIDQ3NFx0ICAgICAgICBzZWFyY2hfdGV4dCA9IHNlbGYuc2VhcmNoX3Zhci5nZXQoKS5sb3dlcigpXG4gICA0NzVcdFxuICAgNDc2XHQgICAgICAgIGlmIG5vdCBzZWFyY2hfdGV4dDpcbiAgIDQ3N1x0ICAgICAgICAgICAgIyBJZiBzZWFyY2ggaXMgZW1wdHksIHNob3cgYWxsIGNoYW5uZWxzXG4gICA0NzhcdCAgICAgICAgICAgIGZpbHRlcmVkX2NoYW5uZWxzID0gc2VsZi5hdmFpbGFibGVfY2hhbm5lbHNcbiAgIDQ3OVx0ICAgICAgICBlbHNlOlxuICAgNDgwXHQgICAgICAgICAgICAjIEZpbHRlciBjaGFubmVscyB0aGF0IGNvbnRhaW4gdGhlIHNlYXJjaCB0ZXh0XG4gICA0ODFcdCAgICAgICAgICAgIGZpbHRlcmVkX2NoYW5uZWxzID0gW2NoIGZvciBjaCBpbiBzZWxmLmF2YWlsYWJsZV9jaGFubmVscyBpZiBzZWFyY2hfdGV4dCBpbiBjaC5sb3dlcigpXVxuICAgNDgyXHRcbiAgIDQ4M1x0ICAgICAgICAgICAgIyBTb3J0IHRoZSBmaWx0ZXJlZCBjaGFubmVscyBhbHBoYWJldGljYWxseVxuICAgNDg0XHQgICAgICAgICAgICBmaWx0ZXJlZF9jaGFubmVscy5zb3J0KClcbiAgIDQ4NVx0XG4gICA0ODZcdCAgICAgICAgIyBVcGRhdGUgdGhlIGRpc3BsYXllZCBjaGFubmVsc1xuICAgNDg3XHQgICAgICAgIHNlbGYuZGlzcGxheV9jaGFubmVscyhmaWx0ZXJlZF9jaGFubmVscylcbiAgIDQ4OFx0XG4gICA0ODlcdCAgICBkZWYgYmluZF9tb3VzZV93aGVlbChzZWxmLCB3aWRnZXQpOlxuICAgNDkwXHQgICAgICAgIFwiXCJcIlxuICAgNDkxXHQgICAgICAgIEJpbmQgbW91c2Ugd2hlZWwgZXZlbnRzIHRvIHRoZSB3aWRnZXQgZm9yIHNjcm9sbGluZy5cbiAgIDQ5Mlx0XG4gICA0OTNcdCAgICAgICAgQXJnczpcbiAgIDQ5NFx0ICAgICAgICAgICAgd2lkZ2V0OiBUaGUgd2lkZ2V0IHRvIGJpbmQgbW91c2Ugd2hlZWwgZXZlbnRzIHRvXG4gICA0OTVcdCAgICAgICAgXCJcIlwiXG4gICA0OTZcdCAgICAgICAgIyBCaW5kIGZvciBXaW5kb3dzIGFuZCBMaW51eCAod2l0aCBtb3VzZSB3aGVlbClcbiAgIDQ5N1x0ICAgICAgICB3aWRnZXQuYmluZF9hbGwoXCI8TW91c2VXaGVlbD5cIiwgbGFtYmRhIGV2ZW50OiBzZWxmLl9vbl9tb3VzZV93aGVlbChldmVudCwgd2lkZ2V0KSlcbiAgIDQ5OFx0ICAgICAgICAjIEJpbmQgZm9yIExpbnV4ICh3aXRoIHRvdWNocGFkKVxuICAgNDk5XHQgICAgICAgIHdpZGdldC5iaW5kX2FsbChcIjxCdXR0b24tND5cIiwgbGFtYmRhIGV2ZW50OiBzZWxmLl9vbl9tb3VzZV93aGVlbChldmVudCwgd2lkZ2V0KSlcbiAgIDUwMFx0ICAgICAgICB3aWRnZXQuYmluZF9hbGwoXCI8QnV0dG9uLTU+XCIsIGxhbWJkYSBldmVudDogc2VsZi5fb25fbW91c2Vfd2hlZWwoZXZlbnQsIHdpZGdldCkpXG4gICA1MDFcdFxuICAgNTAyXHQgICAgZGVmIF9vbl9tb3VzZV93aGVlbChzZWxmLCBldmVudCwgd2lkZ2V0KTpcbiAgIDUwM1x0ICAgICAgICBcIlwiXCJcbiAgIDUwNFx0ICAgICAgICBIYW5kbGUgbW91c2Ugd2hlZWwgZXZlbnRzIGZvciBzY3JvbGxpbmcuXG4gICA1MDVcdFxuICAgNTA2XHQgICAgICAgIEFyZ3M6XG4gICA1MDdcdCAgICAgICAgICAgIGV2ZW50OiBUaGUgbW91c2Ugd2hlZWwgZXZlbnRcbiAgIDUwOFx0ICAgICAgICAgICAgd2lkZ2V0OiBUaGUgd2lkZ2V0IHRvIHNjcm9sbFxuICAgNTA5XHQgICAgICAgIFwiXCJcIlxuICAgNTEwXHQgICAgICAgICMgR2V0IHRoZSB3aWRnZXQgdW5kZXIgdGhlIGN1cnNvclxuICAgNTExXHQgICAgICAgIHgsIHkgPSBldmVudC54X3Jvb3QsIGV2ZW50Lnlfcm9vdFxuICAgNTEyXHQgICAgICAgIHRhcmdldF93aWRnZXQgPSBldmVudC53aWRnZXQud2luZm9fY29udGFpbmluZyh4LCB5KVxuICAgNTEzXHRcbiAgIDUxNFx0ICAgICAgICAjIENoZWNrIGlmIHRoZSBjdXJzb3IgaXMgb3ZlciBvdXIgc2Nyb2xsYWJsZSBmcmFtZSBvciBpdHMgY2hpbGRyZW5cbiAgIDUxNVx0ICAgICAgICBwYXJlbnQgPSB0YXJnZXRfd2lkZ2V0XG4gICA1MTZcdCAgICAgICAgd2hpbGUgcGFyZW50IGlzIG5vdCBOb25lOlxuICAgNTE3XHQgICAgICAgICAgICBpZiBwYXJlbnQgPT0gd2lkZ2V0IG9yIHBhcmVudCA9PSBzZWxmLmNoYW5uZWxzX2NvbnRhaW5lcjpcbiAgIDUxOFx0ICAgICAgICAgICAgICAgIGJyZWFrXG4gICA1MTlcdCAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5tYXN0ZXJcbiAgIDUyMFx0XG4gICA1MjFcdCAgICAgICAgIyBJZiBjdXJzb3IgaXMgbm90IG92ZXIgb3VyIHNjcm9sbGFibGUgYXJlYSwgZG9uJ3Qgc2Nyb2xsXG4gICA1MjJcdCAgICAgICAgaWYgcGFyZW50IGlzIE5vbmU6XG4gICA1MjNcdCAgICAgICAgICAgIHJldHVyblxuICAgNTI0XHRcbiAgIDUyNVx0ICAgICAgICAjIEhhbmRsZSBkaWZmZXJlbnQgZXZlbnQgdHlwZXNcbiAgIDUyNlx0ICAgICAgICBpZiBldmVudC5udW0gPT0gNCBvciBldmVudC5kZWx0YSA+IDA6ICAjIFNjcm9sbCB1cFxuICAgNTI3XHQgICAgICAgICAgICB3aWRnZXQuX3BhcmVudF9jYW52YXMueXZpZXdfc2Nyb2xsKC0xLCBcInVuaXRzXCIpXG4gICA1MjhcdCAgICAgICAgZWxpZiBldmVudC5udW0gPT0gNSBvciBldmVudC5kZWx0YSA8IDA6ICAjIFNjcm9sbCBkb3duXG4gICA1MjlcdCAgICAgICAgICAgIHdpZGdldC5fcGFyZW50X2NhbnZhcy55dmlld19zY3JvbGwoMSwgXCJ1bml0c1wiKVxuICAgNTMwXHRcbiAgIDUzMVx0ICAgIGRlZiBjbGVhcl9jaGFubmVscyhzZWxmKTpcbiAgIDUzMlx0ICAgICAgICBcIlwiXCJDbGVhciBhbGwgY2hhbm5lbCBjaGVja2JveGVzIGFuZCByZWxhdGVkIHdpZGdldHMuXCJcIlwiXG4gICA1MzNcdCAgICAgICAgZm9yIHdpZGdldCBpbiBzZWxmLmNoYW5uZWxzX2ZyYW1lLndpbmZvX2NoaWxkcmVuKCk6XG4gICA1MzRcdCAgICAgICAgICAgIHdpZGdldC5kZXN0cm95KClcbiAgIDUzNVx0XG4gICA1MzZcdCAgICAgICAgc2VsZi5jaGFubmVsX3ZhcnMgPSB7fVxuICAgNTM3XHQgICAgICAgIHNlbGYuYXZhaWxhYmxlX2NoYW5uZWxzID0gW11cbiAgIDUzOFx0XG4gICA1MzlcdCAgICBkZWYgY2xlYXJfbWV0cmljcyhzZWxmKTpcbiAgIDU0MFx0ICAgICAgICBcIlwiXCJDbGVhciB0aGUgbWV0cmljcyBkcm9wZG93bi5cIlwiXCJcbiAgIDU0MVx0ICAgICAgICBzZWxmLm1ldHJpY19kcm9wZG93bi5jb25maWd1cmUodmFsdWVzPVtdKVxuICAgNTQyXHQgICAgICAgIHNlbGYubWV0cmljX3Zhci5zZXQoXCJcIilcbiAgIDU0M1x0ICAgICAgICBzZWxmLmN1cnJlbnRfbWV0cmljID0gTm9uZVxuICAgNTQ0XHRcbiAgIDU0NVx0ICAgIGRlZiBzZWxlY3RfYWxsX2NoYW5uZWxzKHNlbGYpOlxuICAgNTQ2XHQgICAgICAgIFwiXCJcIlNlbGVjdCBhbGwgY2hhbm5lbCBjaGVja2JveGVzLlwiXCJcIlxuICAgNTQ3XHQgICAgICAgIGZvciB2YXIgaW4gc2VsZi5jaGFubmVsX3ZhcnMudmFsdWVzKCk6XG4gICA1NDhcdCAgICAgICAgICAgIHZhci5zZXQoVHJ1ZSlcbiAgIDU0OVx0XG4gICA1NTBcdCAgICBkZWYgZGVzZWxlY3RfYWxsX2NoYW5uZWxzKHNlbGYpOlxuICAgNTUxXHQgICAgICAgIFwiXCJcIkRlc2VsZWN0IGFsbCBjaGFubmVsIGNoZWNrYm94ZXMuXCJcIlwiXG4gICA1NTJcdCAgICAgICAgZm9yIHZhciBpbiBzZWxmLmNoYW5uZWxfdmFycy52YWx1ZXMoKTpcbiAgIDU1M1x0ICAgICAgICAgICAgdmFyLnNldChGYWxzZSlcbiAgIDU1NFx0XG4gICA1NTVcdCAgICBkZWYgc2VsZWN0X2NvbW1vbl9jaGFubmVscyhzZWxmKTpcbiAgIDU1Nlx0ICAgICAgICBcIlwiXCJTZWxlY3QgY29tbW9uIEVFRyBjaGFubmVscyAoMTAtMjAgc3lzdGVtKS5cIlwiXCJcbiAgIDU1N1x0ICAgICAgICAjIEZpcnN0IGRlc2VsZWN0IGFsbFxuICAgNTU4XHQgICAgICAgIHNlbGYuZGVzZWxlY3RfYWxsX2NoYW5uZWxzKClcbiAgIDU1OVx0XG4gICA1NjBcdCAgICAgICAgIyBTZWxlY3QgdGhlIGNoYW5uZWxzIGlmIHRoZXkgZXhpc3QgaW4gb3VyIGF2YWlsYWJsZSBjaGFubmVsc1xuICAgNTYxXHQgICAgICAgIGZvciBjaGFubmVsIGluIENPTU1PTl9DSEFOTkVMUzpcbiAgIDU2Mlx0ICAgICAgICAgICAgaWYgY2hhbm5lbCBpbiBzZWxmLmNoYW5uZWxfdmFyczpcbiAgIDU2M1x0ICAgICAgICAgICAgICAgIHNlbGYuY2hhbm5lbF92YXJzW2NoYW5uZWxdLnNldChUcnVlKVxuICAgNTY0XHQgICAgICAgICAgICAjIFRyeSBhbHRlcm5hdGl2ZSBuYW1lIGlmIHRoZSBjaGFubmVsIGRvZXNuJ3QgZXhpc3RcbiAgIDU2NVx0ICAgICAgICAgICAgZWxpZiBjaGFubmVsIGluIEFMVEVSTkFUSVZFX0NIQU5ORUxfTkFNRVMgYW5kIEFMVEVSTkFUSVZFX0NIQU5ORUxfTkFNRVNbY2hhbm5lbF0gaW4gc2VsZi5jaGFubmVsX3ZhcnM6XG4gICA1NjZcdCAgICAgICAgICAgICAgICBzZWxmLmNoYW5uZWxfdmFyc1tBTFRFUk5BVElWRV9DSEFOTkVMX05BTUVTW2NoYW5uZWxdXS5zZXQoVHJ1ZSlcbiAgIDU2N1x0XG4gICA1NjhcdCAgICAgICAgIyBJZiB3ZSBoYXZlIGEgc2VhcmNoIGZpbHRlciBhY3RpdmUsIHVwZGF0ZSB0aGUgZGlzcGxheVxuICAgNTY5XHQgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ3NlYXJjaF92YXInKTpcbiAgIDU3MFx0ICAgICAgICAgICAgc2VsZi5maWx0ZXJfY2hhbm5lbHMoKVxuICAgNTcxXHRcbiAgIDU3Mlx0ICAgIGRlZiByZXNldF90aW1lX3dpbmRvdyhzZWxmKTpcbiAgIDU3M1x0ICAgICAgICBcIlwiXCJSZXNldCB0aGUgdGltZSB3aW5kb3cgdG8gc2hvdyBhbGwgZGF0YS5cIlwiXCJcbiAgIDU3NFx0ICAgICAgICBzZWxmLnN0YXJ0X3RpbWVfdmFyLnNldChcIjBcIilcbiAgIDU3NVx0ICAgICAgICBzZWxmLmVuZF90aW1lX3Zhci5zZXQoXCJcIilcbiAgIDU3Nlx0ICAgICAgICBzZWxmLnVwZGF0ZV9wbG90KClcbiAgIDU3N1x0XG4gICA1NzhcdCAgICBkZWYgdmlld19lZWcoc2VsZik6XG4gICA1NzlcdCAgICAgICAgXCJcIlwiT3BlbiB0aGUgY3VycmVudCBFRUcgZmlsZSB3aXRoIE1ORSBhbmQgZGlzcGxheSBpdCBpbiBhIG5ldyB3aW5kb3cuXCJcIlwiXG4gICA1ODBcdCAgICAgICAgaWYgbm90IGhhc2F0dHIoc2VsZiwgJ2N1cnJlbnRfZXhwZXJpbWVudF9pZCcpIG9yIG5vdCBoYXNhdHRyKHNlbGYsICdjdXJyZW50X2VlZ19pZCcpOlxuICAgNTgxXHQgICAgICAgICAgICBtZXNzYWdlYm94LnNob3dpbmZvKFwiTm8gRUVHIFNlbGVjdGVkXCIsIFwiUGxlYXNlIHNlbGVjdCBhbiBleHBlcmltZW50IGFuZCBFRUcgZmlsZSBmaXJzdC5cIilcbiAgIDU4Mlx0ICAgICAgICAgICAgcmV0dXJuXG4gICA1ODNcdFxuICAgNTg0XHQgICAgICAgICMgRmluZCB0aGUgc2VsZWN0ZWQgRUVHIHRvIGdldCBpdHMgZmlsZXBhdGhcbiAgIDU4NVx0ICAgICAgICBzZWxlY3RlZF9lZWcgPSBOb25lXG4gICA1ODZcdCAgICAgICAgZm9yIGVlZyBpbiBzZWxmLmVlZ3M6XG4gICA1ODdcdCAgICAgICAgICAgIGlmIGVlZ1snaWQnXSA9PSBzZWxmLmN1cnJlbnRfZWVnX2lkOlxuICAgNTg4XHQgICAgICAgICAgICAgICAgc2VsZWN0ZWRfZWVnID0gZWVnXG4gICA1ODlcdCAgICAgICAgICAgICAgICBicmVha1xuICAgNTkwXHRcbiAgIDU5MVx0ICAgICAgICBpZiBub3Qgc2VsZWN0ZWRfZWVnIG9yIG5vdCBzZWxlY3RlZF9lZWcuZ2V0KCdmaWxlcGF0aCcpOlxuICAgNTkyXHQgICAgICAgICAgICBtZXNzYWdlYm94LnNob3dlcnJvcihcIkVycm9yXCIsIFwiQ291bGQgbm90IGZpbmQgdGhlIEVFRyBmaWxlIHBhdGguXCIpXG4gICA1OTNcdCAgICAgICAgICAgIHJldHVyblxuICAgNTk0XHRcbiAgIDU5NVx0ICAgICAgICBlZWdfZmlsZXBhdGggPSBzZWxlY3RlZF9lZWdbJ2ZpbGVwYXRoJ11cbiAgIDU5Nlx0XG4gICA1OTdcdCAgICAgICAgIyBDaGVjayBpZiB0aGUgZmlsZSBleGlzdHNcbiAgIDU5OFx0ICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMoZWVnX2ZpbGVwYXRoKTpcbiAgIDU5OVx0ICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoXCJGaWxlIE5vdCBGb3VuZFwiLCBmXCJUaGUgRUVHIGZpbGUgd2FzIG5vdCBmb3VuZCBhdDpcXG57ZWVnX2ZpbGVwYXRofVwiKVxuICAgNjAwXHQgICAgICAgICAgICByZXR1cm5cbiAgIDYwMVx0XG4gICA2MDJcdCAgICAgICAgIyBHZXQgdGhlIGN1cnJlbnQgdGltZSB3aW5kb3dcbiAgIDYwM1x0ICAgICAgICB0cnk6XG4gICA2MDRcdCAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBmbG9hdChzZWxmLnN0YXJ0X3RpbWVfdmFyLmdldCgpKSBpZiBzZWxmLnN0YXJ0X3RpbWVfdmFyLmdldCgpIGVsc2UgTm9uZVxuICAgNjA1XHQgICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOlxuICAgNjA2XHQgICAgICAgICAgICBzdGFydF90aW1lID0gTm9uZVxuICAgNjA3XHRcbiAgIDYwOFx0ICAgICAgICB0cnk6XG4gICA2MDlcdCAgICAgICAgICAgIGVuZF90aW1lID0gZmxvYXQoc2VsZi5lbmRfdGltZV92YXIuZ2V0KCkpIGlmIHNlbGYuZW5kX3RpbWVfdmFyLmdldCgpIGVsc2UgTm9uZVxuICAgNjEwXHQgICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOlxuICAgNjExXHQgICAgICAgICAgICBlbmRfdGltZSA9IE5vbmVcbiAgIDYxMlx0XG4gICA2MTNcdCAgICAgICAgIyBUcnkgdG8gbG9hZCB0aGUgRUVHIGZpbGUgd2l0aCBNTkVcbiAgIDYxNFx0ICAgICAgICB0cnk6XG4gICA2MTVcdCAgICAgICAgICAgICMgIyBTaG93IGEgbG9hZGluZyBtZXNzYWdlXG4gICA2MTZcdCAgICAgICAgICAgICMgc2VsZi5sb2FkaW5nX3dpbmRvdyA9IHRrLlRvcGxldmVsKHNlbGYpXG4gICA2MTdcdCAgICAgICAgICAgICMgc2VsZi5sb2FkaW5nX3dpbmRvdy50aXRsZShcIkxvYWRpbmcgRUVHXCIpXG4gICA2MThcdCAgICAgICAgICAgICMgc2VsZi5sb2FkaW5nX3dpbmRvdy5nZW9tZXRyeShcIjMwMHgxMDBcIilcbiAgIDYxOVx0ICAgICAgICAgICAgIyBzZWxmLmxvYWRpbmdfd2luZG93LnRyYW5zaWVudChzZWxmLm1hc3RlcilcbiAgIDYyMFx0ICAgICAgICAgICAgIyBzZWxmLmxvYWRpbmdfd2luZG93LmdyYWJfc2V0KClcbiAgIDYyMVx0ICAgICAgICAgICAgI1xuICAgNjIyXHQgICAgICAgICAgICAjIGxvYWRpbmdfbGFiZWwgPSB0ay5MYWJlbChzZWxmLmxvYWRpbmdfd2luZG93LCB0ZXh0PVwiTG9hZGluZyBFRUcgZmlsZS4uLlxcblRoaXMgbWF5IHRha2UgYSBtb21lbnQuXCIpXG4gICA2MjNcdCAgICAgICAgICAgICMgbG9hZGluZ19sYWJlbC5wYWNrKGV4cGFuZD1UcnVlLCBmaWxsPXRrLkJPVEgsIHBhZHg9MjAsIHBhZHk9MjApXG4gICA2MjRcdCAgICAgICAgICAgICNcbiAgIDYyNVx0ICAgICAgICAgICAgIyBzZWxmLmxvYWRpbmdfd2luZG93LnVwZGF0ZSgpXG4gICA2MjZcdFxuICAgNjI3XHQgICAgICAgICAgICAjIExvYWQgdGhlIEVFRyBmaWxlIC0gdHJ5IGRpZmZlcmVudCByZWFkZXJzIGJhc2VkIG9uIGZpbGUgZXh0ZW5zaW9uXG4gICA2MjhcdCAgICAgICAgICAgIGZpbGVfZXh0ID0gb3MucGF0aC5zcGxpdGV4dChlZWdfZmlsZXBhdGgpWzFdLmxvd2VyKClcbiAgIDYyOVx0XG4gICA2MzBcdCAgICAgICAgICAgIGlmIGZpbGVfZXh0ID09ICcuZWRmJzpcbiAgIDYzMVx0ICAgICAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3Jhd19lZGYoZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXG4gICA2MzJcdCAgICAgICAgICAgIGVsaWYgZmlsZV9leHQgPT0gJy5iZGYnOlxuICAgNjMzXHQgICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2JkZihlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcbiAgIDYzNFx0ICAgICAgICAgICAgZWxpZiBmaWxlX2V4dCA9PSAnLmdkZic6XG4gICA2MzVcdCAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXdfZ2RmKGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxuICAgNjM2XHQgICAgICAgICAgICBlbGlmIGZpbGVfZXh0IGluIFsnLnZoZHInLCAnLnZtcmsnLCAnLmVlZyddOlxuICAgNjM3XHQgICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2JyYWludmlzaW9uKGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxuICAgNjM4XHQgICAgICAgICAgICBlbGlmIGZpbGVfZXh0ID09ICcuY250JzpcbiAgIDYzOVx0ICAgICAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3Jhd19jbnQoZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXG4gICA2NDBcdCAgICAgICAgICAgIGVsaWYgZmlsZV9leHQgPT0gJy5zZXQnOlxuICAgNjQxXHQgICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2VlZ2xhYihlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcbiAgIDY0Mlx0ICAgICAgICAgICAgZWxzZTpcbiAgIDY0M1x0ICAgICAgICAgICAgICAgICMgVHJ5IHRoZSBnZW5lcmljIHJlYWRlciBhcyBhIGZhbGxiYWNrXG4gICA2NDRcdCAgICAgICAgICAgICAgICB0cnk6XG4gICA2NDVcdCAgICAgICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3KGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxuICAgNjQ2XHQgICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxuICAgNjQ3XHQgICAgICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZlwiVW5zdXBwb3J0ZWQgZmlsZSBmb3JtYXQ6IHtmaWxlX2V4dH0uIEVycm9yOiB7c3RyKGUpfVwiKVxuICAgNjQ4XHRcbiAgIDY0OVx0ICAgICAgICAgICAgIyBDbG9zZSB0aGUgbG9hZGluZyB3aW5kb3dcbiAgIDY1MFx0ICAgICAgICAgICAgIyBzZWxmLmxvYWRpbmdfd2luZG93LmRlc3Ryb3koKVxuICAgNjUxXHRcbiAgIDY1Mlx0ICAgICAgICAgICAgIyBTZXQgdGhlIHRpbWUgd2luZG93IGlmIHNwZWNpZmllZFxuICAgNjUzXHQgICAgICAgICAgICBpZiBzdGFydF90aW1lIGlzIG5vdCBOb25lIGFuZCBlbmRfdGltZSBpcyBub3QgTm9uZTpcbiAgIDY1NFx0ICAgICAgICAgICAgICAgICMgQ29udmVydCBmcm9tIHNlY29uZHMgdG8gcG9pbnRzIGlmIG5lZWRlZFxuICAgNjU1XHQgICAgICAgICAgICAgICAgc3RhcnRfaWR4ID0gbWF4KDAsIGludChzdGFydF90aW1lICogcmF3LmluZm9bJ3NmcmVxJ10pKVxuICAgNjU2XHQgICAgICAgICAgICAgICAgZW5kX2lkeCA9IG1pbihsZW4ocmF3LnRpbWVzKSwgaW50KGVuZF90aW1lICogcmF3LmluZm9bJ3NmcmVxJ10pKVxuICAgNjU3XHRcbiAgIDY1OFx0ICAgICAgICAgICAgICAgICMgQ3JlYXRlIGEgcGxvdCB3aXRoIHRoZSBzcGVjaWZpZWQgdGltZSB3aW5kb3dcbiAgIDY1OVx0ICAgICAgICAgICAgICAgIHJhdy5wbG90KHN0YXJ0PXN0YXJ0X3RpbWUsIGR1cmF0aW9uPShlbmRfaWR4LXN0YXJ0X2lkeCkvcmF3LmluZm9bJ3NmcmVxJ10sXG4gICA2NjBcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxpbmdzPSdhdXRvJywgYmxvY2s9VHJ1ZSwgc2hvdz1UcnVlKVxuICAgNjYxXHRcbiAgIDY2Mlx0ICAgICAgICAgICAgICAgICMgIyBTZXQgdGhlIHdpbmRvdyB0aXRsZSB0byBpbmNsdWRlIHRoZSBFRUcgZmlsZW5hbWVcbiAgIDY2M1x0ICAgICAgICAgICAgICAgICMgZmlnLmNhbnZhcy5tYW5hZ2VyLnNldF93aW5kb3dfdGl0bGUoZlwiTU5FIEVFRyBWaWV3ZXIgLSB7c2VsZWN0ZWRfZWVnWydmaWxlbmFtZSddfVwiKVxuICAgNjY0XHQgICAgICAgICAgICAgICAgI1xuICAgNjY1XHQgICAgICAgICAgICAgICAgIyAjIFNob3cgdGhlIHBsb3RcbiAgIDY2Nlx0ICAgICAgICAgICAgICAgICMgZmlnLnNob3coKVxuICAgNjY3XHQgICAgICAgICAgICBlbHNlOlxuICAgNjY4XHQgICAgICAgICAgICAgICAgIyBKdXN0IHNob3cgdGhlIHdob2xlIEVFR1xuICAgNjY5XHQgICAgICAgICAgICAgICAgcmF3LnBsb3Qoc2NhbGluZ3M9J2F1dG8nLCBibG9jaz1UcnVlLCBzaG93PVRydWUpXG4gICA2NzBcdCAgICAgICAgICAgICAgICAjIGZpZy5jYW52YXMubWFuYWdlci5zZXRfd2luZG93X3RpdGxlKGZcIk1ORSBFRUcgVmlld2VyIC0ge3NlbGVjdGVkX2VlZ1snZmlsZW5hbWUnXX1cIilcbiAgIDY3MVx0ICAgICAgICAgICAgICAgICMgZmlnLnNob3coKVxuICAgNjcyXHRcbiAgIDY3M1x0ICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XG4gICA2NzRcdCAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKFwiRXJyb3JcIiwgZlwiRmFpbGVkIHRvIG9wZW4gdGhlIEVFRyBmaWxlIHdpdGggTU5FOlxcbntzdHIoZSl9XCIpXG4gICA2NzVcdCAgICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ2xvYWRpbmdfd2luZG93JykgYW5kIHNlbGYubG9hZGluZ193aW5kb3cud2luZm9fZXhpc3RzKCk6XG4gICA2NzZcdCAgICAgICAgICAgICAgICBzZWxmLmxvYWRpbmdfd2luZG93LmRlc3Ryb3koKVxuICAgNjc3XHRcbiAgIDY3OFx0ICAgIGRlZiB1cGRhdGVfcGxvdChzZWxmKTpcbiAgIDY3OVx0ICAgICAgICBcIlwiXCJVcGRhdGUgdGhlIHBsb3Qgd2l0aCB0aGUgc2VsZWN0ZWQgbWV0cmljIGFuZCBjaGFubmVscy5cIlwiXCJcbiAgIDY4MFx0ICAgICAgICBpZiBub3QgaGFzYXR0cihzZWxmLCAnY3VycmVudF9leHBlcmltZW50X2lkJykgb3Igbm90IGhhc2F0dHIoc2VsZiwgJ2N1cnJlbnRfZWVnX2lkJykgb3Igbm90IHNlbGYuY3VycmVudF9tZXRyaWM6XG4gICA2ODFcdCAgICAgICAgICAgIHJldHVyblxuICAgNjgyXHRcbiAgIDY4M1x0ICAgICAgICAjIEdldCBzZWxlY3RlZCBjaGFubmVsc1xuICAgNjg0XHQgICAgICAgIHNlbGVjdGVkX2NoYW5uZWxzID0gW2NoYW5uZWwgZm9yIGNoYW5uZWwsIHZhciBpbiBzZWxmLmNoYW5uZWxfdmFycy5pdGVtcygpIGlmIHZhci5nZXQoKV1cbiAgIDY4NVx0XG4gICA2ODZcdCAgICAgICAgIyBHZXQgc2VsZWN0ZWQgYWdncmVnYXRpb24gbWV0aG9kc1xuICAgNjg3XHQgICAgICAgIHNlbGVjdGVkX2FnZ3JlZ2F0aW9ucyA9IFthZ2cgZm9yIGFnZywgdmFyIGluIHNlbGYuYWdncmVnYXRpb25fdmFycy5pdGVtcygpIGlmIHZhci5nZXQoKV1cbiAgIDY4OFx0XG4gICA2ODlcdCAgICAgICAgIyBDaGVjayBpZiB3ZSBzaG91bGQgc2hvdyBvbmx5IGFnZ3JlZ2F0aW9uc1xuICAgNjkwXHQgICAgICAgIGFnZ3JlZ2F0aW9uX29ubHkgPSBzZWxmLmFnZ3JlZ2F0aW9uX29ubHlfdmFyLmdldCgpXG4gICA2OTFcdFxuICAgNjkyXHQgICAgICAgICMgQ2hlY2sgaWYgd2UgaGF2ZSB2YWxpZCBzZWxlY3Rpb25zXG4gICA2OTNcdCAgICAgICAgaWYgKG5vdCBzZWxlY3RlZF9jaGFubmVscyBhbmQgbm90IHNlbGVjdGVkX2FnZ3JlZ2F0aW9ucykgb3IgXFxcbiAgIDY5NFx0ICAgICAgICAgICAoYWdncmVnYXRpb25fb25seSBhbmQgbm90IHNlbGVjdGVkX2FnZ3JlZ2F0aW9ucyk6XG4gICA2OTVcdCAgICAgICAgICAgIHNlbGYucGxvdF9mcmFtZS51cGRhdGVfcGxvdChOb25lLCBOb25lLCBOb25lLCBcIk5vIGNoYW5uZWxzIG9yIGFnZ3JlZ2F0aW9ucyBzZWxlY3RlZFwiKVxuICAgNjk2XHQgICAgICAgICAgICByZXR1cm5cbiAgIDY5N1x0XG4gICA2OThcdCAgICAgICAgIyBHZXQgZGF0YSBmb3IgdGhlIHNlbGVjdGVkIGV4cGVyaW1lbnQgYW5kIEVFR1xuICAgNjk5XHQgICAgICAgIGRmID0gc2VsZi5kYl9oYW5kbGVyLmdldF9tZXRyaWNzX2RhdGEoc2VsZi5jdXJyZW50X2V4cGVyaW1lbnRfaWQsIHNlbGYuY3VycmVudF9lZWdfaWQpXG4gICA3MDBcdFxuICAgNzAxXHQgICAgICAgIGlmIGRmLmVtcHR5OlxuICAgNzAyXHQgICAgICAgICAgICBzZWxmLnBsb3RfZnJhbWUudXBkYXRlX3Bsb3QoTm9uZSwgTm9uZSwgTm9uZSwgXCJObyBkYXRhIGF2YWlsYWJsZVwiKVxuICAgNzAzXHQgICAgICAgICAgICByZXR1cm5cbiAgIDcwNFx0XG4gICA3MDVcdCAgICAgICAgIyBHZXQgdGltZSB3aW5kb3cgdmFsdWVzXG4gICA3MDZcdCAgICAgICAgdHJ5OlxuICAgNzA3XHQgICAgICAgICAgICBzdGFydF90aW1lID0gZmxvYXQoc2VsZi5zdGFydF90aW1lX3Zhci5nZXQoKSkgaWYgc2VsZi5zdGFydF90aW1lX3Zhci5nZXQoKSBlbHNlIE5vbmVcbiAgIDcwOFx0ICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjpcbiAgIDcwOVx0ICAgICAgICAgICAgc3RhcnRfdGltZSA9IE5vbmVcbiAgIDcxMFx0ICAgICAgICAgICAgc2VsZi5zdGFydF90aW1lX3Zhci5zZXQoXCIwXCIpXG4gICA3MTFcdFxuICAgNzEyXHQgICAgICAgIHRyeTpcbiAgIDcxM1x0ICAgICAgICAgICAgZW5kX3RpbWUgPSBmbG9hdChzZWxmLmVuZF90aW1lX3Zhci5nZXQoKSkgaWYgc2VsZi5lbmRfdGltZV92YXIuZ2V0KCkgZWxzZSBOb25lXG4gICA3MTRcdCAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6XG4gICA3MTVcdCAgICAgICAgICAgIGVuZF90aW1lID0gTm9uZVxuICAgNzE2XHQgICAgICAgICAgICBzZWxmLmVuZF90aW1lX3Zhci5zZXQoXCJcIilcbiAgIDcxN1x0XG4gICA3MThcdCAgICAgICAgIyBVcGRhdGUgdGhlIHBsb3RcbiAgIDcxOVx0ICAgICAgICBleHBlcmltZW50X25hbWUgPSBuZXh0KChleHBbJ25hbWUnXSBmb3IgZXhwIGluIHNlbGYuZXhwZXJpbWVudHMgaWYgZXhwWydpZCddID09IHNlbGYuY3VycmVudF9leHBlcmltZW50X2lkKSwgXCJcIilcbiAgIDcyMFx0ICAgICAgICBlZWdfbmFtZSA9IG5leHQoKGVlZ1snZmlsZW5hbWUnXSBmb3IgZWVnIGluIHNlbGYuZWVncyBpZiBlZWdbJ2lkJ10gPT0gc2VsZi5jdXJyZW50X2VlZ19pZCksIFwiXCIpXG4gICA3MjFcdFxuICAgNzIyXHQgICAgICAgIHRpdGxlID0gZlwie3NlbGYuY3VycmVudF9tZXRyaWN9IGZvciB7ZXhwZXJpbWVudF9uYW1lfSAtIHtlZWdfbmFtZX1cIlxuICAgNzIzXHRcbiAgIDcyNFx0ICAgICAgICAjIEFkZCBhZ2dyZWdhdGlvbi1vbmx5IGluZm8gdG8gdGl0bGUgaWYgc3BlY2lmaWVkXG4gICA3MjVcdCAgICAgICAgaWYgYWdncmVnYXRpb25fb25seSBhbmQgc2VsZWN0ZWRfYWdncmVnYXRpb25zOlxuICAgNzI2XHQgICAgICAgICAgICB0aXRsZSArPSBcIiAoQWdncmVnYXRpb24gT25seSlcIlxuICAgNzI3XHRcbiAgIDcyOFx0ICAgICAgICAjIEFkZCB0aW1lIHdpbmRvdyBpbmZvIHRvIHRpdGxlIGlmIHNwZWNpZmllZFxuICAgNzI5XHQgICAgICAgIGlmIHN0YXJ0X3RpbWUgaXMgbm90IE5vbmUgYW5kIGVuZF90aW1lIGlzIG5vdCBOb25lOlxuICAgNzMwXHQgICAgICAgICAgICB0aXRsZSArPSBmXCIgKFRpbWU6IHtzdGFydF90aW1lfXMgdG8ge2VuZF90aW1lfXMpXCJcbiAgIDczMVx0ICAgICAgICBlbGlmIHN0YXJ0X3RpbWUgaXMgbm90IE5vbmU6XG4gICA3MzJcdCAgICAgICAgICAgIHRpdGxlICs9IGZcIiAoVGltZToge3N0YXJ0X3RpbWV9cyspXCJcbiAgIDczM1x0XG4gICA3MzRcdCAgICAgICAgc2VsZi5wbG90X2ZyYW1lLnVwZGF0ZV9wbG90KFxuICAgNzM1XHQgICAgICAgICAgICBkZixcbiAgIDczNlx0ICAgICAgICAgICAgc2VsZi5jdXJyZW50X21ldHJpYyxcbiAgIDczN1x0ICAgICAgICAgICAgc2VsZWN0ZWRfY2hhbm5lbHMsXG4gICA3MzhcdCAgICAgICAgICAgIHRpdGxlLFxuICAgNzM5XHQgICAgICAgICAgICB0aW1lX3dpbmRvdz0oc3RhcnRfdGltZSwgZW5kX3RpbWUpLFxuICAgNzQwXHQgICAgICAgICAgICBhZ2dyZWdhdGlvbnM9c2VsZWN0ZWRfYWdncmVnYXRpb25zLFxuICAgNzQxXHQgICAgICAgICAgICBhZ2dyZWdhdGlvbl9vbmx5PWFnZ3JlZ2F0aW9uX29ubHlcbiAgIDc0Mlx0ICAgICAgICApXG4gICA3NDNcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogNzQzXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFBTW5aTnVTTkZQUUpqdkQzVk5oSGJBIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIiwiZm9sZGVyUm9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJOb3cgSSBuZWVkIHRvIHVuZGVyc3RhbmQgaG93IHRoZSBNTkUgcGxvdHRpbmcgaXMgY3VycmVudGx5IGltcGxlbWVudGVkLiBMZXQgbWUgbG9vayBhdCB0aGUgYHZpZXdfZWVnYCBtZXRob2QgaW4gbW9yZSBkZXRhaWwuIEkgY2FuIHNlZSB0aGF0IHRoZSBNTkUgcGxvdCBpcyBiZWluZyBjYWxsZWQgd2l0aCBgYmxvY2s9VHJ1ZWAgd2hpY2ggaXMgY2F1c2luZyBpdCB0byBibG9jayB0aGUgbWFpbiBhcHBsaWNhdGlvbi4gSSdsbCBuZWVkIHRvIG1vZGlmeSB0aGlzIHRvIHJ1biBpbiBhIHN1YnByb2Nlc3MuXG5cbkxldCBtZSBhbHNvIGNoZWNrIGlmIHRoZXJlIGFyZSBhbnkgaW1wb3J0cyBvciB1dGlsaXRpZXMgSSBtaWdodCBuZWVkIHRvIHVzZSBmb3IgaW1wbGVtZW50aW5nIHRoZSBzdWJwcm9jZXNzIGZ1bmN0aW9uYWxpdHk6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYmI2MTZiNzktMWUxNS00YmU3LThmM2QtNWQwZjI1OGY2MWI0IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNjVMb053dDgyMURCanV5ODFIWlNEZCIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJmaWxlX3BhdGhcIjogXCJndWkvbWV0cmljc192aWV3ZXIvbW5lX3Bsb3RfaGVscGVyLnB5XCIsIFwiZmlsZV9jb250ZW50XCI6IFwiIyEvdXNyL2Jpbi9lbnYgcHl0aG9uM1xcblxcXCJcXFwiXFxcIlxcbkhlbHBlciBzY3JpcHQgdG8gZGlzcGxheSBNTkUgcGxvdHMgaW4gYSBzZXBhcmF0ZSBwcm9jZXNzLlxcblxcblRoaXMgc2NyaXB0IGlzIGNhbGxlZCBieSB0aGUgbWFpbiBhcHBsaWNhdGlvbiB0byBkaXNwbGF5IE1ORSBwbG90cyB3aXRob3V0IGJsb2NraW5nXFxudGhlIG1haW4gYXBwbGljYXRpb24gdGhyZWFkLlxcblxcXCJcXFwiXFxcIlxcblxcbmltcG9ydCBzeXNcXG5pbXBvcnQgb3NcXG5pbXBvcnQgbW5lXFxuaW1wb3J0IGFyZ3BhcnNlXFxuXFxuXFxuZGVmIG1haW4oKTpcXG4gICAgXFxcIlxcXCJcXFwiUGFyc2UgYXJndW1lbnRzIGFuZCBkaXNwbGF5IHRoZSBNTkUgcGxvdC5cXFwiXFxcIlxcXCJcXG4gICAgcGFyc2VyID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoZGVzY3JpcHRpb249J0Rpc3BsYXkgTU5FIHBsb3QgaW4gYSBzZXBhcmF0ZSBwcm9jZXNzJylcXG4gICAgcGFyc2VyLmFkZF9hcmd1bWVudCgnLS1maWxlcGF0aCcsIHR5cGU9c3RyLCByZXF1aXJlZD1UcnVlLCBoZWxwPSdQYXRoIHRvIHRoZSBFRUcgZmlsZScpXFxuICAgIHBhcnNlci5hZGRfYXJndW1lbnQoJy0tc3RhcnQtdGltZScsIHR5cGU9ZmxvYXQsIGhlbHA9J1N0YXJ0IHRpbWUgaW4gc2Vjb25kcycpXFxuICAgIHBhcnNlci5hZGRfYXJndW1lbnQoJy0tZW5kLXRpbWUnLCB0eXBlPWZsb2F0LCBoZWxwPSdFbmQgdGltZSBpbiBzZWNvbmRzJylcXG4gICAgcGFyc2VyLmFkZF9hcmd1bWVudCgnLS10aXRsZScsIHR5cGU9c3RyLCBoZWxwPSdXaW5kb3cgdGl0bGUnKVxcblxcbiAgICBhcmdzID0gcGFyc2VyLnBhcnNlX2FyZ3MoKVxcblxcbiAgICAjIENoZWNrIGlmIHRoZSBmaWxlIGV4aXN0c1xcbiAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMoYXJncy5maWxlcGF0aCk6XFxuICAgICAgICBwcmludChmXFxcIkVycm9yOiBGaWxlIG5vdCBmb3VuZCBhdCB7YXJncy5maWxlcGF0aH1cXFwiLCBmaWxlPXN5cy5zdGRlcnIpXFxuICAgICAgICByZXR1cm4gMVxcblxcbiAgICB0cnk6XFxuICAgICAgICAjIExvYWQgdGhlIEVFRyBmaWxlIGJhc2VkIG9uIGZpbGUgZXh0ZW5zaW9uXFxuICAgICAgICBmaWxlX2V4dCA9IG9zLnBhdGguc3BsaXRleHQoYXJncy5maWxlcGF0aClbMV0ubG93ZXIoKVxcblxcbiAgICAgICAgaWYgZmlsZV9leHQgPT0gJy5lZGYnOlxcbiAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3Jhd19lZGYoYXJncy5maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxcbiAgICAgICAgZWxpZiBmaWxlX2V4dCA9PSAnLmJkZic6XFxuICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2JkZihhcmdzLmZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXFxuICAgICAgICBlbGlmIGZpbGVfZXh0ID09ICcuZ2RmJzpcXG4gICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXdfZ2RmKGFyZ3MuZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcXG4gICAgICAgIGVsaWYgZmlsZV9leHQgaW4gWycudmhkcicsICcudm1yaycsICcuZWVnJ106XFxuICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2JyYWludmlzaW9uKGFyZ3MuZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcXG4gICAgICAgIGVsaWYgZmlsZV9leHQgPT0gJy5jbnQnOlxcbiAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3Jhd19jbnQoYXJncy5maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxcbiAgICAgICAgZWxpZiBmaWxlX2V4dCA9PSAnLnNldCc6XFxuICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2VlZ2xhYihhcmdzLmZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXFxuICAgICAgICBlbHNlOlxcbiAgICAgICAgICAgICMgVHJ5IHRoZSBnZW5lcmljIHJlYWRlciBhcyBhIGZhbGxiYWNrXFxuICAgICAgICAgICAgdHJ5OlxcbiAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXcoYXJncy5maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxcbiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcXG4gICAgICAgICAgICAgICAgcHJpbnQoZlxcXCJVbnN1cHBvcnRlZCBmaWxlIGZvcm1hdDoge2ZpbGVfZXh0fS4gRXJyb3I6IHtzdHIoZSl9XFxcIiwgZmlsZT1zeXMuc3RkZXJyKVxcbiAgICAgICAgICAgICAgICByZXR1cm4gMVxcblxcbiAgICAgICAgIyBTZXQgdGhlIHRpbWUgd2luZG93IGlmIHNwZWNpZmllZFxcbiAgICAgICAgaWYgYXJncy5zdGFydF90aW1lIGlzIG5vdCBOb25lIGFuZCBhcmdzLmVuZF90aW1lIGlzIG5vdCBOb25lOlxcbiAgICAgICAgICAgICMgQ29udmVydCBmcm9tIHNlY29uZHMgdG8gcG9pbnRzIGlmIG5lZWRlZFxcbiAgICAgICAgICAgIHN0YXJ0X2lkeCA9IG1heCgwLCBpbnQoYXJncy5zdGFydF90aW1lICogcmF3LmluZm9bJ3NmcmVxJ10pKVxcbiAgICAgICAgICAgIGVuZF9pZHggPSBtaW4obGVuKHJhdy50aW1lcyksIGludChhcmdzLmVuZF90aW1lICogcmF3LmluZm9bJ3NmcmVxJ10pKVxcbiAgICAgICAgICAgIGR1cmF0aW9uID0gKGVuZF9pZHggLSBzdGFydF9pZHgpIC8gcmF3LmluZm9bJ3NmcmVxJ11cXG5cXG4gICAgICAgICAgICAjIENyZWF0ZSBhIHBsb3Qgd2l0aCB0aGUgc3BlY2lmaWVkIHRpbWUgd2luZG93XFxuICAgICAgICAgICAgZmlnID0gcmF3LnBsb3Qoc3RhcnQ9YXJncy5zdGFydF90aW1lLCBkdXJhdGlvbj1kdXJhdGlvbixcXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxpbmdzPSdhdXRvJywgYmxvY2s9VHJ1ZSwgc2hvdz1UcnVlKVxcbiAgICAgICAgZWxzZTpcXG4gICAgICAgICAgICAjIEp1c3Qgc2hvdyB0aGUgd2hvbGUgRUVHXFxuICAgICAgICAgICAgZmlnID0gcmF3LnBsb3Qoc2NhbGluZ3M9J2F1dG8nLCBibG9jaz1UcnVlLCBzaG93PVRydWUpXFxuXFxuICAgICAgICAjIFNldCB0aGUgd2luZG93IHRpdGxlIGlmIHByb3ZpZGVkXFxuICAgICAgICBpZiBhcmdzLnRpdGxlIGFuZCBoYXNhdHRyKGZpZywgJ2NhbnZhcycpIGFuZCBoYXNhdHRyKGZpZy5jYW52YXMsICdtYW5hZ2VyJyk6XFxuICAgICAgICAgICAgZmlnLmNhbnZhcy5tYW5hZ2VyLnNldF93aW5kb3dfdGl0bGUoYXJncy50aXRsZSlcXG5cXG4gICAgICAgIHJldHVybiAwXFxuXFxuICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcXG4gICAgICAgIHByaW50KGZcXFwiRXJyb3IgZGlzcGxheWluZyBNTkUgcGxvdDoge3N0cihlKX1cXFwiLCBmaWxlPXN5cy5zdGRlcnIpXFxuICAgICAgICByZXR1cm4gMVxcblxcblxcbmlmIF9fbmFtZV9fID09IFxcXCJfX21haW5fX1xcXCI6XFxuICAgIHN5cy5leGl0KG1haW4oKSlcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkkgZG9uJ3Qgc2VlIGFueSBleGlzdGluZyBjb2RlIGluIHRoZSBjb2RlYmFzZSB0aGF0IHVzZXMgbXVsdGlwcm9jZXNzaW5nIG9yIHN1YnByb2Nlc3MgZm9yIHJ1bm5pbmcgcHJvY2Vzc2VzIGluIHRoZSBiYWNrZ3JvdW5kLiBMZXQgbWUgY3JlYXRlIGEgc29sdXRpb24gdG8gcnVuIHRoZSBNTkUgcGxvdCBpbiBhIHN1YnByb2Nlc3MuXG5cbkhlcmUncyBteSBwbGFuOlxuXG4xLiBDcmVhdGUgYSBoZWxwZXIgc2NyaXB0IHRoYXQgd2lsbCBiZSBydW4gYXMgYSBzdWJwcm9jZXNzIHRvIGRpc3BsYXkgdGhlIE1ORSBwbG90XG4yLiBNb2RpZnkgdGhlIGB2aWV3X2VlZ2AgbWV0aG9kIHRvIGxhdW5jaCB0aGlzIHNjcmlwdCBhcyBhIHN1YnByb2Nlc3MgaW5zdGVhZCBvZiBydW5uaW5nIHRoZSBNTkUgcGxvdCBkaXJlY3RseVxuXG5MZXQncyBzdGFydCBieSBjcmVhdGluZyB0aGUgaGVscGVyIHNjcmlwdDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IGd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHlcblwiXCJcIlxuU2VsZWN0aW9uIGZyYW1lIGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuXG5UaGlzIG1vZHVsZSBwcm92aWRlcyB0aGUgU2VsZWN0aW9uRnJhbWUgY2xhc3MgZm9yIHNlbGVjdGluZyBleHBlcmltZW50cywgRUVHcyxcbm1ldHJpY3MsIGNoYW5uZWxzLCBhbmQgb3RoZXIgdmlzdWFsaXphdGlvbiBvcHRpb25zLlxuXCJcIlwiXG5cbmZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBEaWN0LCBUdXBsZSwgT3B0aW9uYWwsIEFueSwgQ2FsbGFibGVcbmltcG9ydCBvc1xuaW1wb3J0IGN1c3RvbXRraW50ZXIgYXMgY3RrXG5pbXBvcnQgdGtpbnRlciBhcyB0a1xuZnJvbSB0a2ludGVyIGltcG9ydCBtZXNzYWdlYm94XG5pbXBvcnQgbW5lXG5pbXBvcnQgbnVtcHkgYXMgbnBcblxuZnJvbSAuZGF0YWJhc2VfaGFuZGxlciBpbXBvcnQgRGF0YWJhc2VIYW5kbGVyXG5mcm9tIC5wbG90X2ZyYW1lIGltcG9ydCBNZXRyaWNzUGxvdEZyYW1lXG5mcm9tIC51dGlscyBpbXBvcnQgKFxuICAgIGdldF9sYWJlbF9mb250LFxuICAgIGdldF9kcm9wZG93bl9mb250LFxuICAgIGdldF9idXR0b25fZm9udCxcbiAgICBDT01NT05fQ0hBTk5FTFMsXG4gICAgQUxURVJOQVRJVkVfQ0hBTk5FTF9OQU1FU1xuKVxuXG5cbmNsYXNzIFNlbGVjdGlvbkZyYW1lKGN0ay5DVGtGcmFtZSk6XG4gICAgXCJcIlwiXG4gICAgQSBmcmFtZSBjb250YWluaW5nIGNvbnRyb2xzIGZvciBzZWxlY3RpbmcgZXhwZXJpbWVudHMsIEVFR3MsIG1ldHJpY3MsIGNoYW5uZWxzLCBhbmQgb3RoZXIgb3B0aW9ucy5cbiAgICBBbHNvIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdmlldyB0aGUgb3JpZ2luYWwgRUVHIGZpbGUgdXNpbmcgTU5FLCBzeW5jaHJvbml6ZWQgd2l0aCB0aGUgY3VycmVudCB0aW1lIHdpbmRvdy5cbiAgICBcIlwiXCJcblxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBtYXN0ZXIsIGRiX2hhbmRsZXI6IERhdGFiYXNlSGFuZGxlciwgcGxvdF9mcmFtZTogTWV0cmljc1Bsb3RGcmFtZSwgKiprd2FyZ3MpOlxuICAgICAgICBcIlwiXCJcbiAgICAgICAgSW5pdGlhbGl6ZSB0aGUgc2VsZWN0aW9uIGZyYW1lLlxuXG4gICAgICAgIEFyZ3M6XG4gICAgICAgICAgICBtYXN0ZXI6IFRoZSBwYXJlbnQgd2lkZ2V0XG4gICAgICAgICAgICBkYl9oYW5kbGVyOiBEYXRhYmFzZUhhbmRsZXIgaW5zdGFuY2UgZm9yIHF1ZXJ5aW5nIHRoZSBkYXRhYmFzZVxuICAgICAgICAgICAgcGxvdF9mcmFtZTogTWV0cmljc1Bsb3RGcmFtZSBpbnN0YW5jZSBmb3IgZGlzcGxheWluZyBwbG90c1xuICAgICAgICAgICAgKiprd2FyZ3M6IEFkZGl0aW9uYWwgYXJndW1lbnRzIGZvciB0aGUgQ1RrRnJhbWUgY29uc3RydWN0b3JcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIHN1cGVyKCkuX19pbml0X18obWFzdGVyLCAqKmt3YXJncylcblxuICAgICAgICBzZWxmLmRiX2hhbmRsZXIgPSBkYl9oYW5kbGVyXG4gICAgICAgIHNlbGYucGxvdF9mcmFtZSA9IHBsb3RfZnJhbWVcblxuICAgICAgICAjIENvbmZpZ3VyZSBncmlkIGxheW91dFxuICAgICAgICBzZWxmLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgICAgICBzZWxmLmdyaWRfY29sdW1uY29uZmlndXJlKDEsIHdlaWdodD0xKVxuICAgICAgICBzZWxmLmdyaWRfcm93Y29uZmlndXJlKDgsIHdlaWdodD0wKSAgIyBSb3cgZm9yIHRoZSBWaWV3IEVFRyBidXR0b25cblxuICAgICAgICAjIENyZWF0ZSBmb250c1xuICAgICAgICBsYWJlbF9mb250ID0gZ2V0X2xhYmVsX2ZvbnQoKVxuICAgICAgICBkcm9wZG93bl9mb250ID0gZ2V0X2Ryb3Bkb3duX2ZvbnQoKVxuXG4gICAgICAgICMgRXhwZXJpbWVudCBzZWxlY3Rpb24gLSBtb3JlIGNvbXBhY3RcbiAgICAgICAgc2VsZi5leHBlcmltZW50X2xhYmVsID0gY3RrLkNUa0xhYmVsKHNlbGYsIHRleHQ9XCJTZWxlY3QgRXhwZXJpbWVudDpcIiwgZm9udD1sYWJlbF9mb250KVxuICAgICAgICBzZWxmLmV4cGVyaW1lbnRfbGFiZWwuZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0oOCwgMCksIHN0aWNreT1cIndcIilcblxuICAgICAgICBzZWxmLmV4cGVyaW1lbnRzID0gc2VsZi5kYl9oYW5kbGVyLmdldF9leHBlcmltZW50cygpXG4gICAgICAgIGV4cGVyaW1lbnRfbmFtZXMgPSBbZlwie2V4cFsnbmFtZSddfSAoe2V4cFsncnVuX25hbWUnXX0pXCIgZm9yIGV4cCBpbiBzZWxmLmV4cGVyaW1lbnRzXVxuXG4gICAgICAgIHNlbGYuZXhwZXJpbWVudF92YXIgPSBjdGsuU3RyaW5nVmFyKHZhbHVlPWV4cGVyaW1lbnRfbmFtZXNbMF0gaWYgZXhwZXJpbWVudF9uYW1lcyBlbHNlIFwiXCIpXG4gICAgICAgIHNlbGYuZXhwZXJpbWVudF9kcm9wZG93biA9IGN0ay5DVGtPcHRpb25NZW51KFxuICAgICAgICAgICAgc2VsZixcbiAgICAgICAgICAgIHZhbHVlcz1leHBlcmltZW50X25hbWVzLFxuICAgICAgICAgICAgdmFyaWFibGU9c2VsZi5leHBlcmltZW50X3ZhcixcbiAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi5vbl9leHBlcmltZW50X3NlbGVjdGVkLFxuICAgICAgICAgICAgaGVpZ2h0PTI4LFxuICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250LFxuICAgICAgICAgICAgZHJvcGRvd25fZm9udD1kcm9wZG93bl9mb250XG4gICAgICAgIClcbi4uLlxuICAgICAgICBzZWxmLmRlc2VsZWN0X2FsbF9idXR0b24uZ3JpZChyb3c9MCwgY29sdW1uPTEsIHBhZHg9MiwgcGFkeT0zLCBzdGlja3k9XCJld1wiKVxuXG4gICAgICAgICMgQWRkIHNlbGVjdCBjb21tb24gY2hhbm5lbHMgYnV0dG9uXG4gICAgICAgIHNlbGYuc2VsZWN0X2NvbW1vbl9idXR0b24gPSBjdGsuQ1RrQnV0dG9uKFxuICAgICAgICAgICAgc2VsZi5jaGFubmVsX2J1dHRvbnNfZnJhbWUsXG4gICAgICAgICAgICB0ZXh0PVwiQ29tbW9uIENoYW5uZWxzXCIsXG4gICAgICAgICAgICBjb21tYW5kPXNlbGYuc2VsZWN0X2NvbW1vbl9jaGFubmVscyxcbiAgICAgICAgICAgIGhlaWdodD0yMixcbiAgICAgICAgICAgIGZvbnQ9YnV0dG9uX2ZvbnRcbiAgICAgICAgKVxuICAgICAgICBzZWxmLnNlbGVjdF9jb21tb25fYnV0dG9uLmdyaWQocm93PTAsIGNvbHVtbj0yLCBwYWR4PTIsIHBhZHk9Mywgc3RpY2t5PVwiZXdcIilcblxuICAgICAgICAjIENyZWF0ZSBhIHNjcm9sbGFibGUgZnJhbWUgZm9yIGNoYW5uZWwgY2hlY2tib3hlcyAtIGluY3JlYXNlZCBoZWlnaHQgZm9yIGJldHRlciB1c2FiaWxpdHlcbiAgICAgICAgc2VsZi5jaGFubmVsc19mcmFtZSA9IGN0ay5DVGtTY3JvbGxhYmxlRnJhbWUoc2VsZiwgd2lkdGg9MTgwLCBoZWlnaHQ9MjAwKVxuICAgICAgICBzZWxmLmNoYW5uZWxzX2ZyYW1lLmdyaWQocm93PTQsIGNvbHVtbj0xLCBwYWR4PTUsIHBhZHk9KDAsIDgpLCBzdGlja3k9XCJld1wiKVxuXG4gICAgICAgICMgQmluZCBtb3VzZSB3aGVlbCBldmVudHMgdG8gZW5zdXJlIHNjcm9sbGluZyB3b3JrcyBwcm9wZXJseVxuICAgICAgICBzZWxmLmJpbmRfbW91c2Vfd2hlZWwoc2VsZi5jaGFubmVsc19mcmFtZSlcblxuICAgICAgICBzZWxmLmNoYW5uZWxfdmFycyA9IHt9ICAjIFdpbGwgaG9sZCB0aGUgY2hlY2tib3ggdmFyaWFibGVzXG4uLi5cbiAgICAgICAgc2VsZi5lbmRfdGltZV9lbnRyeS5ncmlkKHJvdz0wLCBjb2x1bW49MywgcGFkeD01LCBwYWR5PTUsIHN0aWNreT1cImV3XCIpXG5cbiAgICAgICAgIyBSZXNldCB6b29tIGJ1dHRvblxuICAgICAgICBzZWxmLnJlc2V0X3pvb21fYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgICB0ZXh0PVwiUmVzZXQgWm9vbVwiLFxuICAgICAgICAgICAgY29tbWFuZD1zZWxmLnJlc2V0X3RpbWVfd2luZG93LFxuICAgICAgICAgICAgaGVpZ2h0PTI1LFxuICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250XG4gICAgICAgIClcbiAgICAgICAgc2VsZi5yZXNldF96b29tX2J1dHRvbi5ncmlkKHJvdz03LCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PSg1LCAwKSwgc3RpY2t5PVwiZXdcIilcblxuICAgICAgICAjIFVwZGF0ZSBidXR0b24gLSBtb3JlIGNvbXBhY3RcbiAgICAgICAgc2VsZi51cGRhdGVfYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgICB0ZXh0PVwiVXBkYXRlIFBsb3RcIixcbiAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi51cGRhdGVfcGxvdCxcbiAgICAgICAgICAgIGhlaWdodD0zMCxcbiAgICAgICAgICAgIGZvbnQ9Z2V0X2J1dHRvbl9mb250KClcbiAgICAgICAgKVxuICAgICAgICBzZWxmLnVwZGF0ZV9idXR0b24uZ3JpZChyb3c9NywgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT0oNSwgMCksIHN0aWNreT1cImV3XCIpXG5cbiAgICAgICAgIyBWaWV3IEVFRyBidXR0b25cbiAgICAgICAgc2VsZi52aWV3X2VlZ19idXR0b24gPSBjdGsuQ1RrQnV0dG9uKFxuICAgICAgICAgICAgc2VsZixcbiAgICAgICAgICAgIHRleHQ9XCJWaWV3IEVFR1wiLFxuICAgICAgICAgICAgY29tbWFuZD1zZWxmLnZpZXdfZWVnLFxuICAgICAgICAgICAgaGVpZ2h0PTMwLFxuICAgICAgICAgICAgZm9udD1nZXRfYnV0dG9uX2ZvbnQoKSxcbiAgICAgICAgICAgIGZnX2NvbG9yPVwiIzJhNjA5OVwiICAjIERpZmZlcmVudCBjb2xvciB0byBkaXN0aW5ndWlzaCBpdFxuICAgICAgICApXG4uLi5cblxuICAgIGRlZiBvbl9leHBlcmltZW50X3NlbGVjdGVkKHNlbGYsIHNlbGVjdGlvbjogc3RyKTpcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIEhhbmRsZSBleHBlcmltZW50IHNlbGVjdGlvbiBjaGFuZ2UuXG5cbiAgICAgICAgQXJnczpcbiAgICAgICAgICAgIHNlbGVjdGlvbjogU2VsZWN0ZWQgZXhwZXJpbWVudCBuYW1lXG4gICAgICAgIFwiXCJcIlxuICAgICAgICAjIEZpbmQgdGhlIHNlbGVjdGVkIGV4cGVyaW1lbnRcbiAgICAgICAgc2VsZWN0ZWRfZXhwID0gTm9uZVxuICAgICAgICBmb3IgZXhwIGluIHNlbGYuZXhwZXJpbWVudHM6XG4gICAgICAgICAgICBpZiBmXCJ7ZXhwWyduYW1lJ119ICh7ZXhwWydydW5fbmFtZSddfSlcIiA9PSBzZWxlY3Rpb246XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRfZXhwID0gZXhwXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICBpZiBub3Qgc2VsZWN0ZWRfZXhwOlxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgIyBVcGRhdGUgRUVHIGRyb3Bkb3duXG4gICAgICAgIHNlbGYuY3VycmVudF9leHBlcmltZW50X2lkID0gc2VsZWN0ZWRfZXhwWydpZCddXG4gICAgICAgIGVlZ3MgPSBzZWxmLmRiX2hhbmRsZXIuZ2V0X2VlZ3NfZm9yX2V4cGVyaW1lbnQoc2VsZi5jdXJyZW50X2V4cGVyaW1lbnRfaWQpXG4gICAgICAgIGVlZ19uYW1lcyA9IFtlZWdbJ2ZpbGVuYW1lJ10gZm9yIGVlZyBpbiBlZWdzXVxuXG4gICAgICAgIHNlbGYuZWVncyA9IGVlZ3NcbiAgICAgICAgc2VsZi5lZWdfZHJvcGRvd24uY29uZmlndXJlKHZhbHVlcz1lZWdfbmFtZXMpXG4gICAgICAgIGlmIGVlZ19uYW1lczpcbiAgICAgICAgICAgIHNlbGYuZWVnX3Zhci5zZXQoZWVnX25hbWVzWzBdKVxuICAgICAgICAgICAgc2VsZi5vbl9lZWdfc2VsZWN0ZWQoZWVnX25hbWVzWzBdKVxuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgc2VsZi5lZWdfdmFyLnNldChcIlwiKVxuICAgICAgICAgICAgc2VsZi5jbGVhcl9tZXRyaWNzKClcbiAgICAgICAgICAgIHNlbGYuY2xlYXJfY2hhbm5lbHMoKVxuLi4uXG5cbiAgICBkZWYgdXBkYXRlX2NoYW5uZWxzX2NoZWNrYm94ZXMoc2VsZik6XG4gICAgICAgIFwiXCJcIlVwZGF0ZSB0aGUgY2hhbm5lbCBjaGVja2JveGVzIGJhc2VkIG9uIHRoZSBzZWxlY3RlZCBleHBlcmltZW50IGFuZCBFRUcuXCJcIlwiXG4gICAgICAgICMgQ2xlYXIgZXhpc3RpbmcgY2hlY2tib3hlc1xuICAgICAgICBzZWxmLmNsZWFyX2NoYW5uZWxzKClcblxuICAgICAgICAjIEdldCBhdmFpbGFibGUgY2hhbm5lbHNcbiAgICAgICAgc2VsZi5hdmFpbGFibGVfY2hhbm5lbHMgPSBzZWxmLmRiX2hhbmRsZXIuZ2V0X2F2YWlsYWJsZV9jaGFubmVscyhzZWxmLmN1cnJlbnRfZXhwZXJpbWVudF9pZCwgc2VsZi5jdXJyZW50X2VlZ19pZClcblxuICAgICAgICAjIEFkZCBhIHNlYXJjaCBlbnRyeSBhdCB0aGUgdG9wIG9mIHRoZSBjaGFubmVscyBmcmFtZVxuICAgICAgICBzZWxmLnNlYXJjaF92YXIgPSBjdGsuU3RyaW5nVmFyKClcbiAgICAgICAgc2VsZi5zZWFyY2hfdmFyLnRyYWNlX2FkZChcIndyaXRlXCIsIHNlbGYuZmlsdGVyX2NoYW5uZWxzKVxuXG4gICAgICAgIHNlbGYuc2VhcmNoX2ZyYW1lID0gY3RrLkNUa0ZyYW1lKHNlbGYuY2hhbm5lbHNfZnJhbWUpXG4gICAgICAgIHNlbGYuc2VhcmNoX2ZyYW1lLmdyaWQocm93PTAsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9NSwgc3RpY2t5PVwiZXdcIilcbiAgICAgICAgc2VsZi5zZWFyY2hfZnJhbWUuZ3JpZF9jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpXG5cbiAgICAgICAgc2VsZi5zZWFyY2hfZW50cnkgPSBjdGsuQ1RrRW50cnkoXG4gICAgICAgICAgICBzZWxmLnNlYXJjaF9mcmFtZSxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyX3RleHQ9XCJTZWFyY2ggY2hhbm5lbHMuLi5cIixcbiAgICAgICAgICAgIHRleHR2YXJpYWJsZT1zZWxmLnNlYXJjaF92YXIsXG4gICAgICAgICAgICBoZWlnaHQ9MjUsXG4gICAgICAgICAgICBmb250PWdldF9kcm9wZG93bl9mb250KClcbiAgICAgICAgKVxuICAgICAgICBzZWxmLnNlYXJjaF9lbnRyeS5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTMsIHN0aWNreT1cImV3XCIpXG5cbiAgICAgICAgIyBDcmVhdGUgdGhlIGNoYW5uZWxzIGNvbnRhaW5lciBmcmFtZVxuICAgICAgICBzZWxmLmNoYW5uZWxzX2NvbnRhaW5lciA9IGN0ay5DVGtGcmFtZShzZWxmLmNoYW5uZWxzX2ZyYW1lLCBmZ19jb2xvcj1cInRyYW5zcGFyZW50XCIpXG4gICAgICAgIHNlbGYuY2hhbm5lbHNfY29udGFpbmVyLmdyaWQocm93PTEsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9NSwgc3RpY2t5PVwiZXdcIilcblxuICAgICAgICAjIERpc3BsYXkgYWxsIGNoYW5uZWxzIGluaXRpYWxseVxuICAgICAgICBzZWxmLmRpc3BsYXlfY2hhbm5lbHMoc2VsZi5hdmFpbGFibGVfY2hhbm5lbHMpXG4uLi5cblxuICAgICAgICAjIENyZWF0ZSBhIGNoZWNrYm94IGZvciBlYWNoIGNoYW5uZWxcbiAgICAgICAgZm9yIGksIGNoYW5uZWwgaW4gZW51bWVyYXRlKHNvcnRlZF9jaGFubmVscyk6XG4gICAgICAgICAgICB2YXIgPSBzZWxmLmNoYW5uZWxfdmFycy5nZXQoY2hhbm5lbCwgY3RrLkJvb2xlYW5WYXIodmFsdWU9RmFsc2UpKVxuICAgICAgICAgICAgc2VsZi5jaGFubmVsX3ZhcnNbY2hhbm5lbF0gPSB2YXJcblxuICAgICAgICAgICAgIyBDcmVhdGUgbW9yZSBjb21wYWN0IGNoZWNrYm94ZXNcbiAgICAgICAgICAgIGNoZWNrYm94ID0gY3RrLkNUa0NoZWNrQm94KFxuICAgICAgICAgICAgICAgIHNlbGYuY2hhbm5lbHNfY29udGFpbmVyLFxuICAgICAgICAgICAgICAgIHRleHQ9Y2hhbm5lbCxcbiAgICAgICAgICAgICAgICB2YXJpYWJsZT12YXIsXG4gICAgICAgICAgICAgICAgb252YWx1ZT1UcnVlLFxuICAgICAgICAgICAgICAgIG9mZnZhbHVlPUZhbHNlLFxuICAgICAgICAgICAgICAgIGhlaWdodD0yMCxcbiAgICAgICAgICAgICAgICBmb250PWdldF9kcm9wZG93bl9mb250KCksXG4gICAgICAgICAgICAgICAgY2hlY2tib3hfd2lkdGg9MTYsXG4gICAgICAgICAgICAgICAgY2hlY2tib3hfaGVpZ2h0PTE2XG4gICAgICAgICAgICApXG4gICAgICAgICAgICBjaGVja2JveC5ncmlkKHJvdz1pLCBjb2x1bW49MCwgcGFkeD04LCBwYWR5PTMsIHN0aWNreT1cIndcIilcblxuICAgICAgICAgICAgIyBCaW5kIG1vdXNlIHdoZWVsIGV2ZW50IHRvIGVhY2ggY2hlY2tib3ggZm9yIGJldHRlciBzY3JvbGxpbmdcbiAgICAgICAgICAgIGNoZWNrYm94LmJpbmQoXCI8TW91c2VXaGVlbD5cIiwgbGFtYmRhIGV2ZW50LCB3PXNlbGYuY2hhbm5lbHNfZnJhbWU6IHNlbGYuX29uX21vdXNlX3doZWVsKGV2ZW50LCB3KSlcbiAgICAgICAgICAgIGNoZWNrYm94LmJpbmQoXCI8QnV0dG9uLTQ+XCIsIGxhbWJkYSBldmVudCwgdz1zZWxmLmNoYW5uZWxzX2ZyYW1lOiBzZWxmLl9vbl9tb3VzZV93aGVlbChldmVudCwgdykpXG4gICAgICAgICAgICBjaGVja2JveC5iaW5kKFwiPEJ1dHRvbi01PlwiLCBsYW1iZGEgZXZlbnQsIHc9c2VsZi5jaGFubmVsc19mcmFtZTogc2VsZi5fb25fbW91c2Vfd2hlZWwoZXZlbnQsIHcpKVxuXG4gICAgZGVmIGZpbHRlcl9jaGFubmVscyhzZWxmLCAqYXJncyk6XG4gICAgICAgIFwiXCJcIkZpbHRlciBjaGFubmVscyBiYXNlZCBvbiBzZWFyY2ggdGV4dC5cIlwiXCJcbiAgICAgICAgc2VhcmNoX3RleHQgPSBzZWxmLnNlYXJjaF92YXIuZ2V0KCkubG93ZXIoKVxuXG4gICAgICAgIGlmIG5vdCBzZWFyY2hfdGV4dDpcbiAgICAgICAgICAgICMgSWYgc2VhcmNoIGlzIGVtcHR5LCBzaG93IGFsbCBjaGFubmVsc1xuICAgICAgICAgICAgZmlsdGVyZWRfY2hhbm5lbHMgPSBzZWxmLmF2YWlsYWJsZV9jaGFubmVsc1xuICAgICAgICBlbHNlOlxuICAgICAgICAgICAgIyBGaWx0ZXIgY2hhbm5lbHMgdGhhdCBjb250YWluIHRoZSBzZWFyY2ggdGV4dFxuICAgICAgICAgICAgZmlsdGVyZWRfY2hhbm5lbHMgPSBbY2ggZm9yIGNoIGluIHNlbGYuYXZhaWxhYmxlX2NoYW5uZWxzIGlmIHNlYXJjaF90ZXh0IGluIGNoLmxvd2VyKCldXG5cbiAgICAgICAgICAgICMgU29ydCB0aGUgZmlsdGVyZWQgY2hhbm5lbHMgYWxwaGFiZXRpY2FsbHlcbiAgICAgICAgICAgIGZpbHRlcmVkX2NoYW5uZWxzLnNvcnQoKVxuXG4gICAgICAgICMgVXBkYXRlIHRoZSBkaXNwbGF5ZWQgY2hhbm5lbHNcbiAgICAgICAgc2VsZi5kaXNwbGF5X2NoYW5uZWxzKGZpbHRlcmVkX2NoYW5uZWxzKVxuXG4gICAgZGVmIGJpbmRfbW91c2Vfd2hlZWwoc2VsZiwgd2lkZ2V0KTpcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIEJpbmQgbW91c2Ugd2hlZWwgZXZlbnRzIHRvIHRoZSB3aWRnZXQgZm9yIHNjcm9sbGluZy5cblxuICAgICAgICBBcmdzOlxuICAgICAgICAgICAgd2lkZ2V0OiBUaGUgd2lkZ2V0IHRvIGJpbmQgbW91c2Ugd2hlZWwgZXZlbnRzIHRvXG4gICAgICAgIFwiXCJcIlxuICAgICAgICAjIEJpbmQgZm9yIFdpbmRvd3MgYW5kIExpbnV4ICh3aXRoIG1vdXNlIHdoZWVsKVxuICAgICAgICB3aWRnZXQuYmluZF9hbGwoXCI8TW91c2VXaGVlbD5cIiwgbGFtYmRhIGV2ZW50OiBzZWxmLl9vbl9tb3VzZV93aGVlbChldmVudCwgd2lkZ2V0KSlcbiAgICAgICAgIyBCaW5kIGZvciBMaW51eCAod2l0aCB0b3VjaHBhZClcbiAgICAgICAgd2lkZ2V0LmJpbmRfYWxsKFwiPEJ1dHRvbi00PlwiLCBsYW1iZGEgZXZlbnQ6IHNlbGYuX29uX21vdXNlX3doZWVsKGV2ZW50LCB3aWRnZXQpKVxuICAgICAgICB3aWRnZXQuYmluZF9hbGwoXCI8QnV0dG9uLTU+XCIsIGxhbWJkYSBldmVudDogc2VsZi5fb25fbW91c2Vfd2hlZWwoZXZlbnQsIHdpZGdldCkpXG5cbiAgICBkZWYgX29uX21vdXNlX3doZWVsKHNlbGYsIGV2ZW50LCB3aWRnZXQpOlxuICAgICAgICBcIlwiXCJcbiAgICAgICAgSGFuZGxlIG1vdXNlIHdoZWVsIGV2ZW50cyBmb3Igc2Nyb2xsaW5nLlxuXG4gICAgICAgIEFyZ3M6XG4gICAgICAgICAgICBldmVudDogVGhlIG1vdXNlIHdoZWVsIGV2ZW50XG4gICAgICAgICAgICB3aWRnZXQ6IFRoZSB3aWRnZXQgdG8gc2Nyb2xsXG4gICAgICAgIFwiXCJcIlxuICAgICAgICAjIEdldCB0aGUgd2lkZ2V0IHVuZGVyIHRoZSBjdXJzb3JcbiAgICAgICAgeCwgeSA9IGV2ZW50Lnhfcm9vdCwgZXZlbnQueV9yb290XG4gICAgICAgIHRhcmdldF93aWRnZXQgPSBldmVudC53aWRnZXQud2luZm9fY29udGFpbmluZyh4LCB5KVxuXG4gICAgICAgICMgQ2hlY2sgaWYgdGhlIGN1cnNvciBpcyBvdmVyIG91ciBzY3JvbGxhYmxlIGZyYW1lIG9yIGl0cyBjaGlsZHJlblxuICAgICAgICBwYXJlbnQgPSB0YXJnZXRfd2lkZ2V0XG4gICAgICAgIHdoaWxlIHBhcmVudCBpcyBub3QgTm9uZTpcbiAgICAgICAgICAgIGlmIHBhcmVudCA9PSB3aWRnZXQgb3IgcGFyZW50ID09IHNlbGYuY2hhbm5lbHNfY29udGFpbmVyOlxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQubWFzdGVyXG5cbiAgICAgICAgIyBJZiBjdXJzb3IgaXMgbm90IG92ZXIgb3VyIHNjcm9sbGFibGUgYXJlYSwgZG9uJ3Qgc2Nyb2xsXG4gICAgICAgIGlmIHBhcmVudCBpcyBOb25lOlxuICAgICAgICAgICAgcmV0dXJuXG4uLi5cblxuICAgIGRlZiBkZXNlbGVjdF9hbGxfY2hhbm5lbHMoc2VsZik6XG4gICAgICAgIFwiXCJcIkRlc2VsZWN0IGFsbCBjaGFubmVsIGNoZWNrYm94ZXMuXCJcIlwiXG4gICAgICAgIGZvciB2YXIgaW4gc2VsZi5jaGFubmVsX3ZhcnMudmFsdWVzKCk6XG4gICAgICAgICAgICB2YXIuc2V0KEZhbHNlKVxuXG4gICAgZGVmIHNlbGVjdF9jb21tb25fY2hhbm5lbHMoc2VsZik6XG4gICAgICAgIFwiXCJcIlNlbGVjdCBjb21tb24gRUVHIGNoYW5uZWxzICgxMC0yMCBzeXN0ZW0pLlwiXCJcIlxuICAgICAgICAjIEZpcnN0IGRlc2VsZWN0IGFsbFxuICAgICAgICBzZWxmLmRlc2VsZWN0X2FsbF9jaGFubmVscygpXG5cbiAgICAgICAgIyBTZWxlY3QgdGhlIGNoYW5uZWxzIGlmIHRoZXkgZXhpc3QgaW4gb3VyIGF2YWlsYWJsZSBjaGFubmVsc1xuICAgICAgICBmb3IgY2hhbm5lbCBpbiBDT01NT05fQ0hBTk5FTFM6XG4gICAgICAgICAgICBpZiBjaGFubmVsIGluIHNlbGYuY2hhbm5lbF92YXJzOlxuICAgICAgICAgICAgICAgIHNlbGYuY2hhbm5lbF92YXJzW2NoYW5uZWxdLnNldChUcnVlKVxuICAgICAgICAgICAgIyBUcnkgYWx0ZXJuYXRpdmUgbmFtZSBpZiB0aGUgY2hhbm5lbCBkb2Vzbid0IGV4aXN0XG4gICAgICAgICAgICBlbGlmIGNoYW5uZWwgaW4gQUxURVJOQVRJVkVfQ0hBTk5FTF9OQU1FUyBhbmQgQUxURVJOQVRJVkVfQ0hBTk5FTF9OQU1FU1tjaGFubmVsXSBpbiBzZWxmLmNoYW5uZWxfdmFyczpcbiAgICAgICAgICAgICAgICBzZWxmLmNoYW5uZWxfdmFyc1tBTFRFUk5BVElWRV9DSEFOTkVMX05BTUVTW2NoYW5uZWxdXS5zZXQoVHJ1ZSlcblxuICAgICAgICAjIElmIHdlIGhhdmUgYSBzZWFyY2ggZmlsdGVyIGFjdGl2ZSwgdXBkYXRlIHRoZSBkaXNwbGF5XG4gICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ3NlYXJjaF92YXInKTpcbiAgICAgICAgICAgIHNlbGYuZmlsdGVyX2NoYW5uZWxzKClcbi4uLlxuXG4gICAgZGVmIHZpZXdfZWVnKHNlbGYpOlxuICAgICAgICBcIlwiXCJPcGVuIHRoZSBjdXJyZW50IEVFRyBmaWxlIHdpdGggTU5FIGFuZCBkaXNwbGF5IGl0IGluIGEgbmV3IHdpbmRvdy5cIlwiXCJcbiAgICAgICAgaWYgbm90IGhhc2F0dHIoc2VsZiwgJ2N1cnJlbnRfZXhwZXJpbWVudF9pZCcpIG9yIG5vdCBoYXNhdHRyKHNlbGYsICdjdXJyZW50X2VlZ19pZCcpOlxuICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93aW5mbyhcIk5vIEVFRyBTZWxlY3RlZFwiLCBcIlBsZWFzZSBzZWxlY3QgYW4gZXhwZXJpbWVudCBhbmQgRUVHIGZpbGUgZmlyc3QuXCIpXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICAjIEZpbmQgdGhlIHNlbGVjdGVkIEVFRyB0byBnZXQgaXRzIGZpbGVwYXRoXG4gICAgICAgIHNlbGVjdGVkX2VlZyA9IE5vbmVcbiAgICAgICAgZm9yIGVlZyBpbiBzZWxmLmVlZ3M6XG4gICAgICAgICAgICBpZiBlZWdbJ2lkJ10gPT0gc2VsZi5jdXJyZW50X2VlZ19pZDpcbiAgICAgICAgICAgICAgICBzZWxlY3RlZF9lZWcgPSBlZWdcbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgIGlmIG5vdCBzZWxlY3RlZF9lZWcgb3Igbm90IHNlbGVjdGVkX2VlZy5nZXQoJ2ZpbGVwYXRoJyk6XG4gICAgICAgICAgICBtZXNzYWdlYm94LnNob3dlcnJvcihcIkVycm9yXCIsIFwiQ291bGQgbm90IGZpbmQgdGhlIEVFRyBmaWxlIHBhdGguXCIpXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICBlZWdfZmlsZXBhdGggPSBzZWxlY3RlZF9lZWdbJ2ZpbGVwYXRoJ11cblxuICAgICAgICAjIENoZWNrIGlmIHRoZSBmaWxlIGV4aXN0c1xuICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMoZWVnX2ZpbGVwYXRoKTpcbiAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKFwiRmlsZSBOb3QgRm91bmRcIiwgZlwiVGhlIEVFRyBmaWxlIHdhcyBub3QgZm91bmQgYXQ6XFxue2VlZ19maWxlcGF0aH1cIilcbiAgICAgICAgICAgIHJldHVyblxuLi4uXG5cbiAgICAgICAgIyBUcnkgdG8gbG9hZCB0aGUgRUVHIGZpbGUgd2l0aCBNTkVcbiAgICAgICAgdHJ5OlxuICAgICAgICAgICAgIyAjIFNob3cgYSBsb2FkaW5nIG1lc3NhZ2VcbiAgICAgICAgICAgICMgc2VsZi5sb2FkaW5nX3dpbmRvdyA9IHRrLlRvcGxldmVsKHNlbGYpXG4gICAgICAgICAgICAjIHNlbGYubG9hZGluZ193aW5kb3cudGl0bGUoXCJMb2FkaW5nIEVFR1wiKVxuICAgICAgICAgICAgIyBzZWxmLmxvYWRpbmdfd2luZG93Lmdlb21ldHJ5KFwiMzAweDEwMFwiKVxuICAgICAgICAgICAgIyBzZWxmLmxvYWRpbmdfd2luZG93LnRyYW5zaWVudChzZWxmLm1hc3RlcilcbiAgICAgICAgICAgICMgc2VsZi5sb2FkaW5nX3dpbmRvdy5ncmFiX3NldCgpXG4gICAgICAgICAgICAjXG4gICAgICAgICAgICAjIGxvYWRpbmdfbGFiZWwgPSB0ay5MYWJlbChzZWxmLmxvYWRpbmdfd2luZG93LCB0ZXh0PVwiTG9hZGluZyBFRUcgZmlsZS4uLlxcblRoaXMgbWF5IHRha2UgYSBtb21lbnQuXCIpXG4gICAgICAgICAgICAjIGxvYWRpbmdfbGFiZWwucGFjayhleHBhbmQ9VHJ1ZSwgZmlsbD10ay5CT1RILCBwYWR4PTIwLCBwYWR5PTIwKVxuICAgICAgICAgICAgI1xuICAgICAgICAgICAgIyBzZWxmLmxvYWRpbmdfd2luZG93LnVwZGF0ZSgpXG5cbiAgICAgICAgICAgICMgTG9hZCB0aGUgRUVHIGZpbGUgLSB0cnkgZGlmZmVyZW50IHJlYWRlcnMgYmFzZWQgb24gZmlsZSBleHRlbnNpb25cbiAgICAgICAgICAgIGZpbGVfZXh0ID0gb3MucGF0aC5zcGxpdGV4dChlZWdfZmlsZXBhdGgpWzFdLmxvd2VyKClcblxuICAgICAgICAgICAgaWYgZmlsZV9leHQgPT0gJy5lZGYnOlxuICAgICAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3Jhd19lZGYoZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXG4gICAgICAgICAgICBlbGlmIGZpbGVfZXh0ID09ICcuYmRmJzpcbiAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXdfYmRmKGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxuICAgICAgICAgICAgZWxpZiBmaWxlX2V4dCA9PSAnLmdkZic6XG4gICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2dkZihlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcbiAgICAgICAgICAgIGVsaWYgZmlsZV9leHQgaW4gWycudmhkcicsICcudm1yaycsICcuZWVnJ106XG4gICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2JyYWludmlzaW9uKGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxuICAgICAgICAgICAgZWxpZiBmaWxlX2V4dCA9PSAnLmNudCc6XG4gICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2NudChlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcbiAgICAgICAgICAgIGVsaWYgZmlsZV9leHQgPT0gJy5zZXQnOlxuICAgICAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3Jhd19lZWdsYWIoZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXG4gICAgICAgICAgICBlbHNlOlxuICAgICAgICAgICAgICAgICMgVHJ5IHRoZSBnZW5lcmljIHJlYWRlciBhcyBhIGZhbGxiYWNrXG4gICAgICAgICAgICAgICAgdHJ5OlxuICAgICAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXcoZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXG4gICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxuICAgICAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGZcIlVuc3VwcG9ydGVkIGZpbGUgZm9ybWF0OiB7ZmlsZV9leHR9LiBFcnJvcjoge3N0cihlKX1cIilcblxuICAgICAgICAgICAgIyBDbG9zZSB0aGUgbG9hZGluZyB3aW5kb3dcbiAgICAgICAgICAgICMgc2VsZi5sb2FkaW5nX3dpbmRvdy5kZXN0cm95KClcblxuICAgICAgICAgICAgIyBTZXQgdGhlIHRpbWUgd2luZG93IGlmIHNwZWNpZmllZFxuICAgICAgICAgICAgaWYgc3RhcnRfdGltZSBpcyBub3QgTm9uZSBhbmQgZW5kX3RpbWUgaXMgbm90IE5vbmU6XG4gICAgICAgICAgICAgICAgIyBDb252ZXJ0IGZyb20gc2Vjb25kcyB0byBwb2ludHMgaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgc3RhcnRfaWR4ID0gbWF4KDAsIGludChzdGFydF90aW1lICogcmF3LmluZm9bJ3NmcmVxJ10pKVxuICAgICAgICAgICAgICAgIGVuZF9pZHggPSBtaW4obGVuKHJhdy50aW1lcyksIGludChlbmRfdGltZSAqIHJhdy5pbmZvWydzZnJlcSddKSlcblxuICAgICAgICAgICAgICAgICMgQ3JlYXRlIGEgcGxvdCB3aXRoIHRoZSBzcGVjaWZpZWQgdGltZSB3aW5kb3dcbiAgICAgICAgICAgICAgICByYXcucGxvdChzdGFydD1zdGFydF90aW1lLCBkdXJhdGlvbj0oZW5kX2lkeC1zdGFydF9pZHgpL3Jhdy5pbmZvWydzZnJlcSddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGluZ3M9J2F1dG8nLCBibG9jaz1UcnVlLCBzaG93PVRydWUpXG5cbiAgICAgICAgICAgICAgICAjICMgU2V0IHRoZSB3aW5kb3cgdGl0bGUgdG8gaW5jbHVkZSB0aGUgRUVHIGZpbGVuYW1lXG4gICAgICAgICAgICAgICAgIyBmaWcuY2FudmFzLm1hbmFnZXIuc2V0X3dpbmRvd190aXRsZShmXCJNTkUgRUVHIFZpZXdlciAtIHtzZWxlY3RlZF9lZWdbJ2ZpbGVuYW1lJ119XCIpXG4gICAgICAgICAgICAgICAgI1xuICAgICAgICAgICAgICAgICMgIyBTaG93IHRoZSBwbG90XG4gICAgICAgICAgICAgICAgIyBmaWcuc2hvdygpXG4gICAgICAgICAgICBlbHNlOlxuICAgICAgICAgICAgICAgICMgSnVzdCBzaG93IHRoZSB3aG9sZSBFRUdcbiAgICAgICAgICAgICAgICByYXcucGxvdChzY2FsaW5ncz0nYXV0bycsIGJsb2NrPVRydWUsIHNob3c9VHJ1ZSlcbiAgICAgICAgICAgICAgICAjIGZpZy5jYW52YXMubWFuYWdlci5zZXRfd2luZG93X3RpdGxlKGZcIk1ORSBFRUcgVmlld2VyIC0ge3NlbGVjdGVkX2VlZ1snZmlsZW5hbWUnXX1cIilcbiAgICAgICAgICAgICAgICAjIGZpZy5zaG93KClcblxuICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XG4gICAgICAgICAgICBtZXNzYWdlYm94LnNob3dlcnJvcihcIkVycm9yXCIsIGZcIkZhaWxlZCB0byBvcGVuIHRoZSBFRUcgZmlsZSB3aXRoIE1ORTpcXG57c3RyKGUpfVwiKVxuICAgICAgICAgICAgaWYgaGFzYXR0cihzZWxmLCAnbG9hZGluZ193aW5kb3cnKSBhbmQgc2VsZi5sb2FkaW5nX3dpbmRvdy53aW5mb19leGlzdHMoKTpcbiAgICAgICAgICAgICAgICBzZWxmLmxvYWRpbmdfd2luZG93LmRlc3Ryb3koKVxuXG4gICAgZGVmIHVwZGF0ZV9wbG90KHNlbGYpOlxuICAgICAgICBcIlwiXCJVcGRhdGUgdGhlIHBsb3Qgd2l0aCB0aGUgc2VsZWN0ZWQgbWV0cmljIGFuZCBjaGFubmVscy5cIlwiXCJcbiAgICAgICAgaWYgbm90IGhhc2F0dHIoc2VsZiwgJ2N1cnJlbnRfZXhwZXJpbWVudF9pZCcpIG9yIG5vdCBoYXNhdHRyKHNlbGYsICdjdXJyZW50X2VlZ19pZCcpIG9yIG5vdCBzZWxmLmN1cnJlbnRfbWV0cmljOlxuICAgICAgICAgICAgcmV0dXJuXG4uLi5cblxuICAgICAgICAjIEdldCBkYXRhIGZvciB0aGUgc2VsZWN0ZWQgZXhwZXJpbWVudCBhbmQgRUVHXG4gICAgICAgIGRmID0gc2VsZi5kYl9oYW5kbGVyLmdldF9tZXRyaWNzX2RhdGEoc2VsZi5jdXJyZW50X2V4cGVyaW1lbnRfaWQsIHNlbGYuY3VycmVudF9lZWdfaWQpXG5cbiAgICAgICAgaWYgZGYuZW1wdHk6XG4gICAgICAgICAgICBzZWxmLnBsb3RfZnJhbWUudXBkYXRlX3Bsb3QoTm9uZSwgTm9uZSwgTm9uZSwgXCJObyBkYXRhIGF2YWlsYWJsZVwiKVxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgIyBHZXQgdGltZSB3aW5kb3cgdmFsdWVzXG4gICAgICAgIHRyeTpcbiAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBmbG9hdChzZWxmLnN0YXJ0X3RpbWVfdmFyLmdldCgpKSBpZiBzZWxmLnN0YXJ0X3RpbWVfdmFyLmdldCgpIGVsc2UgTm9uZVxuICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjpcbiAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBOb25lXG4gICAgICAgICAgICBzZWxmLnN0YXJ0X3RpbWVfdmFyLnNldChcIjBcIilcblxuICAgICAgICB0cnk6XG4gICAgICAgICAgICBlbmRfdGltZSA9IGZsb2F0KHNlbGYuZW5kX3RpbWVfdmFyLmdldCgpKSBpZiBzZWxmLmVuZF90aW1lX3Zhci5nZXQoKSBlbHNlIE5vbmVcbiAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6XG4gICAgICAgICAgICBlbmRfdGltZSA9IE5vbmVcbiAgICAgICAgICAgIHNlbGYuZW5kX3RpbWVfdmFyLnNldChcIlwiKVxuLi4uXG5cbiAgICAgICAgc2VsZi5wbG90X2ZyYW1lLnVwZGF0ZV9wbG90KFxuICAgICAgICAgICAgZGYsXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRfbWV0cmljLFxuICAgICAgICAgICAgc2VsZWN0ZWRfY2hhbm5lbHMsXG4gICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgIHRpbWVfd2luZG93PShzdGFydF90aW1lLCBlbmRfdGltZSksXG4gICAgICAgICAgICBhZ2dyZWdhdGlvbnM9c2VsZWN0ZWRfYWdncmVnYXRpb25zLFxuICAgICAgICAgICAgYWdncmVnYXRpb25fb25seT1hZ2dyZWdhdGlvbl9vbmx5XG4gICAgICAgIClcbi4uLlxuUGF0aDogZ3VpL3J1bl9tZXRyaWNzX3ZpZXdlci5weVxuIyEvdXNyL2Jpbi9lbnYgcHl0aG9uM1xuXCJcIlwiXG5SdW4gc2NyaXB0IGZvciB0aGUgRUVHIE1ldHJpY3MgVmlld2VyLlxuXG5UaGlzIHNjcmlwdCBwcm92aWRlcyBhIHNpbXBsZSB3YXkgdG8gbGF1bmNoIHRoZSBFRUcgTWV0cmljcyBWaWV3ZXIgYXBwbGljYXRpb25cbndpdGggYSBzcGVjaWZpZWQgZGF0YWJhc2UgcGF0aC5cblxuVXNhZ2U6XG4gICAgcHl0aG9uIHJ1bl9tZXRyaWNzX3ZpZXdlci5weSBbcGF0aF90b19kYXRhYmFzZV1cblxuSWYgbm8gZGF0YWJhc2UgcGF0aCBpcyBwcm92aWRlZCwgdGhlIHNjcmlwdCB3aWxsIGxvb2sgZm9yIHRoZSBkZWZhdWx0IGRhdGFiYXNlXG5hdCBcIi4uL2V4YW1wbGUvRUVHQW5hbHl6ZXIuc3FsaXRlXCIuXG5cIlwiXCJcblxuaW1wb3J0IG9zXG5pbXBvcnQgc3lzXG5pbXBvcnQgaW1wb3J0bGliLnV0aWxcblxuZGVmIGNoZWNrX2RlcGVuZGVuY2llcygpOlxuICAgIFwiXCJcIkNoZWNrIGlmIGFsbCByZXF1aXJlZCBkZXBlbmRlbmNpZXMgYXJlIGluc3RhbGxlZC5cIlwiXCJcbiAgICByZXF1aXJlZF9wYWNrYWdlcyA9IFtcImN1c3RvbXRraW50ZXJcIiwgXCJtYXRwbG90bGliXCIsIFwibnVtcHlcIiwgXCJwYW5kYXNcIiwgXCJzcWxhbGNoZW15XCIsIFwibW5lXCJdXG4gICAgbWlzc2luZ19wYWNrYWdlcyA9IFtdXG5cbiAgICBmb3IgcGFja2FnZSBpbiByZXF1aXJlZF9wYWNrYWdlczpcbiAgICAgICAgaWYgaW1wb3J0bGliLnV0aWwuZmluZF9zcGVjKHBhY2thZ2UpIGlzIE5vbmU6XG4gICAgICAgICAgICBtaXNzaW5nX3BhY2thZ2VzLmFwcGVuZChwYWNrYWdlKVxuXG4gICAgaWYgbWlzc2luZ19wYWNrYWdlczpcbiAgICAgICAgcHJpbnQoXCJUaGUgZm9sbG93aW5nIHJlcXVpcmVkIHBhY2thZ2VzIGFyZSBtaXNzaW5nOlwiKVxuICAgICAgICBmb3IgcGFja2FnZSBpbiBtaXNzaW5nX3BhY2thZ2VzOlxuICAgICAgICAgICAgcHJpbnQoZlwiICAtIHtwYWNrYWdlfVwiKVxuICAgICAgICBwcmludChcIlxcblBsZWFzZSBpbnN0YWxsIHRoZW0gdXNpbmc6XCIpXG4gICAgICAgIHByaW50KFwiICBweXRob24gaW5zdGFsbF9kZXBlbmRlbmNpZXMucHlcIilcbiAgICAgICAgcHJpbnQoXCJvclwiKVxuICAgICAgICBwcmludChmXCIgIHBpcCBpbnN0YWxsIHsnICcuam9pbihtaXNzaW5nX3BhY2thZ2VzKX1cIilcbiAgICAgICAgcmV0dXJuIEZhbHNlXG5cbiAgICByZXR1cm4gVHJ1ZVxuXG5kZWYgbWFpbigpOlxuICAgIFwiXCJcIlJ1biB0aGUgRUVHIE1ldHJpY3MgVmlld2VyIGFwcGxpY2F0aW9uLlwiXCJcIlxuICAgICMgQ2hlY2sgZGVwZW5kZW5jaWVzIGZpcnN0XG4gICAgaWYgbm90IGNoZWNrX2RlcGVuZGVuY2llcygpOlxuICAgICAgICBzeXMuZXhpdCgxKVxuXG4gICAgIyBJbXBvcnQgQXBwIG9ubHkgYWZ0ZXIgY2hlY2tpbmcgZGVwZW5kZW5jaWVzXG4gICAgZnJvbSBtZXRyaWNzX3ZpZXdlciBpbXBvcnQgQXBwXG5cbiAgICAjIENoZWNrIGlmIGEgZGF0YWJhc2UgcGF0aCBpcyBwcm92aWRlZCBhcyBhIGNvbW1hbmQtbGluZSBhcmd1bWVudFxuICAgIGlmIGxlbihzeXMuYXJndikgPiAxOlxuICAgICAgICBkYl9wYXRoID0gc3lzLmFyZ3ZbMV1cbiAgICBlbHNlOlxuICAgICAgICAjIERlZmF1bHQgZGF0YWJhc2UgcGF0aFxuICAgICAgICBkYl9wYXRoID0gb3MucGF0aC5qb2luKG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmRpcm5hbWUob3MucGF0aC5hYnNwYXRoKF9fZmlsZV9fKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJleGFtcGxlXCIsIFwiRUVHQW5hbHl6ZXIuc3FsaXRlXCIpXG5cbiAgICAjIEVuc3VyZSB0aGUgZGF0YWJhc2UgZmlsZSBleGlzdHNcbiAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMoZGJfcGF0aCk6XG4gICAgICAgIHByaW50KGZcIkVycm9yOiBEYXRhYmFzZSBmaWxlIG5vdCBmb3VuZCBhdCB7ZGJfcGF0aH1cIilcbiAgICAgICAgcHJpbnQoXCJQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIHBhdGggdG8gdGhlIEVFR0FuYWx5emVyLnNxbGl0ZSBkYXRhYmFzZS5cIilcbiAgICAgICAgc3lzLmV4aXQoMSlcblxuICAgIHByaW50KGZcIlN0YXJ0aW5nIEVFRyBNZXRyaWNzIFZpZXdlciB3aXRoIGRhdGFiYXNlOiB7ZGJfcGF0aH1cIilcblxuICAgICMgU3RhcnQgdGhlIGFwcGxpY2F0aW9uXG4gICAgYXBwID0gQXBwKGRiX3BhdGgpXG4gICAgYXBwLm1haW5sb29wKClcblxuaWYgX19uYW1lX18gPT0gXCJfX21haW5fX1wiOlxuICAgIG1haW4oKVxuLi4uXG5QYXRoOiBndWkvaW5zdGFsbF9kZXBlbmRlbmNpZXMucHlcbiMhL3Vzci9iaW4vZW52IHB5dGhvbjNcblwiXCJcIlxuU2NyaXB0IHRvIGluc3RhbGwgdGhlIHJlcXVpcmVkIGRlcGVuZGVuY2llcyBmb3IgdGhlIEVFRyBNZXRyaWNzIFZpZXdlci5cblxuVGhpcyBzY3JpcHQgY2hlY2tzIGlmIHRoZSByZXF1aXJlZCBwYWNrYWdlcyBhcmUgaW5zdGFsbGVkIGFuZCBpbnN0YWxscyB0aGVtIGlmIG5lZWRlZC5cblwiXCJcIlxuXG5pbXBvcnQgc3lzXG5pbXBvcnQgc3VicHJvY2Vzc1xuaW1wb3J0IGltcG9ydGxpYi51dGlsXG5cbmRlZiBjaGVja19wYWNrYWdlKHBhY2thZ2VfbmFtZSk6XG4gICAgXCJcIlwiQ2hlY2sgaWYgYSBwYWNrYWdlIGlzIGluc3RhbGxlZC5cIlwiXCJcbiAgICByZXR1cm4gaW1wb3J0bGliLnV0aWwuZmluZF9zcGVjKHBhY2thZ2VfbmFtZSkgaXMgbm90IE5vbmVcblxuZGVmIGluc3RhbGxfcGFja2FnZShwYWNrYWdlX25hbWUpOlxuICAgIFwiXCJcIkluc3RhbGwgYSBwYWNrYWdlIHVzaW5nIHBpcC5cIlwiXCJcbiAgICBwcmludChmXCJJbnN0YWxsaW5nIHtwYWNrYWdlX25hbWV9Li4uXCIpXG4gICAgc3VicHJvY2Vzcy5jaGVja19jYWxsKFtzeXMuZXhlY3V0YWJsZSwgXCItbVwiLCBcInBpcFwiLCBcImluc3RhbGxcIiwgcGFja2FnZV9uYW1lXSlcbiAgICBwcmludChmXCJ7cGFja2FnZV9uYW1lfSBpbnN0YWxsZWQgc3VjY2Vzc2Z1bGx5LlwiKVxuXG5kZWYgbWFpbigpOlxuICAgIFwiXCJcIkNoZWNrIGFuZCBpbnN0YWxsIHJlcXVpcmVkIHBhY2thZ2VzLlwiXCJcIlxuICAgIHJlcXVpcmVkX3BhY2thZ2VzID0gW1xuICAgICAgICBcImN1c3RvbXRraW50ZXJcIixcbiAgICAgICAgXCJtYXRwbG90bGliXCIsXG4gICAgICAgIFwibnVtcHlcIixcbiAgICAgICAgXCJwYW5kYXNcIixcbiAgICAgICAgXCJzcWxhbGNoZW15XCIsXG4gICAgICAgIFwibW5lXCJcbiAgICBdXG5cbiAgICBtaXNzaW5nX3BhY2thZ2VzID0gW11cblxuICAgICMgQ2hlY2sgd2hpY2ggcGFja2FnZXMgYXJlIG1pc3NpbmdcbiAgICBmb3IgcGFja2FnZSBpbiByZXF1aXJlZF9wYWNrYWdlczpcbiAgICAgICAgaWYgbm90IGNoZWNrX3BhY2thZ2UocGFja2FnZSk6XG4gICAgICAgICAgICBtaXNzaW5nX3BhY2thZ2VzLmFwcGVuZChwYWNrYWdlKVxuXG4gICAgIyBJbnN0YWxsIG1pc3NpbmcgcGFja2FnZXNcbiAgICBpZiBtaXNzaW5nX3BhY2thZ2VzOlxuICAgICAgICBwcmludChmXCJUaGUgZm9sbG93aW5nIHBhY2thZ2VzIG5lZWQgdG8gYmUgaW5zdGFsbGVkOiB7JywgJy5qb2luKG1pc3NpbmdfcGFja2FnZXMpfVwiKVxuICAgICAgICB0cnk6XG4gICAgICAgICAgICBmb3IgcGFja2FnZSBpbiBtaXNzaW5nX3BhY2thZ2VzOlxuICAgICAgICAgICAgICAgIGluc3RhbGxfcGFja2FnZShwYWNrYWdlKVxuICAgICAgICAgICAgcHJpbnQoXCJBbGwgcmVxdWlyZWQgcGFja2FnZXMgaGF2ZSBiZWVuIGluc3RhbGxlZC5cIilcbiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxuICAgICAgICAgICAgcHJpbnQoZlwiRXJyb3IgaW5zdGFsbGluZyBwYWNrYWdlczoge2V9XCIpXG4gICAgICAgICAgICBwcmludChcIlBsZWFzZSBpbnN0YWxsIHRoZSByZXF1aXJlZCBwYWNrYWdlcyBtYW51YWxseTpcIilcbiAgICAgICAgICAgIGZvciBwYWNrYWdlIGluIG1pc3NpbmdfcGFja2FnZXM6XG4gICAgICAgICAgICAgICAgcHJpbnQoZlwiICBwaXAgaW5zdGFsbCB7cGFja2FnZX1cIilcbiAgICAgICAuLi4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFMVHBac3hhRkdlVE14V3IzaVNNdkFDIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIiwiZm9sZGVyUm9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJJIGRvbid0IHNlZSBhbnkgZXhpc3RpbmcgY29kZSBpbiB0aGUgY29kZWJhc2UgdGhhdCB1c2VzIG11bHRpcHJvY2Vzc2luZyBvciBzdWJwcm9jZXNzIGZvciBydW5uaW5nIHByb2Nlc3NlcyBpbiB0aGUgYmFja2dyb3VuZC4gTGV0IG1lIGNyZWF0ZSBhIHNvbHV0aW9uIHRvIHJ1biB0aGUgTU5FIHBsb3QgaW4gYSBzdWJwcm9jZXNzLlxuXG5IZXJlJ3MgbXkgcGxhbjpcblxuMS4gQ3JlYXRlIGEgaGVscGVyIHNjcmlwdCB0aGF0IHdpbGwgYmUgcnVuIGFzIGEgc3VicHJvY2VzcyB0byBkaXNwbGF5IHRoZSBNTkUgcGxvdFxuMi4gTW9kaWZ5IHRoZSBgdmlld19lZWdgIG1ldGhvZCB0byBsYXVuY2ggdGhpcyBzY3JpcHQgYXMgYSBzdWJwcm9jZXNzIGluc3RlYWQgb2YgcnVubmluZyB0aGUgTU5FIHBsb3QgZGlyZWN0bHlcblxuTGV0J3Mgc3RhcnQgYnkgY3JlYXRpbmcgdGhlIGhlbHBlciBzY3JpcHQ6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMGVlZjc3OWUtZWUwOC00NDJhLTk2NzYtMDM2NDIwM2RhMDlmIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMkhCS0pveVdBRTlMd01TVVlSNmRRSyIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwiZ3VpL21ldHJpY3Nfdmlld2VyL3NlbGVjdGlvbl9mcmFtZS5weVwiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJmcm9tIHR5cGluZyBpbXBvcnQgTGlzdCwgRGljdCwgVHVwbGUsIE9wdGlvbmFsLCBBbnksIENhbGxhYmxlXFxuaW1wb3J0IG9zXFxuaW1wb3J0IGN1c3RvbXRraW50ZXIgYXMgY3RrXFxuaW1wb3J0IHRraW50ZXIgYXMgdGtcXG5mcm9tIHRraW50ZXIgaW1wb3J0IG1lc3NhZ2Vib3hcXG5pbXBvcnQgbW5lXFxuaW1wb3J0IG51bXB5IGFzIG5wXCIsIFwibmV3X3N0clwiOiBcImZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBEaWN0LCBUdXBsZSwgT3B0aW9uYWwsIEFueSwgQ2FsbGFibGVcXG5pbXBvcnQgb3NcXG5pbXBvcnQgc3lzXFxuaW1wb3J0IHN1YnByb2Nlc3NcXG5pbXBvcnQgY3VzdG9tdGtpbnRlciBhcyBjdGtcXG5pbXBvcnQgdGtpbnRlciBhcyB0a1xcbmZyb20gdGtpbnRlciBpbXBvcnQgbWVzc2FnZWJveFxcbmltcG9ydCBtbmVcXG5pbXBvcnQgbnVtcHkgYXMgbnBcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDgsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTR9LCB7XCJvbGRfc3RyXCI6IFwiICAgIGRlZiB2aWV3X2VlZyhzZWxmKTpcXG4gICAgICAgIFxcXCJcXFwiXFxcIk9wZW4gdGhlIGN1cnJlbnQgRUVHIGZpbGUgd2l0aCBNTkUgYW5kIGRpc3BsYXkgaXQgaW4gYSBuZXcgd2luZG93LlxcXCJcXFwiXFxcIlxcbiAgICAgICAgaWYgbm90IGhhc2F0dHIoc2VsZiwgJ2N1cnJlbnRfZXhwZXJpbWVudF9pZCcpIG9yIG5vdCBoYXNhdHRyKHNlbGYsICdjdXJyZW50X2VlZ19pZCcpOlxcbiAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2luZm8oXFxcIk5vIEVFRyBTZWxlY3RlZFxcXCIsIFxcXCJQbGVhc2Ugc2VsZWN0IGFuIGV4cGVyaW1lbnQgYW5kIEVFRyBmaWxlIGZpcnN0LlxcXCIpXFxuICAgICAgICAgICAgcmV0dXJuXFxuXFxuICAgICAgICAjIEZpbmQgdGhlIHNlbGVjdGVkIEVFRyB0byBnZXQgaXRzIGZpbGVwYXRoXFxuICAgICAgICBzZWxlY3RlZF9lZWcgPSBOb25lXFxuICAgICAgICBmb3IgZWVnIGluIHNlbGYuZWVnczpcXG4gICAgICAgICAgICBpZiBlZWdbJ2lkJ10gPT0gc2VsZi5jdXJyZW50X2VlZ19pZDpcXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRfZWVnID0gZWVnXFxuICAgICAgICAgICAgICAgIGJyZWFrXFxuXFxuICAgICAgICBpZiBub3Qgc2VsZWN0ZWRfZWVnIG9yIG5vdCBzZWxlY3RlZF9lZWcuZ2V0KCdmaWxlcGF0aCcpOlxcbiAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKFxcXCJFcnJvclxcXCIsIFxcXCJDb3VsZCBub3QgZmluZCB0aGUgRUVHIGZpbGUgcGF0aC5cXFwiKVxcbiAgICAgICAgICAgIHJldHVyblxcblxcbiAgICAgICAgZWVnX2ZpbGVwYXRoID0gc2VsZWN0ZWRfZWVnWydmaWxlcGF0aCddXFxuXFxuICAgICAgICAjIENoZWNrIGlmIHRoZSBmaWxlIGV4aXN0c1xcbiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKGVlZ19maWxlcGF0aCk6XFxuICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoXFxcIkZpbGUgTm90IEZvdW5kXFxcIiwgZlxcXCJUaGUgRUVHIGZpbGUgd2FzIG5vdCBmb3VuZCBhdDpcXFxcbntlZWdfZmlsZXBhdGh9XFxcIilcXG4gICAgICAgICAgICByZXR1cm5cXG5cXG4gICAgICAgICMgR2V0IHRoZSBjdXJyZW50IHRpbWUgd2luZG93XFxuICAgICAgICB0cnk6XFxuICAgICAgICAgICAgc3RhcnRfdGltZSA9IGZsb2F0KHNlbGYuc3RhcnRfdGltZV92YXIuZ2V0KCkpIGlmIHNlbGYuc3RhcnRfdGltZV92YXIuZ2V0KCkgZWxzZSBOb25lXFxuICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjpcXG4gICAgICAgICAgICBzdGFydF90aW1lID0gTm9uZVxcblxcbiAgICAgICAgdHJ5OlxcbiAgICAgICAgICAgIGVuZF90aW1lID0gZmxvYXQoc2VsZi5lbmRfdGltZV92YXIuZ2V0KCkpIGlmIHNlbGYuZW5kX3RpbWVfdmFyLmdldCgpIGVsc2UgTm9uZVxcbiAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6XFxuICAgICAgICAgICAgZW5kX3RpbWUgPSBOb25lXFxuXFxuICAgICAgICAjIFRyeSB0byBsb2FkIHRoZSBFRUcgZmlsZSB3aXRoIE1ORVxcbiAgICAgICAgdHJ5OlxcbiAgICAgICAgICAgICMgIyBTaG93IGEgbG9hZGluZyBtZXNzYWdlXFxuICAgICAgICAgICAgIyBzZWxmLmxvYWRpbmdfd2luZG93ID0gdGsuVG9wbGV2ZWwoc2VsZilcXG4gICAgICAgICAgICAjIHNlbGYubG9hZGluZ193aW5kb3cudGl0bGUoXFxcIkxvYWRpbmcgRUVHXFxcIilcXG4gICAgICAgICAgICAjIHNlbGYubG9hZGluZ193aW5kb3cuZ2VvbWV0cnkoXFxcIjMwMHgxMDBcXFwiKVxcbiAgICAgICAgICAgICMgc2VsZi5sb2FkaW5nX3dpbmRvdy50cmFuc2llbnQoc2VsZi5tYXN0ZXIpXFxuICAgICAgICAgICAgIyBzZWxmLmxvYWRpbmdfd2luZG93LmdyYWJfc2V0KClcXG4gICAgICAgICAgICAjXFxuICAgICAgICAgICAgIyBsb2FkaW5nX2xhYmVsID0gdGsuTGFiZWwoc2VsZi5sb2FkaW5nX3dpbmRvdywgdGV4dD1cXFwiTG9hZGluZyBFRUcgZmlsZS4uLlxcXFxuVGhpcyBtYXkgdGFrZSBhIG1vbWVudC5cXFwiKVxcbiAgICAgICAgICAgICMgbG9hZGluZ19sYWJlbC5wYWNrKGV4cGFuZD1UcnVlLCBmaWxsPXRrLkJPVEgsIHBhZHg9MjAsIHBhZHk9MjApXFxuICAgICAgICAgICAgI1xcbiAgICAgICAgICAgICMgc2VsZi5sb2FkaW5nX3dpbmRvdy51cGRhdGUoKVxcblxcbiAgICAgICAgICAgICMgTG9hZCB0aGUgRUVHIGZpbGUgLSB0cnkgZGlmZmVyZW50IHJlYWRlcnMgYmFzZWQgb24gZmlsZSBleHRlbnNpb25cXG4gICAgICAgICAgICBmaWxlX2V4dCA9IG9zLnBhdGguc3BsaXRleHQoZWVnX2ZpbGVwYXRoKVsxXS5sb3dlcigpXFxuXFxuICAgICAgICAgICAgaWYgZmlsZV9leHQgPT0gJy5lZGYnOlxcbiAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXdfZWRmKGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxcbiAgICAgICAgICAgIGVsaWYgZmlsZV9leHQgPT0gJy5iZGYnOlxcbiAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXdfYmRmKGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxcbiAgICAgICAgICAgIGVsaWYgZmlsZV9leHQgPT0gJy5nZGYnOlxcbiAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXdfZ2RmKGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxcbiAgICAgICAgICAgIGVsaWYgZmlsZV9leHQgaW4gWycudmhkcicsICcudm1yaycsICcuZWVnJ106XFxuICAgICAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3Jhd19icmFpbnZpc2lvbihlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcXG4gICAgICAgICAgICBlbGlmIGZpbGVfZXh0ID09ICcuY250JzpcXG4gICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2NudChlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcXG4gICAgICAgICAgICBlbGlmIGZpbGVfZXh0ID09ICcuc2V0JzpcXG4gICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2VlZ2xhYihlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcXG4gICAgICAgICAgICBlbHNlOlxcbiAgICAgICAgICAgICAgICAjIFRyeSB0aGUgZ2VuZXJpYyByZWFkZXIgYXMgYSBmYWxsYmFja1xcbiAgICAgICAgICAgICAgICB0cnk6XFxuICAgICAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXcoZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXFxuICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcXG4gICAgICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZlxcXCJVbnN1cHBvcnRlZCBmaWxlIGZvcm1hdDoge2ZpbGVfZXh0fS4gRXJyb3I6IHtzdHIoZSl9XFxcIilcXG5cXG4gICAgICAgICAgICAjIENsb3NlIHRoZSBsb2FkaW5nIHdpbmRvd1xcbiAgICAgICAgICAgICMgc2VsZi5sb2FkaW5nX3dpbmRvdy5kZXN0cm95KClcXG5cXG4gICAgICAgICAgICAjIFNldCB0aGUgdGltZSB3aW5kb3cgaWYgc3BlY2lmaWVkXFxuICAgICAgICAgICAgaWYgc3RhcnRfdGltZSBpcyBub3QgTm9uZSBhbmQgZW5kX3RpbWUgaXMgbm90IE5vbmU6XFxuICAgICAgICAgICAgICAgICMgQ29udmVydCBmcm9tIHNlY29uZHMgdG8gcG9pbnRzIGlmIG5lZWRlZFxcbiAgICAgICAgICAgICAgICBzdGFydF9pZHggPSBtYXgoMCwgaW50KHN0YXJ0X3RpbWUgKiByYXcuaW5mb1snc2ZyZXEnXSkpXFxuICAgICAgICAgICAgICAgIGVuZF9pZHggPSBtaW4obGVuKHJhdy50aW1lcyksIGludChlbmRfdGltZSAqIHJhdy5pbmZvWydzZnJlcSddKSlcXG5cXG4gICAgICAgICAgICAgICAgIyBDcmVhdGUgYSBwbG90IHdpdGggdGhlIHNwZWNpZmllZCB0aW1lIHdpbmRvd1xcbiAgICAgICAgICAgICAgICByYXcucGxvdChzdGFydD1zdGFydF90aW1lLCBkdXJhdGlvbj0oZW5kX2lkeC1zdGFydF9pZHgpL3Jhdy5pbmZvWydzZnJlcSddLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxpbmdzPSdhdXRvJywgYmxvY2s9VHJ1ZSwgc2hvdz1UcnVlKVxcblxcbiAgICAgICAgICAgICAgICAjICMgU2V0IHRoZSB3aW5kb3cgdGl0bGUgdG8gaW5jbHVkZSB0aGUgRUVHIGZpbGVuYW1lXFxuICAgICAgICAgICAgICAgICMgZmlnLmNhbnZhcy5tYW5hZ2VyLnNldF93aW5kb3dfdGl0bGUoZlxcXCJNTkUgRUVHIFZpZXdlciAtIHtzZWxlY3RlZF9lZWdbJ2ZpbGVuYW1lJ119XFxcIilcXG4gICAgICAgICAgICAgICAgI1xcbiAgICAgICAgICAgICAgICAjICMgU2hvdyB0aGUgcGxvdFxcbiAgICAgICAgICAgICAgICAjIGZpZy5zaG93KClcXG4gICAgICAgICAgICBlbHNlOlxcbiAgICAgICAgICAgICAgICAjIEp1c3Qgc2hvdyB0aGUgd2hvbGUgRUVHXFxuICAgICAgICAgICAgICAgIHJhdy5wbG90KHNjYWxpbmdzPSdhdXRvJywgYmxvY2s9VHJ1ZSwgc2hvdz1UcnVlKVxcbiAgICAgICAgICAgICAgICAjIGZpZy5jYW52YXMubWFuYWdlci5zZXRfd2luZG93X3RpdGxlKGZcXFwiTU5FIEVFRyBWaWV3ZXIgLSB7c2VsZWN0ZWRfZWVnWydmaWxlbmFtZSddfVxcXCIpXFxuICAgICAgICAgICAgICAgICMgZmlnLnNob3coKVxcblxcbiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxcbiAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKFxcXCJFcnJvclxcXCIsIGZcXFwiRmFpbGVkIHRvIG9wZW4gdGhlIEVFRyBmaWxlIHdpdGggTU5FOlxcXFxue3N0cihlKX1cXFwiKVxcbiAgICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ2xvYWRpbmdfd2luZG93JykgYW5kIHNlbGYubG9hZGluZ193aW5kb3cud2luZm9fZXhpc3RzKCk6XFxuICAgICAgICAgICAgICAgIHNlbGYubG9hZGluZ193aW5kb3cuZGVzdHJveSgpXCIsIFwibmV3X3N0clwiOiBcIiAgICBkZWYgdmlld19lZWcoc2VsZik6XFxuICAgICAgICBcXFwiXFxcIlxcXCJPcGVuIHRoZSBjdXJyZW50IEVFRyBmaWxlIHdpdGggTU5FIGFuZCBkaXNwbGF5IGl0IGluIGEgbmV3IHdpbmRvdyB1c2luZyBhIHN1YnByb2Nlc3MuXFxcIlxcXCJcXFwiXFxuICAgICAgICBpZiBub3QgaGFzYXR0cihzZWxmLCAnY3VycmVudF9leHBlcmltZW50X2lkJykgb3Igbm90IGhhc2F0dHIoc2VsZiwgJ2N1cnJlbnRfZWVnX2lkJyk6XFxuICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93aW5mbyhcXFwiTm8gRUVHIFNlbGVjdGVkXFxcIiwgXFxcIlBsZWFzZSBzZWxlY3QgYW4gZXhwZXJpbWVudCBhbmQgRUVHIGZpbGUgZmlyc3QuXFxcIilcXG4gICAgICAgICAgICByZXR1cm5cXG5cXG4gICAgICAgICMgRmluZCB0aGUgc2VsZWN0ZWQgRUVHIHRvIGdldCBpdHMgZmlsZXBhdGhcXG4gICAgICAgIHNlbGVjdGVkX2VlZyA9IE5vbmVcXG4gICAgICAgIGZvciBlZWcgaW4gc2VsZi5lZWdzOlxcbiAgICAgICAgICAgIGlmIGVlZ1snaWQnXSA9PSBzZWxmLmN1cnJlbnRfZWVnX2lkOlxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZF9lZWcgPSBlZWdcXG4gICAgICAgICAgICAgICAgYnJlYWtcXG5cXG4gICAgICAgIGlmIG5vdCBzZWxlY3RlZF9lZWcgb3Igbm90IHNlbGVjdGVkX2VlZy5nZXQoJ2ZpbGVwYXRoJyk6XFxuICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoXFxcIkVycm9yXFxcIiwgXFxcIkNvdWxkIG5vdCBmaW5kIHRoZSBFRUcgZmlsZSBwYXRoLlxcXCIpXFxuICAgICAgICAgICAgcmV0dXJuXFxuXFxuICAgICAgICBlZWdfZmlsZXBhdGggPSBzZWxlY3RlZF9lZWdbJ2ZpbGVwYXRoJ11cXG5cXG4gICAgICAgICMgQ2hlY2sgaWYgdGhlIGZpbGUgZXhpc3RzXFxuICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMoZWVnX2ZpbGVwYXRoKTpcXG4gICAgICAgICAgICBtZXNzYWdlYm94LnNob3dlcnJvcihcXFwiRmlsZSBOb3QgRm91bmRcXFwiLCBmXFxcIlRoZSBFRUcgZmlsZSB3YXMgbm90IGZvdW5kIGF0OlxcXFxue2VlZ19maWxlcGF0aH1cXFwiKVxcbiAgICAgICAgICAgIHJldHVyblxcblxcbiAgICAgICAgIyBHZXQgdGhlIGN1cnJlbnQgdGltZSB3aW5kb3dcXG4gICAgICAgIHRyeTpcXG4gICAgICAgICAgICBzdGFydF90aW1lID0gZmxvYXQoc2VsZi5zdGFydF90aW1lX3Zhci5nZXQoKSkgaWYgc2VsZi5zdGFydF90aW1lX3Zhci5nZXQoKSBlbHNlIE5vbmVcXG4gICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOlxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBOb25lXFxuXFxuICAgICAgICB0cnk6XFxuICAgICAgICAgICAgZW5kX3RpbWUgPSBmbG9hdChzZWxmLmVuZF90aW1lX3Zhci5nZXQoKSkgaWYgc2VsZi5lbmRfdGltZV92YXIuZ2V0KCkgZWxzZSBOb25lXFxuICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjpcXG4gICAgICAgICAgICBlbmRfdGltZSA9IE5vbmVcXG5cXG4gICAgICAgICMgU2hvdyBhIGxvYWRpbmcgbWVzc2FnZVxcbiAgICAgICAgbG9hZGluZ193aW5kb3cgPSB0ay5Ub3BsZXZlbChzZWxmKVxcbiAgICAgICAgbG9hZGluZ193aW5kb3cudGl0bGUoXFxcIkxvYWRpbmcgRUVHXFxcIilcXG4gICAgICAgIGxvYWRpbmdfd2luZG93Lmdlb21ldHJ5KFxcXCIzMDB4MTAwXFxcIilcXG4gICAgICAgIGxvYWRpbmdfd2luZG93LnRyYW5zaWVudChzZWxmLm1hc3RlcilcXG4gICAgICAgIGxvYWRpbmdfd2luZG93LmdyYWJfc2V0KClcXG5cXG4gICAgICAgIGxvYWRpbmdfbGFiZWwgPSB0ay5MYWJlbChsb2FkaW5nX3dpbmRvdywgdGV4dD1cXFwiU3RhcnRpbmcgTU5FIHZpZXdlci4uLlxcXFxuVGhpcyBtYXkgdGFrZSBhIG1vbWVudC5cXFwiKVxcbiAgICAgICAgbG9hZGluZ19sYWJlbC5wYWNrKGV4cGFuZD1UcnVlLCBmaWxsPXRrLkJPVEgsIHBhZHg9MjAsIHBhZHk9MjApXFxuICAgICAgICBsb2FkaW5nX3dpbmRvdy51cGRhdGUoKVxcblxcbiAgICAgICAgdHJ5OlxcbiAgICAgICAgICAgICMgR2V0IHRoZSBwYXRoIHRvIHRoZSBoZWxwZXIgc2NyaXB0XFxuICAgICAgICAgICAgaGVscGVyX3NjcmlwdF9wYXRoID0gb3MucGF0aC5qb2luKG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmFic3BhdGgoX19maWxlX18pKSwgXFxcIm1uZV9wbG90X2hlbHBlci5weVxcXCIpXFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgIyBNYWtlIHN1cmUgdGhlIGhlbHBlciBzY3JpcHQgaXMgZXhlY3V0YWJsZVxcbiAgICAgICAgICAgIGlmIG5vdCBvcy5hY2Nlc3MoaGVscGVyX3NjcmlwdF9wYXRoLCBvcy5YX09LKSBhbmQgc3lzLnBsYXRmb3JtICE9ICd3aW4zMic6XFxuICAgICAgICAgICAgICAgIG9zLmNobW9kKGhlbHBlcl9zY3JpcHRfcGF0aCwgMG83NTUpXFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgIyBCdWlsZCB0aGUgY29tbWFuZCB0byBydW4gdGhlIGhlbHBlciBzY3JpcHRcXG4gICAgICAgICAgICBjbWQgPSBbc3lzLmV4ZWN1dGFibGUsIGhlbHBlcl9zY3JpcHRfcGF0aCwgXFxcIi0tZmlsZXBhdGhcXFwiLCBlZWdfZmlsZXBhdGhdXFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgIyBBZGQgdGltZSB3aW5kb3cgcGFyYW1ldGVycyBpZiBzcGVjaWZpZWRcXG4gICAgICAgICAgICBpZiBzdGFydF90aW1lIGlzIG5vdCBOb25lOlxcbiAgICAgICAgICAgICAgICBjbWQuZXh0ZW5kKFtcXFwiLS1zdGFydC10aW1lXFxcIiwgc3RyKHN0YXJ0X3RpbWUpXSlcXG4gICAgICAgICAgICBpZiBlbmRfdGltZSBpcyBub3QgTm9uZTpcXG4gICAgICAgICAgICAgICAgY21kLmV4dGVuZChbXFxcIi0tZW5kLXRpbWVcXFwiLCBzdHIoZW5kX3RpbWUpXSlcXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgIyBBZGQgdGl0bGVcXG4gICAgICAgICAgICB3aW5kb3dfdGl0bGUgPSBmXFxcIk1ORSBFRUcgVmlld2VyIC0ge3NlbGVjdGVkX2VlZ1snZmlsZW5hbWUnXX1cXFwiXFxuICAgICAgICAgICAgY21kLmV4dGVuZChbXFxcIi0tdGl0bGVcXFwiLCB3aW5kb3dfdGl0bGVdKVxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgICMgTGF1bmNoIHRoZSBzdWJwcm9jZXNzXFxuICAgICAgICAgICAgc3VicHJvY2Vzcy5Qb3BlbihjbWQsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNzLlBJUEUpXFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgIyBDbG9zZSB0aGUgbG9hZGluZyB3aW5kb3cgYWZ0ZXIgYSBzaG9ydCBkZWxheVxcbiAgICAgICAgICAgIHNlbGYuYWZ0ZXIoMTAwMCwgbG9hZGluZ193aW5kb3cuZGVzdHJveSlcXG4gICAgICAgICAgICBcXG4gICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcXG4gICAgICAgICAgICBsb2FkaW5nX3dpbmRvdy5kZXN0cm95KClcXG4gICAgICAgICAgICBtZXNzYWdlYm94LnNob3dlcnJvcihcXFwiRXJyb3JcXFwiLCBmXFxcIkZhaWxlZCB0byBvcGVuIHRoZSBFRUcgZmlsZSB3aXRoIE1ORTpcXFxcbntzdHIoZSl9XFxcIilcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDU3OCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA2NzZ9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdywgbGV0J3MgbW9kaWZ5IHRoZSBgdmlld19lZWdgIG1ldGhvZCBpbiBgc2VsZWN0aW9uX2ZyYW1lLnB5YCB0byB1c2UgdGhpcyBoZWxwZXIgc2NyaXB0OlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNjVMb053dDgyMURCanV5ODFIWlNEZCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciIsImZvbGRlclJvb3QiOiIvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTm93LCBsZXQncyBtb2RpZnkgdGhlIGB2aWV3X2VlZ2AgbWV0aG9kIGluIGBzZWxlY3Rpb25fZnJhbWUucHlgIHRvIHVzZSB0aGlzIGhlbHBlciBzY3JpcHQ6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiOGQxZGMzNGEtY2U1MC00MTRlLThiMzctOWVhNWE1YjUyZDU2IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxUll3Yzh2eW0ydnFvd1poaWlyU2hNRiIsInRvb2xfbmFtZSI6ImxhdW5jaC1wcm9jZXNzIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJjZCAvaG9tZS9zb2Vua2V2bC9Eb2N1bWVudHMvRUVHQW5hbHl6ZXIgJiYgcHl0aG9uIC1tIGd1aS5ydW5fbWV0cmljc192aWV3ZXJcIiwgXCJ3YWl0XCI6IGZhbHNlLCBcIm1heF93YWl0X3NlY29uZHNcIjogMTB9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgbGV0J3MgdGVzdCBvdXIgaW1wbGVtZW50YXRpb24gdG8gbWFrZSBzdXJlIGl0IHdvcmtzIGNvcnJlY3RseTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgZ3VpL21ldHJpY3Nfdmlld2VyL3NlbGVjdGlvbl9mcmFtZS5weS5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgICA0XHRUaGlzIG1vZHVsZSBwcm92aWRlcyB0aGUgU2VsZWN0aW9uRnJhbWUgY2xhc3MgZm9yIHNlbGVjdGluZyBleHBlcmltZW50cywgRUVHcyxcbiAgICAgNVx0bWV0cmljcywgY2hhbm5lbHMsIGFuZCBvdGhlciB2aXN1YWxpemF0aW9uIG9wdGlvbnMuXG4gICAgIDZcdFwiXCJcIlxuICAgICA3XHRcbiAgICAgOFx0ZnJvbSB0eXBpbmcgaW1wb3J0IExpc3QsIERpY3QsIFR1cGxlLCBPcHRpb25hbCwgQW55LCBDYWxsYWJsZVxuICAgICA5XHRpbXBvcnQgb3NcbiAgICAxMFx0aW1wb3J0IHN5c1xuICAgIDExXHRpbXBvcnQgc3VicHJvY2Vzc1xuICAgIDEyXHRpbXBvcnQgY3VzdG9tdGtpbnRlciBhcyBjdGtcbiAgICAxM1x0aW1wb3J0IHRraW50ZXIgYXMgdGtcbiAgICAxNFx0ZnJvbSB0a2ludGVyIGltcG9ydCBtZXNzYWdlYm94XG4gICAgMTVcdGltcG9ydCBtbmVcbiAgICAxNlx0aW1wb3J0IG51bXB5IGFzIG5wXG4gICAgMTdcdFxuICAgIDE4XHRmcm9tIC5kYXRhYmFzZV9oYW5kbGVyIGltcG9ydCBEYXRhYmFzZUhhbmRsZXJcbiAgICAxOVx0ZnJvbSAucGxvdF9mcmFtZSBpbXBvcnQgTWV0cmljc1Bsb3RGcmFtZVxuICAgIDIwXHRmcm9tIC51dGlscyBpbXBvcnQgKFxuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMV06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgIDU3Nlx0ICAgICAgICBzZWxmLnN0YXJ0X3RpbWVfdmFyLnNldChcIjBcIilcbiAgIDU3N1x0ICAgICAgICBzZWxmLmVuZF90aW1lX3Zhci5zZXQoXCJcIilcbiAgIDU3OFx0ICAgICAgICBzZWxmLnVwZGF0ZV9wbG90KClcbiAgIDU3OVx0XG4gICA1ODBcdCAgICBkZWYgdmlld19lZWcoc2VsZik6XG4gICA1ODFcdCAgICAgICAgXCJcIlwiT3BlbiB0aGUgY3VycmVudCBFRUcgZmlsZSB3aXRoIE1ORSBhbmQgZGlzcGxheSBpdCBpbiBhIG5ldyB3aW5kb3cgdXNpbmcgYSBzdWJwcm9jZXNzLlwiXCJcIlxuICAgNTgyXHQgICAgICAgIGlmIG5vdCBoYXNhdHRyKHNlbGYsICdjdXJyZW50X2V4cGVyaW1lbnRfaWQnKSBvciBub3QgaGFzYXR0cihzZWxmLCAnY3VycmVudF9lZWdfaWQnKTpcbiAgIDU4M1x0ICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93aW5mbyhcIk5vIEVFRyBTZWxlY3RlZFwiLCBcIlBsZWFzZSBzZWxlY3QgYW4gZXhwZXJpbWVudCBhbmQgRUVHIGZpbGUgZmlyc3QuXCIpXG4gICA1ODRcdCAgICAgICAgICAgIHJldHVyblxuICAgNTg1XHRcbiAgIDU4Nlx0ICAgICAgICAjIEZpbmQgdGhlIHNlbGVjdGVkIEVFRyB0byBnZXQgaXRzIGZpbGVwYXRoXG4gICA1ODdcdCAgICAgICAgc2VsZWN0ZWRfZWVnID0gTm9uZVxuICAgNTg4XHQgICAgICAgIGZvciBlZWcgaW4gc2VsZi5lZWdzOlxuICAgNTg5XHQgICAgICAgICAgICBpZiBlZWdbJ2lkJ10gPT0gc2VsZi5jdXJyZW50X2VlZ19pZDpcbiAgIDU5MFx0ICAgICAgICAgICAgICAgIHNlbGVjdGVkX2VlZyA9IGVlZ1xuICAgNTkxXHQgICAgICAgICAgICAgICAgYnJlYWtcbiAgIDU5Mlx0XG4gICA1OTNcdCAgICAgICAgaWYgbm90IHNlbGVjdGVkX2VlZyBvciBub3Qgc2VsZWN0ZWRfZWVnLmdldCgnZmlsZXBhdGgnKTpcbiAgIDU5NFx0ICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoXCJFcnJvclwiLCBcIkNvdWxkIG5vdCBmaW5kIHRoZSBFRUcgZmlsZSBwYXRoLlwiKVxuICAgNTk1XHQgICAgICAgICAgICByZXR1cm5cbiAgIDU5Nlx0XG4gICA1OTdcdCAgICAgICAgZWVnX2ZpbGVwYXRoID0gc2VsZWN0ZWRfZWVnWydmaWxlcGF0aCddXG4gICA1OThcdFxuICAgNTk5XHQgICAgICAgICMgQ2hlY2sgaWYgdGhlIGZpbGUgZXhpc3RzXG4gICA2MDBcdCAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKGVlZ19maWxlcGF0aCk6XG4gICA2MDFcdCAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKFwiRmlsZSBOb3QgRm91bmRcIiwgZlwiVGhlIEVFRyBmaWxlIHdhcyBub3QgZm91bmQgYXQ6XFxue2VlZ19maWxlcGF0aH1cIilcbiAgIDYwMlx0ICAgICAgICAgICAgcmV0dXJuXG4gICA2MDNcdFxuICAgNjA0XHQgICAgICAgICMgR2V0IHRoZSBjdXJyZW50IHRpbWUgd2luZG93XG4gICA2MDVcdCAgICAgICAgdHJ5OlxuICAgNjA2XHQgICAgICAgICAgICBzdGFydF90aW1lID0gZmxvYXQoc2VsZi5zdGFydF90aW1lX3Zhci5nZXQoKSkgaWYgc2VsZi5zdGFydF90aW1lX3Zhci5nZXQoKSBlbHNlIE5vbmVcbiAgIDYwN1x0ICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjpcbiAgIDYwOFx0ICAgICAgICAgICAgc3RhcnRfdGltZSA9IE5vbmVcbiAgIDYwOVx0XG4gICA2MTBcdCAgICAgICAgdHJ5OlxuICAgNjExXHQgICAgICAgICAgICBlbmRfdGltZSA9IGZsb2F0KHNlbGYuZW5kX3RpbWVfdmFyLmdldCgpKSBpZiBzZWxmLmVuZF90aW1lX3Zhci5nZXQoKSBlbHNlIE5vbmVcbiAgIDYxMlx0ICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjpcbiAgIDYxM1x0ICAgICAgICAgICAgZW5kX3RpbWUgPSBOb25lXG4gICA2MTRcdFxuICAgNjE1XHQgICAgICAgICMgU2hvdyBhIGxvYWRpbmcgbWVzc2FnZVxuICAgNjE2XHQgICAgICAgIGxvYWRpbmdfd2luZG93ID0gdGsuVG9wbGV2ZWwoc2VsZilcbiAgIDYxN1x0ICAgICAgICBsb2FkaW5nX3dpbmRvdy50aXRsZShcIkxvYWRpbmcgRUVHXCIpXG4gICA2MThcdCAgICAgICAgbG9hZGluZ193aW5kb3cuZ2VvbWV0cnkoXCIzMDB4MTAwXCIpXG4gICA2MTlcdCAgICAgICAgbG9hZGluZ193aW5kb3cudHJhbnNpZW50KHNlbGYubWFzdGVyKVxuICAgNjIwXHQgICAgICAgIGxvYWRpbmdfd2luZG93LmdyYWJfc2V0KClcbiAgIDYyMVx0XG4gICA2MjJcdCAgICAgICAgbG9hZGluZ19sYWJlbCA9IHRrLkxhYmVsKGxvYWRpbmdfd2luZG93LCB0ZXh0PVwiU3RhcnRpbmcgTU5FIHZpZXdlci4uLlxcblRoaXMgbWF5IHRha2UgYSBtb21lbnQuXCIpXG4gICA2MjNcdCAgICAgICAgbG9hZGluZ19sYWJlbC5wYWNrKGV4cGFuZD1UcnVlLCBmaWxsPXRrLkJPVEgsIHBhZHg9MjAsIHBhZHk9MjApXG4gICA2MjRcdCAgICAgICAgbG9hZGluZ193aW5kb3cudXBkYXRlKClcbiAgIDYyNVx0XG4gICA2MjZcdCAgICAgICAgdHJ5OlxuICAgNjI3XHQgICAgICAgICAgICAjIEdldCB0aGUgcGF0aCB0byB0aGUgaGVscGVyIHNjcmlwdFxuICAgNjI4XHQgICAgICAgICAgICBoZWxwZXJfc2NyaXB0X3BhdGggPSBvcy5wYXRoLmpvaW4ob3MucGF0aC5kaXJuYW1lKG9zLnBhdGguYWJzcGF0aChfX2ZpbGVfXykpLCBcIm1uZV9wbG90X2hlbHBlci5weVwiKVxuICAgNjI5XHRcbiAgIDYzMFx0ICAgICAgICAgICAgIyBNYWtlIHN1cmUgdGhlIGhlbHBlciBzY3JpcHQgaXMgZXhlY3V0YWJsZVxuICAgNjMxXHQgICAgICAgICAgICBpZiBub3Qgb3MuYWNjZXNzKGhlbHBlcl9zY3JpcHRfcGF0aCwgb3MuWF9PSykgYW5kIHN5cy5wbGF0Zm9ybSAhPSAnd2luMzInOlxuICAgNjMyXHQgICAgICAgICAgICAgICAgb3MuY2htb2QoaGVscGVyX3NjcmlwdF9wYXRoLCAwbzc1NSlcbiAgIDYzM1x0XG4gICA2MzRcdCAgICAgICAgICAgICMgQnVpbGQgdGhlIGNvbW1hbmQgdG8gcnVuIHRoZSBoZWxwZXIgc2NyaXB0XG4gICA2MzVcdCAgICAgICAgICAgIGNtZCA9IFtzeXMuZXhlY3V0YWJsZSwgaGVscGVyX3NjcmlwdF9wYXRoLCBcIi0tZmlsZXBhdGhcIiwgZWVnX2ZpbGVwYXRoXVxuICAgNjM2XHRcbiAgIDYzN1x0ICAgICAgICAgICAgIyBBZGQgdGltZSB3aW5kb3cgcGFyYW1ldGVycyBpZiBzcGVjaWZpZWRcbiAgIDYzOFx0ICAgICAgICAgICAgaWYgc3RhcnRfdGltZSBpcyBub3QgTm9uZTpcbiAgIDYzOVx0ICAgICAgICAgICAgICAgIGNtZC5leHRlbmQoW1wiLS1zdGFydC10aW1lXCIsIHN0cihzdGFydF90aW1lKV0pXG4gICA2NDBcdCAgICAgICAgICAgIGlmIGVuZF90aW1lIGlzIG5vdCBOb25lOlxuICAgNjQxXHQgICAgICAgICAgICAgICAgY21kLmV4dGVuZChbXCItLWVuZC10aW1lXCIsIHN0cihlbmRfdGltZSldKVxuICAgNjQyXHRcbiAgIDY0M1x0ICAgICAgICAgICAgIyBBZGQgdGl0bGVcbiAgIDY0NFx0ICAgICAgICAgICAgd2luZG93X3RpdGxlID0gZlwiTU5FIEVFRyBWaWV3ZXIgLSB7c2VsZWN0ZWRfZWVnWydmaWxlbmFtZSddfVwiXG4gICA2NDVcdCAgICAgICAgICAgIGNtZC5leHRlbmQoW1wiLS10aXRsZVwiLCB3aW5kb3dfdGl0bGVdKVxuICAgNjQ2XHRcbiAgIDY0N1x0ICAgICAgICAgICAgIyBMYXVuY2ggdGhlIHN1YnByb2Nlc3NcbiAgIDY0OFx0ICAgICAgICAgICAgc3VicHJvY2Vzcy5Qb3BlbihjbWQsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNzLlBJUEUpXG4gICA2NDlcdFxuICAgNjUwXHQgICAgICAgICAgICAjIENsb3NlIHRoZSBsb2FkaW5nIHdpbmRvdyBhZnRlciBhIHNob3J0IGRlbGF5XG4gICA2NTFcdCAgICAgICAgICAgIHNlbGYuYWZ0ZXIoMTAwMCwgbG9hZGluZ193aW5kb3cuZGVzdHJveSlcbiAgIDY1Mlx0XG4gICA2NTNcdCAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxuICAgNjU0XHQgICAgICAgICAgICBsb2FkaW5nX3dpbmRvdy5kZXN0cm95KClcbiAgIDY1NVx0ICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoXCJFcnJvclwiLCBmXCJGYWlsZWQgdG8gb3BlbiB0aGUgRUVHIGZpbGUgd2l0aCBNTkU6XFxue3N0cihlKX1cIilcbiAgIDY1Nlx0XG4gICA2NTdcdCAgICBkZWYgdXBkYXRlX3Bsb3Qoc2VsZik6XG4gICA2NThcdCAgICAgICAgXCJcIlwiVXBkYXRlIHRoZSBwbG90IHdpdGggdGhlIHNlbGVjdGVkIG1ldHJpYyBhbmQgY2hhbm5lbHMuXCJcIlwiXG4gICA2NTlcdCAgICAgICAgaWYgbm90IGhhc2F0dHIoc2VsZiwgJ2N1cnJlbnRfZXhwZXJpbWVudF9pZCcpIG9yIG5vdCBoYXNhdHRyKHNlbGYsICdjdXJyZW50X2VlZ19pZCcpIG9yIG5vdCBzZWxmLmN1cnJlbnRfbWV0cmljOlxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDEySEJLSm95V0FFOUx3TVNVWVI2ZFFLIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIiwiZm9sZGVyUm9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJOb3cgbGV0J3MgdGVzdCBvdXIgaW1wbGVtZW50YXRpb24gdG8gbWFrZSBzdXJlIGl0IHdvcmtzIGNvcnJlY3RseTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJmOGYwNTRmZC0yNmY4LTQ5MzAtOGQyMi1mYjc0MWM5M2EzMDkiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQgbWUgZXhwbGFpbiB0aGUgY2hhbmdlcyBJJ3ZlIG1hZGUgdG8gaW1wbGVtZW50IHRoZSBNTkUgcGxvdCBpbiBhIHN1YnByb2Nlc3M6XG5cbjEuICoqQ3JlYXRlZCBhIEhlbHBlciBTY3JpcHQgKGBtbmVfcGxvdF9oZWxwZXIucHlgKSoqOlxuICAgLSBUaGlzIHNjcmlwdCBpcyBkZXNpZ25lZCB0byBiZSBydW4gYXMgYSBzdGFuZGFsb25lIFB5dGhvbiBwcm9jZXNzXG4gICAtIEl0IGFjY2VwdHMgY29tbWFuZC1saW5lIGFyZ3VtZW50cyBmb3IgdGhlIEVFRyBmaWxlIHBhdGgsIHRpbWUgd2luZG93LCBhbmQgd2luZG93IHRpdGxlXG4gICAtIEl0IGhhbmRsZXMgbG9hZGluZyB0aGUgRUVHIGZpbGUgYW5kIGRpc3BsYXlpbmcgdGhlIHBsb3QgdXNpbmcgTU5FXG4gICAtIFRoZSBzY3JpcHQgcnVucyBpbmRlcGVuZGVudGx5IGZyb20gdGhlIG1haW4gYXBwbGljYXRpb25cblxuMi4gKipNb2RpZmllZCB0aGUgYHZpZXdfZWVnYCBNZXRob2QgaW4gYHNlbGVjdGlvbl9mcmFtZS5weWAqKjpcbiAgIC0gQWRkZWQgaW1wb3J0cyBmb3IgYHN5c2AgYW5kIGBzdWJwcm9jZXNzYCBtb2R1bGVzXG4gICAtIFJlcGxhY2VkIHRoZSBkaXJlY3QgTU5FIHBsb3R0aW5nIGNvZGUgd2l0aCBjb2RlIHRvIGxhdW5jaCB0aGUgaGVscGVyIHNjcmlwdCBhcyBhIHN1YnByb2Nlc3NcbiAgIC0gQWRkZWQgYSBsb2FkaW5nIHdpbmRvdyB0aGF0IHNob3dzIGJyaWVmbHkgd2hpbGUgdGhlIHN1YnByb2Nlc3MgaXMgc3RhcnRpbmdcbiAgIC0gVXNlZCBgc3VicHJvY2Vzcy5Qb3BlbmAgdG8gbGF1bmNoIHRoZSBoZWxwZXIgc2NyaXB0IHdpdGhvdXQgYmxvY2tpbmcgdGhlIG1haW4gYXBwbGljYXRpb25cbiAgIC0gQWRkZWQgY29kZSB0byBtYWtlIHRoZSBoZWxwZXIgc2NyaXB0IGV4ZWN1dGFibGUgb24gVW5peC1saWtlIHN5c3RlbXNcblxuMy4gKipLZXkgQmVuZWZpdHMgb2YgVGhpcyBBcHByb2FjaCoqOlxuICAgLSBUaGUgTU5FIHBsb3Qgbm93IHJ1bnMgaW4gYSBzZXBhcmF0ZSBwcm9jZXNzLCBzbyBpdCBkb2Vzbid0IGJsb2NrIHRoZSBtYWluIGFwcGxpY2F0aW9uXG4gICAtIFVzZXJzIGNhbiBjb250aW51ZSB0byBpbnRlcmFjdCB3aXRoIHRoZSBtYWluIGFwcGxpY2F0aW9uIHdoaWxlIHZpZXdpbmcgdGhlIEVFR1xuICAgLSBJZiB0aGUgTU5FIHBsb3QgY3Jhc2hlcywgaXQgd29uJ3QgYWZmZWN0IHRoZSBtYWluIGFwcGxpY2F0aW9uXG4gICAtIFRoZSBpbXBsZW1lbnRhdGlvbiBpcyBjbGVhbiBhbmQgbWFpbnRhaW5hYmxlXG5cblRoZSBoZWxwZXIgc2NyaXB0IChgbW5lX3Bsb3RfaGVscGVyLnB5YCkgaGFuZGxlcyBhbGwgdGhlIHNhbWUgZnVuY3Rpb25hbGl0eSB0aGF0IHdhcyBwcmV2aW91c2x5IGluIHRoZSBgdmlld19lZWdgIG1ldGhvZCwgaW5jbHVkaW5nOlxuLSBMb2FkaW5nIGRpZmZlcmVudCBFRUcgZmlsZSBmb3JtYXRzXG4tIFNldHRpbmcgdGhlIHRpbWUgd2luZG93IGlmIHNwZWNpZmllZFxuLSBTZXR0aW5nIHRoZSB3aW5kb3cgdGl0bGVcbi0gRXJyb3IgaGFuZGxpbmdcblxuVGhpcyBpbXBsZW1lbnRhdGlvbiBzaG91bGQgd29yayB3ZWxsIGFjcm9zcyBkaWZmZXJlbnQgcGxhdGZvcm1zIChXaW5kb3dzLCBtYWNPUywgTGludXgpIGFuZCBwcm92aWRlcyBhIG11Y2ggYmV0dGVyIHVzZXIgZXhwZXJpZW5jZSBieSBrZWVwaW5nIHRoZSBtYWluIGFwcGxpY2F0aW9uIHJlc3BvbnNpdmUgd2hpbGUgdGhlIE1ORSBwbG90IGlzIGRpc3BsYXllZC5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlByb2Nlc3MgbGF1bmNoZWQgd2l0aCBQSUQgMTEiLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFSWXdjOHZ5bTJ2cW93WmhpaXJTaE1GIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL2hvbWUvc29lbmtldmwvRG9jdW1lbnRzL0VFR0FuYWx5emVyIiwiZm9sZGVyUm9vdCI6Ii9ob21lL3NvZW5rZXZsL0RvY3VtZW50cy9FRUdBbmFseXplciJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJMZXQgbWUgZXhwbGFpbiB0aGUgY2hhbmdlcyBJJ3ZlIG1hZGUgdG8gaW1wbGVtZW50IHRoZSBNTkUgcGxvdCBpbiBhIHN1YnByb2Nlc3M6XG5cbjEuICoqQ3JlYXRlZCBhIEhlbHBlciBTY3JpcHQgKGBtbmVfcGxvdF9oZWxwZXIucHlgKSoqOlxuICAgLSBUaGlzIHNjcmlwdCBpcyBkZXNpZ25lZCB0byBiZSBydW4gYXMgYSBzdGFuZGFsb25lIFB5dGhvbiBwcm9jZXNzXG4gICAtIEl0IGFjY2VwdHMgY29tbWFuZC1saW5lIGFyZ3VtZW50cyBmb3IgdGhlIEVFRyBmaWxlIHBhdGgsIHRpbWUgd2luZG93LCBhbmQgd2luZG93IHRpdGxlXG4gICAtIEl0IGhhbmRsZXMgbG9hZGluZyB0aGUgRUVHIGZpbGUgYW5kIGRpc3BsYXlpbmcgdGhlIHBsb3QgdXNpbmcgTU5FXG4gICAtIFRoZSBzY3JpcHQgcnVucyBpbmRlcGVuZGVudGx5IGZyb20gdGhlIG1haW4gYXBwbGljYXRpb25cblxuMi4gKipNb2RpZmllZCB0aGUgYHZpZXdfZWVnYCBNZXRob2QgaW4gYHNlbGVjdGlvbl9mcmFtZS5weWAqKjpcbiAgIC0gQWRkZWQgaW1wb3J0cyBmb3IgYHN5c2AgYW5kIGBzdWJwcm9jZXNzYCBtb2R1bGVzXG4gICAtIFJlcGxhY2VkIHRoZSBkaXJlY3QgTU5FIHBsb3R0aW5nIGNvZGUgd2l0aCBjb2RlIHRvIGxhdW5jaCB0aGUgaGVscGVyIHNjcmlwdCBhcyBhIHN1YnByb2Nlc3NcbiAgIC0gQWRkZWQgYSBsb2FkaW5nIHdpbmRvdyB0aGF0IHNob3dzIGJyaWVmbHkgd2hpbGUgdGhlIHN1YnByb2Nlc3MgaXMgc3RhcnRpbmdcbiAgIC0gVXNlZCBgc3VicHJvY2Vzcy5Qb3BlbmAgdG8gbGF1bmNoIHRoZSBoZWxwZXIgc2NyaXB0IHdpdGhvdXQgYmxvY2tpbmcgdGhlIG1haW4gYXBwbGljYXRpb25cbiAgIC0gQWRkZWQgY29kZSB0byBtYWtlIHRoZSBoZWxwZXIgc2NyaXB0IGV4ZWN1dGFibGUgb24gVW5peC1saWtlIHN5c3RlbXNcblxuMy4gKipLZXkgQmVuZWZpdHMgb2YgVGhpcyBBcHByb2FjaCoqOlxuICAgLSBUaGUgTU5FIHBsb3Qgbm93IHJ1bnMgaW4gYSBzZXBhcmF0ZSBwcm9jZXNzLCBzbyBpdCBkb2Vzbid0IGJsb2NrIHRoZSBtYWluIGFwcGxpY2F0aW9uXG4gICAtIFVzZXJzIGNhbiBjb250aW51ZSB0byBpbnRlcmFjdCB3aXRoIHRoZSBtYWluIGFwcGxpY2F0aW9uIHdoaWxlIHZpZXdpbmcgdGhlIEVFR1xuICAgLSBJZiB0aGUgTU5FIHBsb3QgY3Jhc2hlcywgaXQgd29uJ3QgYWZmZWN0IHRoZSBtYWluIGFwcGxpY2F0aW9uXG4gICAtIFRoZSBpbXBsZW1lbnRhdGlvbiBpcyBjbGVhbiBhbmQgbWFpbnRhaW5hYmxlXG5cblRoZSBoZWxwZXIgc2NyaXB0IChgbW5lX3Bsb3RfaGVscGVyLnB5YCkgaGFuZGxlcyBhbGwgdGhlIHNhbWUgZnVuY3Rpb25hbGl0eSB0aGF0IHdhcyBwcmV2aW91c2x5IGluIHRoZSBgdmlld19lZWdgIG1ldGhvZCwgaW5jbHVkaW5nOlxuLSBMb2FkaW5nIGRpZmZlcmVudCBFRUcgZmlsZSBmb3JtYXRzXG4tIFNldHRpbmcgdGhlIHRpbWUgd2luZG93IGlmIHNwZWNpZmllZFxuLSBTZXR0aW5nIHRoZSB3aW5kb3cgdGl0bGVcbi0gRXJyb3IgaGFuZGxpbmdcblxuVGhpcyBpbXBsZW1lbnRhdGlvbiBzaG91bGQgd29yayB3ZWxsIGFjcm9zcyBkaWZmZXJlbnQgcGxhdGZvcm1zIChXaW5kb3dzLCBtYWNPUywgTGludXgpIGFuZCBwcm92aWRlcyBhIG11Y2ggYmV0dGVyIHVzZXIgZXhwZXJpZW5jZSBieSBrZWVwaW5nIHRoZSBtYWluIGFwcGxpY2F0aW9uIHJlc3BvbnNpdmUgd2hpbGUgdGhlIE1ORSBwbG90IGlzIGRpc3BsYXllZC5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119XSwiZmVlZGJhY2tTdGF0ZXMiOnsidGVtcC1mZS0wNzliODg2OC1hYWQwLTQxMjktODQ3Yy0yNTk4ZTg1YWZiZjIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWQ2NGJlOWIzLTA1ZDYtNDNkNS1hOWUxLWU0NWU2ZWY2NGZhZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZDNiZTM4MTMtMjRhYy00ZjNiLWE5OGItYWYxNjcwZDhjM2FjIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1mYTk4NzA3NS03NzQ2LTRkNzAtODJlZC05MzE5YzJjZGU1ZTIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWUxNmI5MmEwLWVmZWQtNGI2Yi04ZTkyLTcwMmRiMDQ0NWUwZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNzljNWI4NjMtNmQzNy00Y2E1LWIxODAtN2QyZGMzZjMwNjhjIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifX0sInRvb2xVc2VTdGF0ZXMiOnsiMmM5ZjRmY2YtNGQ3MC00NGE0LWJmZTItYzUzMTA0MjNjNzVlO3Rvb2x1X3ZydHhfMDFBTW5aTnVTTkZQUUpqdkQzVk5oSGJBIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gZ3VpL21ldHJpY3Nfdmlld2VyL3NlbGVjdGlvbl9mcmFtZS5weTpcbiAgICAgMVx0XCJcIlwiXG4gICAgIDJcdFNlbGVjdGlvbiBmcmFtZSBmb3IgdGhlIEVFRyBNZXRyaWNzIFZpZXdlci5cbiAgICAgM1x0XG4gICAgIDRcdFRoaXMgbW9kdWxlIHByb3ZpZGVzIHRoZSBTZWxlY3Rpb25GcmFtZSBjbGFzcyBmb3Igc2VsZWN0aW5nIGV4cGVyaW1lbnRzLCBFRUdzLFxuICAgICA1XHRtZXRyaWNzLCBjaGFubmVscywgYW5kIG90aGVyIHZpc3VhbGl6YXRpb24gb3B0aW9ucy5cbiAgICAgNlx0XCJcIlwiXG4gICAgIDdcdFxuICAgICA4XHRmcm9tIHR5cGluZyBpbXBvcnQgTGlzdCwgRGljdCwgVHVwbGUsIE9wdGlvbmFsLCBBbnksIENhbGxhYmxlXG4gICAgIDlcdGltcG9ydCBvc1xuICAgIDEwXHRpbXBvcnQgY3VzdG9tdGtpbnRlciBhcyBjdGtcbiAgICAxMVx0aW1wb3J0IHRraW50ZXIgYXMgdGtcbiAgICAxMlx0ZnJvbSB0a2ludGVyIGltcG9ydCBtZXNzYWdlYm94XG4gICAgMTNcdGltcG9ydCBtbmVcbiAgICAxNFx0aW1wb3J0IG51bXB5IGFzIG5wXG4gICAgMTVcdFxuICAgIDE2XHRmcm9tIC5kYXRhYmFzZV9oYW5kbGVyIGltcG9ydCBEYXRhYmFzZUhhbmRsZXJcbiAgICAxN1x0ZnJvbSAucGxvdF9mcmFtZSBpbXBvcnQgTWV0cmljc1Bsb3RGcmFtZVxuICAgIDE4XHRmcm9tIC51dGlscyBpbXBvcnQgKFxuICAgIDE5XHQgICAgZ2V0X2xhYmVsX2ZvbnQsXG4gICAgMjBcdCAgICBnZXRfZHJvcGRvd25fZm9udCxcbiAgICAyMVx0ICAgIGdldF9idXR0b25fZm9udCxcbiAgICAyMlx0ICAgIENPTU1PTl9DSEFOTkVMUyxcbiAgICAyM1x0ICAgIEFMVEVSTkFUSVZFX0NIQU5ORUxfTkFNRVNcbiAgICAyNFx0KVxuICAgIDI1XHRcbiAgICAyNlx0XG4gICAgMjdcdGNsYXNzIFNlbGVjdGlvbkZyYW1lKGN0ay5DVGtGcmFtZSk6XG4gICAgMjhcdCAgICBcIlwiXCJcbiAgICAyOVx0ICAgIEEgZnJhbWUgY29udGFpbmluZyBjb250cm9scyBmb3Igc2VsZWN0aW5nIGV4cGVyaW1lbnRzLCBFRUdzLCBtZXRyaWNzLCBjaGFubmVscywgYW5kIG90aGVyIG9wdGlvbnMuXG4gICAgMzBcdCAgICBBbHNvIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdmlldyB0aGUgb3JpZ2luYWwgRUVHIGZpbGUgdXNpbmcgTU5FLCBzeW5jaHJvbml6ZWQgd2l0aCB0aGUgY3VycmVudCB0aW1lIHdpbmRvdy5cbiAgICAzMVx0ICAgIFwiXCJcIlxuICAgIDMyXHRcbiAgICAzM1x0ICAgIGRlZiBfX2luaXRfXyhzZWxmLCBtYXN0ZXIsIGRiX2hhbmRsZXI6IERhdGFiYXNlSGFuZGxlciwgcGxvdF9mcmFtZTogTWV0cmljc1Bsb3RGcmFtZSwgKiprd2FyZ3MpOlxuICAgIDM0XHQgICAgICAgIFwiXCJcIlxuICAgIDM1XHQgICAgICAgIEluaXRpYWxpemUgdGhlIHNlbGVjdGlvbiBmcmFtZS5cbiAgICAzNlx0XG4gICAgMzdcdCAgICAgICAgQXJnczpcbiAgICAzOFx0ICAgICAgICAgICAgbWFzdGVyOiBUaGUgcGFyZW50IHdpZGdldFxuICAgIDM5XHQgICAgICAgICAgICBkYl9oYW5kbGVyOiBEYXRhYmFzZUhhbmRsZXIgaW5zdGFuY2UgZm9yIHF1ZXJ5aW5nIHRoZSBkYXRhYmFzZVxuICAgIDQwXHQgICAgICAgICAgICBwbG90X2ZyYW1lOiBNZXRyaWNzUGxvdEZyYW1lIGluc3RhbmNlIGZvciBkaXNwbGF5aW5nIHBsb3RzXG4gICAgNDFcdCAgICAgICAgICAgICoqa3dhcmdzOiBBZGRpdGlvbmFsIGFyZ3VtZW50cyBmb3IgdGhlIENUa0ZyYW1lIGNvbnN0cnVjdG9yXG4gICAgNDJcdCAgICAgICAgXCJcIlwiXG4gICAgNDNcdCAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhtYXN0ZXIsICoqa3dhcmdzKVxuICAgIDQ0XHRcbiAgICA0NVx0ICAgICAgICBzZWxmLmRiX2hhbmRsZXIgPSBkYl9oYW5kbGVyXG4gICAgNDZcdCAgICAgICAgc2VsZi5wbG90X2ZyYW1lID0gcGxvdF9mcmFtZVxuICAgIDQ3XHRcbiAgICA0OFx0ICAgICAgICAjIENvbmZpZ3VyZSBncmlkIGxheW91dFxuICAgIDQ5XHQgICAgICAgIHNlbGYuZ3JpZF9jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpXG4gICAgNTBcdCAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgxLCB3ZWlnaHQ9MSlcbiAgICA1MVx0ICAgICAgICBzZWxmLmdyaWRfcm93Y29uZmlndXJlKDgsIHdlaWdodD0wKSAgIyBSb3cgZm9yIHRoZSBWaWV3IEVFRyBidXR0b25cbiAgICA1Mlx0XG4gICAgNTNcdCAgICAgICAgIyBDcmVhdGUgZm9udHNcbiAgICA1NFx0ICAgICAgICBsYWJlbF9mb250ID0gZ2V0X2xhYmVsX2ZvbnQoKVxuICAgIDU1XHQgICAgICAgIGRyb3Bkb3duX2ZvbnQgPSBnZXRfZHJvcGRvd25fZm9udCgpXG4gICAgNTZcdFxuICAgIDU3XHQgICAgICAgICMgRXhwZXJpbWVudCBzZWxlY3Rpb24gLSBtb3JlIGNvbXBhY3RcbiAgICA1OFx0ICAgICAgICBzZWxmLmV4cGVyaW1lbnRfbGFiZWwgPSBjdGsuQ1RrTGFiZWwoc2VsZiwgdGV4dD1cIlNlbGVjdCBFeHBlcmltZW50OlwiLCBmb250PWxhYmVsX2ZvbnQpXG4gICAgNTlcdCAgICAgICAgc2VsZi5leHBlcmltZW50X2xhYmVsLmdyaWQocm93PTAsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9KDgsIDApLCBzdGlja3k9XCJ3XCIpXG4gICAgNjBcdFxuICAgIDYxXHQgICAgICAgIHNlbGYuZXhwZXJpbWVudHMgPSBzZWxmLmRiX2hhbmRsZXIuZ2V0X2V4cGVyaW1lbnRzKClcbiAgICA2Mlx0ICAgICAgICBleHBlcmltZW50X25hbWVzID0gW2ZcIntleHBbJ25hbWUnXX0gKHtleHBbJ3J1bl9uYW1lJ119KVwiIGZvciBleHAgaW4gc2VsZi5leHBlcmltZW50c11cbiAgICA2M1x0XG4gICAgNjRcdCAgICAgICAgc2VsZi5leHBlcmltZW50X3ZhciA9IGN0ay5TdHJpbmdWYXIodmFsdWU9ZXhwZXJpbWVudF9uYW1lc1swXSBpZiBleHBlcmltZW50X25hbWVzIGVsc2UgXCJcIilcbiAgICA2NVx0ICAgICAgICBzZWxmLmV4cGVyaW1lbnRfZHJvcGRvd24gPSBjdGsuQ1RrT3B0aW9uTWVudShcbiAgICA2Nlx0ICAgICAgICAgICAgc2VsZixcbiAgICA2N1x0ICAgICAgICAgICAgdmFsdWVzPWV4cGVyaW1lbnRfbmFtZXMsXG4gICAgNjhcdCAgICAgICAgICAgIHZhcmlhYmxlPXNlbGYuZXhwZXJpbWVudF92YXIsXG4gICAgNjlcdCAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi5vbl9leHBlcmltZW50X3NlbGVjdGVkLFxuICAgIDcwXHQgICAgICAgICAgICBoZWlnaHQ9MjgsXG4gICAgNzFcdCAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udCxcbiAgICA3Mlx0ICAgICAgICAgICAgZHJvcGRvd25fZm9udD1kcm9wZG93bl9mb250XG4gICAgNzNcdCAgICAgICAgKVxuICAgIDc0XHQgICAgICAgIHNlbGYuZXhwZXJpbWVudF9kcm9wZG93bi5ncmlkKHJvdz0wLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PSg4LCAwKSwgc3RpY2t5PVwiZXdcIilcbiAgICA3NVx0XG4gICAgNzZcdCAgICAgICAgIyBFRUcgc2VsZWN0aW9uIC0gbW9yZSBjb21wYWN0XG4gICAgNzdcdCAgICAgICAgc2VsZi5lZWdfbGFiZWwgPSBjdGsuQ1RrTGFiZWwoc2VsZiwgdGV4dD1cIlNlbGVjdCBFRUc6XCIsIGZvbnQ9bGFiZWxfZm9udClcbiAgICA3OFx0ICAgICAgICBzZWxmLmVlZ19sYWJlbC5ncmlkKHJvdz0xLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PSg4LCAwKSwgc3RpY2t5PVwid1wiKVxuICAgIDc5XHRcbiAgICA4MFx0ICAgICAgICBzZWxmLmVlZ192YXIgPSBjdGsuU3RyaW5nVmFyKClcbiAgICA4MVx0ICAgICAgICBzZWxmLmVlZ19kcm9wZG93biA9IGN0ay5DVGtPcHRpb25NZW51KFxuICAgIDgyXHQgICAgICAgICAgICBzZWxmLFxuICAgIDgzXHQgICAgICAgICAgICB2YWx1ZXM9W10sXG4gICAgODRcdCAgICAgICAgICAgIHZhcmlhYmxlPXNlbGYuZWVnX3ZhcixcbiAgICA4NVx0ICAgICAgICAgICAgY29tbWFuZD1zZWxmLm9uX2VlZ19zZWxlY3RlZCxcbiAgICA4Nlx0ICAgICAgICAgICAgaGVpZ2h0PTI4LFxuICAgIDg3XHQgICAgICAgICAgICBmb250PWRyb3Bkb3duX2ZvbnQsXG4gICAgODhcdCAgICAgICAgICAgIGRyb3Bkb3duX2ZvbnQ9ZHJvcGRvd25fZm9udFxuICAgIDg5XHQgICAgICAgIClcbiAgICA5MFx0ICAgICAgICBzZWxmLmVlZ19kcm9wZG93bi5ncmlkKHJvdz0xLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PSg4LCAwKSwgc3RpY2t5PVwiZXdcIilcbiAgICA5MVx0XG4gICAgOTJcdCAgICAgICAgIyBNZXRyaWMgc2VsZWN0aW9uIC0gbW9yZSBjb21wYWN0XG4gICAgOTNcdCAgICAgICAgc2VsZi5tZXRyaWNfbGFiZWwgPSBjdGsuQ1RrTGFiZWwoc2VsZiwgdGV4dD1cIlNlbGVjdCBNZXRyaWM6XCIsIGZvbnQ9bGFiZWxfZm9udClcbiAgICA5NFx0ICAgICAgICBzZWxmLm1ldHJpY19sYWJlbC5ncmlkKHJvdz0yLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PSg4LCAwKSwgc3RpY2t5PVwid1wiKVxuICAgIDk1XHRcbiAgICA5Nlx0ICAgICAgICBzZWxmLm1ldHJpY192YXIgPSBjdGsuU3RyaW5nVmFyKClcbiAgICA5N1x0ICAgICAgICBzZWxmLm1ldHJpY19kcm9wZG93biA9IGN0ay5DVGtPcHRpb25NZW51KFxuICAgIDk4XHQgICAgICAgICAgICBzZWxmLFxuICAgIDk5XHQgICAgICAgICAgICB2YWx1ZXM9W10sXG4gICAxMDBcdCAgICAgICAgICAgIHZhcmlhYmxlPXNlbGYubWV0cmljX3ZhcixcbiAgIDEwMVx0ICAgICAgICAgICAgY29tbWFuZD1zZWxmLm9uX21ldHJpY19zZWxlY3RlZCxcbiAgIDEwMlx0ICAgICAgICAgICAgaGVpZ2h0PTI4LFxuICAgMTAzXHQgICAgICAgICAgICBmb250PWRyb3Bkb3duX2ZvbnQsXG4gICAxMDRcdCAgICAgICAgICAgIGRyb3Bkb3duX2ZvbnQ9ZHJvcGRvd25fZm9udFxuICAgMTA1XHQgICAgICAgIClcbiAgIDEwNlx0ICAgICAgICBzZWxmLm1ldHJpY19kcm9wZG93bi5ncmlkKHJvdz0yLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PSg4LCAwKSwgc3RpY2t5PVwiZXdcIilcbiAgIDEwN1x0XG4gICAxMDhcdCAgICAgICAgIyBDaGFubmVscyBzZWxlY3Rpb24gd2l0aCBtb3JlIGNvbXBhY3QgbGF5b3V0XG4gICAxMDlcdCAgICAgICAgc2VsZi5jaGFubmVsc19sYWJlbCA9IGN0ay5DVGtMYWJlbChzZWxmLCB0ZXh0PVwiU2VsZWN0IENoYW5uZWxzOlwiLCBmb250PWxhYmVsX2ZvbnQpXG4gICAxMTBcdCAgICAgICAgc2VsZi5jaGFubmVsc19sYWJlbC5ncmlkKHJvdz0zLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PSg4LCAwKSwgc3RpY2t5PVwibndcIilcbiAgIDExMVx0XG4gICAxMTJcdCAgICAgICAgIyBDcmVhdGUgYSBmcmFtZSBmb3IgY2hhbm5lbCBzZWxlY3Rpb24gYnV0dG9ucyAtIG1vcmUgY29tcGFjdCBsYXlvdXRcbiAgIDExM1x0ICAgICAgICBzZWxmLmNoYW5uZWxfYnV0dG9uc19mcmFtZSA9IGN0ay5DVGtGcmFtZShzZWxmKVxuICAgMTE0XHQgICAgICAgIHNlbGYuY2hhbm5lbF9idXR0b25zX2ZyYW1lLmdyaWQocm93PTMsIGNvbHVtbj0xLCBwYWR4PTUsIHBhZHk9KDgsIDApLCBzdGlja3k9XCJld1wiKVxuICAgMTE1XHQgICAgICAgIHNlbGYuY2hhbm5lbF9idXR0b25zX2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgMTE2XHQgICAgICAgIHNlbGYuY2hhbm5lbF9idXR0b25zX2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDEsIHdlaWdodD0xKVxuICAgMTE3XHQgICAgICAgIHNlbGYuY2hhbm5lbF9idXR0b25zX2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDIsIHdlaWdodD0xKVxuICAgMTE4XHRcbiAgIDExOVx0ICAgICAgICAjIEFkZCBzZWxlY3QgYWxsIGFuZCBkZXNlbGVjdCBhbGwgYnV0dG9ucyB3aXRoIHNtYWxsZXIgZm9udCBhbmQgbW9yZSBjb21wYWN0IGRlc2lnblxuICAgMTIwXHQgICAgICAgIGJ1dHRvbl9mb250ID0gZHJvcGRvd25fZm9udFxuICAgMTIxXHRcbiAgIDEyMlx0ICAgICAgICBzZWxmLnNlbGVjdF9hbGxfYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgIDEyM1x0ICAgICAgICAgICAgc2VsZi5jaGFubmVsX2J1dHRvbnNfZnJhbWUsXG4gICAxMjRcdCAgICAgICAgICAgIHRleHQ9XCJTZWxlY3QgQWxsXCIsXG4gICAxMjVcdCAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi5zZWxlY3RfYWxsX2NoYW5uZWxzLFxuICAgMTI2XHQgICAgICAgICAgICBoZWlnaHQ9MjIsXG4gICAxMjdcdCAgICAgICAgICAgIGZvbnQ9YnV0dG9uX2ZvbnRcbiAgIDEyOFx0ICAgICAgICApXG4gICAxMjlcdCAgICAgICAgc2VsZi5zZWxlY3RfYWxsX2J1dHRvbi5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD0yLCBwYWR5PTMsIHN0aWNreT1cImV3XCIpXG4gICAxMzBcdFxuICAgMTMxXHQgICAgICAgIHNlbGYuZGVzZWxlY3RfYWxsX2J1dHRvbiA9IGN0ay5DVGtCdXR0b24oXG4gICAxMzJcdCAgICAgICAgICAgIHNlbGYuY2hhbm5lbF9idXR0b25zX2ZyYW1lLFxuICAgMTMzXHQgICAgICAgICAgICB0ZXh0PVwiRGVzZWxlY3QgQWxsXCIsXG4gICAxMzRcdCAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi5kZXNlbGVjdF9hbGxfY2hhbm5lbHMsXG4gICAxMzVcdCAgICAgICAgICAgIGhlaWdodD0yMixcbiAgIDEzNlx0ICAgICAgICAgICAgZm9udD1idXR0b25fZm9udFxuICAgMTM3XHQgICAgICAgIClcbiAgIDEzOFx0ICAgICAgICBzZWxmLmRlc2VsZWN0X2FsbF9idXR0b24uZ3JpZChyb3c9MCwgY29sdW1uPTEsIHBhZHg9MiwgcGFkeT0zLCBzdGlja3k9XCJld1wiKVxuICAgMTM5XHRcbiAgIDE0MFx0ICAgICAgICAjIEFkZCBzZWxlY3QgY29tbW9uIGNoYW5uZWxzIGJ1dHRvblxuICAgMTQxXHQgICAgICAgIHNlbGYuc2VsZWN0X2NvbW1vbl9idXR0b24gPSBjdGsuQ1RrQnV0dG9uKFxuICAgMTQyXHQgICAgICAgICAgICBzZWxmLmNoYW5uZWxfYnV0dG9uc19mcmFtZSxcbiAgIDE0M1x0ICAgICAgICAgICAgdGV4dD1cIkNvbW1vbiBDaGFubmVsc1wiLFxuICAgMTQ0XHQgICAgICAgICAgICBjb21tYW5kPXNlbGYuc2VsZWN0X2NvbW1vbl9jaGFubmVscyxcbiAgIDE0NVx0ICAgICAgICAgICAgaGVpZ2h0PTIyLFxuICAgMTQ2XHQgICAgICAgICAgICBmb250PWJ1dHRvbl9mb250XG4gICAxNDdcdCAgICAgICAgKVxuICAgMTQ4XHQgICAgICAgIHNlbGYuc2VsZWN0X2NvbW1vbl9idXR0b24uZ3JpZChyb3c9MCwgY29sdW1uPTIsIHBhZHg9MiwgcGFkeT0zLCBzdGlja3k9XCJld1wiKVxuICAgMTQ5XHRcbiAgIDE1MFx0ICAgICAgICAjIENyZWF0ZSBhIHNjcm9sbGFibGUgZnJhbWUgZm9yIGNoYW5uZWwgY2hlY2tib3hlcyAtIGluY3JlYXNlZCBoZWlnaHQgZm9yIGJldHRlciB1c2FiaWxpdHlcbiAgIDE1MVx0ICAgICAgICBzZWxmLmNoYW5uZWxzX2ZyYW1lID0gY3RrLkNUa1Njcm9sbGFibGVGcmFtZShzZWxmLCB3aWR0aD0xODAsIGhlaWdodD0yMDApXG4gICAxNTJcdCAgICAgICAgc2VsZi5jaGFubmVsc19mcmFtZS5ncmlkKHJvdz00LCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PSgwLCA4KSwgc3RpY2t5PVwiZXdcIilcbiAgIDE1M1x0XG4gICAxNTRcdCAgICAgICAgIyBCaW5kIG1vdXNlIHdoZWVsIGV2ZW50cyB0byBlbnN1cmUgc2Nyb2xsaW5nIHdvcmtzIHByb3Blcmx5XG4gICAxNTVcdCAgICAgICAgc2VsZi5iaW5kX21vdXNlX3doZWVsKHNlbGYuY2hhbm5lbHNfZnJhbWUpXG4gICAxNTZcdFxuICAgMTU3XHQgICAgICAgIHNlbGYuY2hhbm5lbF92YXJzID0ge30gICMgV2lsbCBob2xkIHRoZSBjaGVja2JveCB2YXJpYWJsZXNcbiAgIDE1OFx0XG4gICAxNTlcdCAgICAgICAgIyBBZ2dyZWdhdGlvbiBtZXRob2RzIGZyYW1lXG4gICAxNjBcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9mcmFtZSA9IGN0ay5DVGtGcmFtZShzZWxmKVxuICAgMTYxXHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fZnJhbWUuZ3JpZChyb3c9NSwgY29sdW1uPTAsIGNvbHVtbnNwYW49MiwgcGFkeD01LCBwYWR5PSg1LCAwKSwgc3RpY2t5PVwiZXdcIilcbiAgIDE2Mlx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKVxuICAgMTYzXHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fZnJhbWUuZ3JpZF9jb2x1bW5jb25maWd1cmUoMSwgd2VpZ2h0PTMpXG4gICAxNjRcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9mcmFtZS5ncmlkX3Jvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgIDE2NVx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2ZyYW1lLmdyaWRfcm93Y29uZmlndXJlKDEsIHdlaWdodD0xKVxuICAgMTY2XHRcbiAgIDE2N1x0ICAgICAgICAjIEFnZ3JlZ2F0aW9uIGxhYmVsXG4gICAxNjhcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9sYWJlbCA9IGN0ay5DVGtMYWJlbChcbiAgIDE2OVx0ICAgICAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9mcmFtZSxcbiAgIDE3MFx0ICAgICAgICAgICAgdGV4dD1cIkFnZ3JlZ2F0aW9uOlwiLFxuICAgMTcxXHQgICAgICAgICAgICBmb250PWxhYmVsX2ZvbnRcbiAgIDE3Mlx0ICAgICAgICApXG4gICAxNzNcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9sYWJlbC5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTUsIHN0aWNreT1cIndcIilcbiAgIDE3NFx0XG4gICAxNzVcdCAgICAgICAgIyBBZ2dyZWdhdGlvbiBjaGVja2JveGVzIGZyYW1lXG4gICAxNzZcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9jaGVja2JveGVzX2ZyYW1lID0gY3RrLkNUa0ZyYW1lKHNlbGYuYWdncmVnYXRpb25fZnJhbWUsIGZnX2NvbG9yPVwidHJhbnNwYXJlbnRcIilcbiAgIDE3N1x0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2NoZWNrYm94ZXNfZnJhbWUuZ3JpZChyb3c9MCwgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT01LCBzdGlja3k9XCJld1wiKVxuICAgMTc4XHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fY2hlY2tib3hlc19mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgIDE3OVx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2NoZWNrYm94ZXNfZnJhbWUuZ3JpZF9jb2x1bW5jb25maWd1cmUoMSwgd2VpZ2h0PTEpXG4gICAxODBcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl9jaGVja2JveGVzX2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDIsIHdlaWdodD0xKVxuICAgMTgxXHRcbiAgIDE4Mlx0ICAgICAgICAjIEFnZ3JlZ2F0aW9uIG1ldGhvZCBjaGVja2JveGVzXG4gICAxODNcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl92YXJzID0ge31cbiAgIDE4NFx0XG4gICAxODVcdCAgICAgICAgIyBNZWFuIGNoZWNrYm94XG4gICAxODZcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl92YXJzWydtZWFuJ10gPSBjdGsuQm9vbGVhblZhcih2YWx1ZT1GYWxzZSlcbiAgIDE4N1x0ICAgICAgICBzZWxmLm1lYW5fY2hlY2tib3ggPSBjdGsuQ1RrQ2hlY2tCb3goXG4gICAxODhcdCAgICAgICAgICAgIHNlbGYuYWdncmVnYXRpb25fY2hlY2tib3hlc19mcmFtZSxcbiAgIDE4OVx0ICAgICAgICAgICAgdGV4dD1cIk1lYW5cIixcbiAgIDE5MFx0ICAgICAgICAgICAgdmFyaWFibGU9c2VsZi5hZ2dyZWdhdGlvbl92YXJzWydtZWFuJ10sXG4gICAxOTFcdCAgICAgICAgICAgIG9udmFsdWU9VHJ1ZSxcbiAgIDE5Mlx0ICAgICAgICAgICAgb2ZmdmFsdWU9RmFsc2UsXG4gICAxOTNcdCAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udCxcbiAgIDE5NFx0ICAgICAgICAgICAgY2hlY2tib3hfd2lkdGg9MTYsXG4gICAxOTVcdCAgICAgICAgICAgIGNoZWNrYm94X2hlaWdodD0xNlxuICAgMTk2XHQgICAgICAgIClcbiAgIDE5N1x0ICAgICAgICBzZWxmLm1lYW5fY2hlY2tib3guZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0yLCBzdGlja3k9XCJ3XCIpXG4gICAxOThcdFxuICAgMTk5XHQgICAgICAgICMgU3RkIGNoZWNrYm94XG4gICAyMDBcdCAgICAgICAgc2VsZi5hZ2dyZWdhdGlvbl92YXJzWydzdGQnXSA9IGN0ay5Cb29sZWFuVmFyKHZhbHVlPUZhbHNlKVxuICAgMjAxXHQgICAgICAgIHNlbGYuc3RkX2NoZWNrYm94ID0gY3RrLkNUa0NoZWNrQm94KFxuICAgMjAyXHQgICAgICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX2NoZWNrYm94ZXNfZnJhbWUsXG4gICAyMDNcdCAgICAgICAgICAgIHRleHQ9XCJTdGQgRGV2XCIsXG4gICAyMDRcdCAgICAgICAgICAgIHZhcmlhYmxlPXNlbGYuYWdncmVnYXRpb25fdmFyc1snc3RkJ10sXG4gICAyMDVcdCAgICAgICAgICAgIG9udmFsdWU9VHJ1ZSxcbiAgIDIwNlx0ICAgICAgICAgICAgb2ZmdmFsdWU9RmFsc2UsXG4gICAyMDdcdCAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udCxcbiAgIDIwOFx0ICAgICAgICAgICAgY2hlY2tib3hfd2lkdGg9MTYsXG4gICAyMDlcdCAgICAgICAgICAgIGNoZWNrYm94X2hlaWdodD0xNlxuICAgMjEwXHQgICAgICAgIClcbiAgIDIxMVx0ICAgICAgICBzZWxmLnN0ZF9jaGVja2JveC5ncmlkKHJvdz0wLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PTIsIHN0aWNreT1cIndcIilcbiAgIDIxMlx0XG4gICAyMTNcdCAgICAgICAgIyBNZWRpYW4gY2hlY2tib3hcbiAgIDIxNFx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX3ZhcnNbJ21lZGlhbiddID0gY3RrLkJvb2xlYW5WYXIodmFsdWU9RmFsc2UpXG4gICAyMTVcdCAgICAgICAgc2VsZi5tZWRpYW5fY2hlY2tib3ggPSBjdGsuQ1RrQ2hlY2tCb3goXG4gICAyMTZcdCAgICAgICAgICAgIHNlbGYuYWdncmVnYXRpb25fY2hlY2tib3hlc19mcmFtZSxcbiAgIDIxN1x0ICAgICAgICAgICAgdGV4dD1cIk1lZGlhblwiLFxuICAgMjE4XHQgICAgICAgICAgICB2YXJpYWJsZT1zZWxmLmFnZ3JlZ2F0aW9uX3ZhcnNbJ21lZGlhbiddLFxuICAgMjE5XHQgICAgICAgICAgICBvbnZhbHVlPVRydWUsXG4gICAyMjBcdCAgICAgICAgICAgIG9mZnZhbHVlPUZhbHNlLFxuICAgMjIxXHQgICAgICAgICAgICBmb250PWRyb3Bkb3duX2ZvbnQsXG4gICAyMjJcdCAgICAgICAgICAgIGNoZWNrYm94X3dpZHRoPTE2LFxuICAgMjIzXHQgICAgICAgICAgICBjaGVja2JveF9oZWlnaHQ9MTZcbiAgIDIyNFx0ICAgICAgICApXG4gICAyMjVcdCAgICAgICAgc2VsZi5tZWRpYW5fY2hlY2tib3guZ3JpZChyb3c9MCwgY29sdW1uPTIsIHBhZHg9NSwgcGFkeT0yLCBzdGlja3k9XCJ3XCIpXG4gICAyMjZcdFxuICAgMjI3XHQgICAgICAgICMgQWdncmVnYXRpb24gb25seSBjaGVja2JveFxuICAgMjI4XHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fb25seV92YXIgPSBjdGsuQm9vbGVhblZhcih2YWx1ZT1GYWxzZSlcbiAgIDIyOVx0ICAgICAgICBzZWxmLmFnZ3JlZ2F0aW9uX29ubHlfY2hlY2tib3ggPSBjdGsuQ1RrQ2hlY2tCb3goXG4gICAyMzBcdCAgICAgICAgICAgIHNlbGYuYWdncmVnYXRpb25fZnJhbWUsXG4gICAyMzFcdCAgICAgICAgICAgIHRleHQ9XCJTaG93IEFnZ3JlZ2F0aW9uIE9ubHlcIixcbiAgIDIzMlx0ICAgICAgICAgICAgdmFyaWFibGU9c2VsZi5hZ2dyZWdhdGlvbl9vbmx5X3ZhcixcbiAgIDIzM1x0ICAgICAgICAgICAgb252YWx1ZT1UcnVlLFxuICAgMjM0XHQgICAgICAgICAgICBvZmZ2YWx1ZT1GYWxzZSxcbiAgIDIzNVx0ICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250LFxuICAgMjM2XHQgICAgICAgICAgICBjaGVja2JveF93aWR0aD0xNixcbiAgIDIzN1x0ICAgICAgICAgICAgY2hlY2tib3hfaGVpZ2h0PTE2XG4gICAyMzhcdCAgICAgICAgKVxuICAgMjM5XHQgICAgICAgIHNlbGYuYWdncmVnYXRpb25fb25seV9jaGVja2JveC5ncmlkKHJvdz0xLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PSgwLCAyKSwgc3RpY2t5PVwid1wiKVxuICAgMjQwXHRcbiAgIDI0MVx0ICAgICAgICAjIFRpbWUgd2luZG93IHNlbGVjdGlvbiBmcmFtZVxuICAgMjQyXHQgICAgICAgIHNlbGYudGltZV93aW5kb3dfZnJhbWUgPSBjdGsuQ1RrRnJhbWUoc2VsZilcbiAgIDI0M1x0ICAgICAgICBzZWxmLnRpbWVfd2luZG93X2ZyYW1lLmdyaWQocm93PTYsIGNvbHVtbj0wLCBjb2x1bW5zcGFuPTIsIHBhZHg9NSwgcGFkeT0oNSwgMCksIHN0aWNreT1cImV3XCIpXG4gICAyNDRcdCAgICAgICAgc2VsZi50aW1lX3dpbmRvd19mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgIDI0NVx0ICAgICAgICBzZWxmLnRpbWVfd2luZG93X2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDEsIHdlaWdodD0xKVxuICAgMjQ2XHQgICAgICAgIHNlbGYudGltZV93aW5kb3dfZnJhbWUuZ3JpZF9jb2x1bW5jb25maWd1cmUoMiwgd2VpZ2h0PTEpXG4gICAyNDdcdCAgICAgICAgc2VsZi50aW1lX3dpbmRvd19mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgzLCB3ZWlnaHQ9MSlcbiAgIDI0OFx0XG4gICAyNDlcdCAgICAgICAgIyBUaW1lIHdpbmRvdyBsYWJlbFxuICAgMjUwXHQgICAgICAgIHNlbGYudGltZV93aW5kb3dfbGFiZWwgPSBjdGsuQ1RrTGFiZWwoXG4gICAyNTFcdCAgICAgICAgICAgIHNlbGYudGltZV93aW5kb3dfZnJhbWUsXG4gICAyNTJcdCAgICAgICAgICAgIHRleHQ9XCJUaW1lIFdpbmRvdyAocyk6XCIsXG4gICAyNTNcdCAgICAgICAgICAgIGZvbnQ9bGFiZWxfZm9udFxuICAgMjU0XHQgICAgICAgIClcbiAgIDI1NVx0ICAgICAgICBzZWxmLnRpbWVfd2luZG93X2xhYmVsLmdyaWQocm93PTAsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9NSwgc3RpY2t5PVwid1wiKVxuICAgMjU2XHRcbiAgIDI1N1x0ICAgICAgICAjIFN0YXJ0IHRpbWUgZW50cnlcbiAgIDI1OFx0ICAgICAgICBzZWxmLnN0YXJ0X3RpbWVfdmFyID0gY3RrLlN0cmluZ1Zhcih2YWx1ZT1cIjBcIilcbiAgIDI1OVx0ICAgICAgICBzZWxmLnN0YXJ0X3RpbWVfZW50cnkgPSBjdGsuQ1RrRW50cnkoXG4gICAyNjBcdCAgICAgICAgICAgIHNlbGYudGltZV93aW5kb3dfZnJhbWUsXG4gICAyNjFcdCAgICAgICAgICAgIHRleHR2YXJpYWJsZT1zZWxmLnN0YXJ0X3RpbWVfdmFyLFxuICAgMjYyXHQgICAgICAgICAgICB3aWR0aD02MCxcbiAgIDI2M1x0ICAgICAgICAgICAgaGVpZ2h0PTI1LFxuICAgMjY0XHQgICAgICAgICAgICBmb250PWRyb3Bkb3duX2ZvbnRcbiAgIDI2NVx0ICAgICAgICApXG4gICAyNjZcdCAgICAgICAgc2VsZi5zdGFydF90aW1lX2VudHJ5LmdyaWQocm93PTAsIGNvbHVtbj0xLCBwYWR4PTUsIHBhZHk9NSwgc3RpY2t5PVwiZXdcIilcbiAgIDI2N1x0XG4gICAyNjhcdCAgICAgICAgIyBUbyBsYWJlbFxuICAgMjY5XHQgICAgICAgIHNlbGYudG9fbGFiZWwgPSBjdGsuQ1RrTGFiZWwoXG4gICAyNzBcdCAgICAgICAgICAgIHNlbGYudGltZV93aW5kb3dfZnJhbWUsXG4gICAyNzFcdCAgICAgICAgICAgIHRleHQ9XCJ0b1wiLFxuICAgMjcyXHQgICAgICAgICAgICBmb250PWxhYmVsX2ZvbnRcbiAgIDI3M1x0ICAgICAgICApXG4gICAyNzRcdCAgICAgICAgc2VsZi50b19sYWJlbC5ncmlkKHJvdz0wLCBjb2x1bW49MiwgcGFkeD0yLCBwYWR5PTUpXG4gICAyNzVcdFxuICAgMjc2XHQgICAgICAgICMgRW5kIHRpbWUgZW50cnlcbiAgIDI3N1x0ICAgICAgICBzZWxmLmVuZF90aW1lX3ZhciA9IGN0ay5TdHJpbmdWYXIodmFsdWU9XCJcIilcbiAgIDI3OFx0ICAgICAgICBzZWxmLmVuZF90aW1lX2VudHJ5ID0gY3RrLkNUa0VudHJ5KFxuICAgMjc5XHQgICAgICAgICAgICBzZWxmLnRpbWVfd2luZG93X2ZyYW1lLFxuICAgMjgwXHQgICAgICAgICAgICB0ZXh0dmFyaWFibGU9c2VsZi5lbmRfdGltZV92YXIsXG4gICAyODFcdCAgICAgICAgICAgIHdpZHRoPTYwLFxuICAgMjgyXHQgICAgICAgICAgICBoZWlnaHQ9MjUsXG4gICAyODNcdCAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udFxuICAgMjg0XHQgICAgICAgIClcbiAgIDI4NVx0ICAgICAgICBzZWxmLmVuZF90aW1lX2VudHJ5LmdyaWQocm93PTAsIGNvbHVtbj0zLCBwYWR4PTUsIHBhZHk9NSwgc3RpY2t5PVwiZXdcIilcbiAgIDI4Nlx0XG4gICAyODdcdCAgICAgICAgIyBSZXNldCB6b29tIGJ1dHRvblxuICAgMjg4XHQgICAgICAgIHNlbGYucmVzZXRfem9vbV9idXR0b24gPSBjdGsuQ1RrQnV0dG9uKFxuICAgMjg5XHQgICAgICAgICAgICBzZWxmLFxuICAgMjkwXHQgICAgICAgICAgICB0ZXh0PVwiUmVzZXQgWm9vbVwiLFxuICAgMjkxXHQgICAgICAgICAgICBjb21tYW5kPXNlbGYucmVzZXRfdGltZV93aW5kb3csXG4gICAyOTJcdCAgICAgICAgICAgIGhlaWdodD0yNSxcbiAgIDI5M1x0ICAgICAgICAgICAgZm9udD1kcm9wZG93bl9mb250XG4gICAyOTRcdCAgICAgICAgKVxuICAgMjk1XHQgICAgICAgIHNlbGYucmVzZXRfem9vbV9idXR0b24uZ3JpZChyb3c9NywgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0oNSwgMCksIHN0aWNreT1cImV3XCIpXG4gICAyOTZcdFxuICAgMjk3XHQgICAgICAgICMgVXBkYXRlIGJ1dHRvbiAtIG1vcmUgY29tcGFjdFxuICAgMjk4XHQgICAgICAgIHNlbGYudXBkYXRlX2J1dHRvbiA9IGN0ay5DVGtCdXR0b24oXG4gICAyOTlcdCAgICAgICAgICAgIHNlbGYsXG4gICAzMDBcdCAgICAgICAgICAgIHRleHQ9XCJVcGRhdGUgUGxvdFwiLFxuICAgMzAxXHQgICAgICAgICAgICBjb21tYW5kPXNlbGYudXBkYXRlX3Bsb3QsXG4gICAzMDJcdCAgICAgICAgICAgIGhlaWdodD0zMCxcbiAgIDMwM1x0ICAgICAgICAgICAgZm9udD1nZXRfYnV0dG9uX2ZvbnQoKVxuICAgMzA0XHQgICAgICAgIClcbiAgIDMwNVx0ICAgICAgICBzZWxmLnVwZGF0ZV9idXR0b24uZ3JpZChyb3c9NywgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT0oNSwgMCksIHN0aWNreT1cImV3XCIpXG4gICAzMDZcdFxuICAgMzA3XHQgICAgICAgICMgVmlldyBFRUcgYnV0dG9uXG4gICAzMDhcdCAgICAgICAgc2VsZi52aWV3X2VlZ19idXR0b24gPSBjdGsuQ1RrQnV0dG9uKFxuICAgMzA5XHQgICAgICAgICAgICBzZWxmLFxuICAgMzEwXHQgICAgICAgICAgICB0ZXh0PVwiVmlldyBFRUdcIixcbiAgIDMxMVx0ICAgICAgICAgICAgY29tbWFuZD1zZWxmLnZpZXdfZWVnLFxuICAgMzEyXHQgICAgICAgICAgICBoZWlnaHQ9MzAsXG4gICAzMTNcdCAgICAgICAgICAgIGZvbnQ9Z2V0X2J1dHRvbl9mb250KCksXG4gICAzMTRcdCAgICAgICAgICAgIGZnX2NvbG9yPVwiIzJhNjA5OVwiICAjIERpZmZlcmVudCBjb2xvciB0byBkaXN0aW5ndWlzaCBpdFxuICAgMzE1XHQgICAgICAgIClcbiAgIDMxNlx0ICAgICAgICBzZWxmLnZpZXdfZWVnX2J1dHRvbi5ncmlkKHJvdz04LCBjb2x1bW49MCwgY29sdW1uc3Bhbj0yLCBwYWR4PTUsIHBhZHk9KDUsIDgpLCBzdGlja3k9XCJld1wiKVxuICAgMzE3XHRcbiAgIDMxOFx0ICAgICAgICAjIEluaXRpYWxpemUgd2l0aCB0aGUgZmlyc3QgZXhwZXJpbWVudCBpZiBhdmFpbGFibGVcbiAgIDMxOVx0ICAgICAgICBpZiBzZWxmLmV4cGVyaW1lbnRzOlxuICAgMzIwXHQgICAgICAgICAgICBzZWxmLm9uX2V4cGVyaW1lbnRfc2VsZWN0ZWQoZXhwZXJpbWVudF9uYW1lc1swXSlcbiAgIDMyMVx0XG4gICAzMjJcdCAgICBkZWYgb25fZXhwZXJpbWVudF9zZWxlY3RlZChzZWxmLCBzZWxlY3Rpb246IHN0cik6XG4gICAzMjNcdCAgICAgICAgXCJcIlwiXG4gICAzMjRcdCAgICAgICAgSGFuZGxlIGV4cGVyaW1lbnQgc2VsZWN0aW9uIGNoYW5nZS5cbiAgIDMyNVx0XG4gICAzMjZcdCAgICAgICAgQXJnczpcbiAgIDMyN1x0ICAgICAgICAgICAgc2VsZWN0aW9uOiBTZWxlY3RlZCBleHBlcmltZW50IG5hbWVcbiAgIDMyOFx0ICAgICAgICBcIlwiXCJcbiAgIDMyOVx0ICAgICAgICAjIEZpbmQgdGhlIHNlbGVjdGVkIGV4cGVyaW1lbnRcbiAgIDMzMFx0ICAgICAgICBzZWxlY3RlZF9leHAgPSBOb25lXG4gICAzMzFcdCAgICAgICAgZm9yIGV4cCBpbiBzZWxmLmV4cGVyaW1lbnRzOlxuICAgMzMyXHQgICAgICAgICAgICBpZiBmXCJ7ZXhwWyduYW1lJ119ICh7ZXhwWydydW5fbmFtZSddfSlcIiA9PSBzZWxlY3Rpb246XG4gICAzMzNcdCAgICAgICAgICAgICAgICBzZWxlY3RlZF9leHAgPSBleHBcbiAgIDMzNFx0ICAgICAgICAgICAgICAgIGJyZWFrXG4gICAzMzVcdFxuICAgMzM2XHQgICAgICAgIGlmIG5vdCBzZWxlY3RlZF9leHA6XG4gICAzMzdcdCAgICAgICAgICAgIHJldHVyblxuICAgMzM4XHRcbiAgIDMzOVx0ICAgICAgICAjIFVwZGF0ZSBFRUcgZHJvcGRvd25cbiAgIDM0MFx0ICAgICAgICBzZWxmLmN1cnJlbnRfZXhwZXJpbWVudF9pZCA9IHNlbGVjdGVkX2V4cFsnaWQnXVxuICAgMzQxXHQgICAgICAgIGVlZ3MgPSBzZWxmLmRiX2hhbmRsZXIuZ2V0X2VlZ3NfZm9yX2V4cGVyaW1lbnQoc2VsZi5jdXJyZW50X2V4cGVyaW1lbnRfaWQpXG4gICAzNDJcdCAgICAgICAgZWVnX25hbWVzID0gW2VlZ1snZmlsZW5hbWUnXSBmb3IgZWVnIGluIGVlZ3NdXG4gICAzNDNcdFxuICAgMzQ0XHQgICAgICAgIHNlbGYuZWVncyA9IGVlZ3NcbiAgIDM0NVx0ICAgICAgICBzZWxmLmVlZ19kcm9wZG93bi5jb25maWd1cmUodmFsdWVzPWVlZ19uYW1lcylcbiAgIDM0Nlx0ICAgICAgICBpZiBlZWdfbmFtZXM6XG4gICAzNDdcdCAgICAgICAgICAgIHNlbGYuZWVnX3Zhci5zZXQoZWVnX25hbWVzWzBdKVxuICAgMzQ4XHQgICAgICAgICAgICBzZWxmLm9uX2VlZ19zZWxlY3RlZChlZWdfbmFtZXNbMF0pXG4gICAzNDlcdCAgICAgICAgZWxzZTpcbiAgIDM1MFx0ICAgICAgICAgICAgc2VsZi5lZWdfdmFyLnNldChcIlwiKVxuICAgMzUxXHQgICAgICAgICAgICBzZWxmLmNsZWFyX21ldHJpY3MoKVxuICAgMzUyXHQgICAgICAgICAgICBzZWxmLmNsZWFyX2NoYW5uZWxzKClcbiAgIDM1M1x0XG4gICAzNTRcdCAgICBkZWYgb25fZWVnX3NlbGVjdGVkKHNlbGYsIHNlbGVjdGlvbjogc3RyKTpcbiAgIDM1NVx0ICAgICAgICBcIlwiXCJcbiAgIDM1Nlx0ICAgICAgICBIYW5kbGUgRUVHIHNlbGVjdGlvbiBjaGFuZ2UuXG4gICAzNTdcdFxuICAgMzU4XHQgICAgICAgIEFyZ3M6XG4gICAzNTlcdCAgICAgICAgICAgIHNlbGVjdGlvbjogU2VsZWN0ZWQgRUVHIG5hbWVcbiAgIDM2MFx0ICAgICAgICBcIlwiXCJcbiAgIDM2MVx0ICAgICAgICAjIEZpbmQgdGhlIHNlbGVjdGVkIEVFR1xuICAgMzYyXHQgICAgICAgIHNlbGVjdGVkX2VlZyA9IE5vbmVcbiAgIDM2M1x0ICAgICAgICBmb3IgZWVnIGluIHNlbGYuZWVnczpcbiAgIDM2NFx0ICAgICAgICAgICAgaWYgZWVnWydmaWxlbmFtZSddID09IHNlbGVjdGlvbjpcbiAgIDM2NVx0ICAgICAgICAgICAgICAgIHNlbGVjdGVkX2VlZyA9IGVlZ1xuICAgMzY2XHQgICAgICAgICAgICAgICAgYnJlYWtcbiAgIDM2N1x0XG4gICAzNjhcdCAgICAgICAgaWYgbm90IHNlbGVjdGVkX2VlZzpcbiAgIDM2OVx0ICAgICAgICAgICAgcmV0dXJuXG4gICAzNzBcdFxuICAgMzcxXHQgICAgICAgICMgVXBkYXRlIG1ldHJpY3MgZHJvcGRvd25cbiAgIDM3Mlx0ICAgICAgICBzZWxmLmN1cnJlbnRfZWVnX2lkID0gc2VsZWN0ZWRfZWVnWydpZCddXG4gICAzNzNcdCAgICAgICAgc2VsZi51cGRhdGVfbWV0cmljc19kcm9wZG93bigpXG4gICAzNzRcdCAgICAgICAgc2VsZi51cGRhdGVfY2hhbm5lbHNfY2hlY2tib3hlcygpXG4gICAzNzVcdFxuICAgMzc2XHQgICAgZGVmIG9uX21ldHJpY19zZWxlY3RlZChzZWxmLCBzZWxlY3Rpb246IHN0cik6XG4gICAzNzdcdCAgICAgICAgXCJcIlwiXG4gICAzNzhcdCAgICAgICAgSGFuZGxlIG1ldHJpYyBzZWxlY3Rpb24gY2hhbmdlLlxuICAgMzc5XHRcbiAgIDM4MFx0ICAgICAgICBBcmdzOlxuICAgMzgxXHQgICAgICAgICAgICBzZWxlY3Rpb246IFNlbGVjdGVkIG1ldHJpYyBuYW1lXG4gICAzODJcdCAgICAgICAgXCJcIlwiXG4gICAzODNcdCAgICAgICAgc2VsZi5jdXJyZW50X21ldHJpYyA9IHNlbGVjdGlvblxuICAgMzg0XHRcbiAgIDM4NVx0ICAgIGRlZiB1cGRhdGVfbWV0cmljc19kcm9wZG93bihzZWxmKTpcbiAgIDM4Nlx0ICAgICAgICBcIlwiXCJVcGRhdGUgdGhlIG1ldHJpY3MgZHJvcGRvd24gYmFzZWQgb24gdGhlIHNlbGVjdGVkIGV4cGVyaW1lbnQgYW5kIEVFRy5cIlwiXCJcbiAgIDM4N1x0ICAgICAgICAjIEdldCBhdmFpbGFibGUgbWV0cmljc1xuICAgMzg4XHQgICAgICAgIG1ldHJpY3MgPSBzZWxmLmRiX2hhbmRsZXIuZ2V0X2F2YWlsYWJsZV9tZXRyaWNzKHNlbGYuY3VycmVudF9leHBlcmltZW50X2lkLCBzZWxmLmN1cnJlbnRfZWVnX2lkKVxuICAgMzg5XHRcbiAgIDM5MFx0ICAgICAgICAjIFVwZGF0ZSBkcm9wZG93blxuICAgMzkxXHQgICAgICAgIHNlbGYubWV0cmljX2Ryb3Bkb3duLmNvbmZpZ3VyZSh2YWx1ZXM9bWV0cmljcylcbiAgIDM5Mlx0ICAgICAgICBpZiBtZXRyaWNzOlxuICAgMzkzXHQgICAgICAgICAgICBzZWxmLm1ldHJpY192YXIuc2V0KG1ldHJpY3NbMF0pXG4gICAzOTRcdCAgICAgICAgICAgIHNlbGYuY3VycmVudF9tZXRyaWMgPSBtZXRyaWNzWzBdXG4gICAzOTVcdCAgICAgICAgZWxzZTpcbiAgIDM5Nlx0ICAgICAgICAgICAgc2VsZi5tZXRyaWNfdmFyLnNldChcIlwiKVxuICAgMzk3XHQgICAgICAgICAgICBzZWxmLmN1cnJlbnRfbWV0cmljID0gTm9uZVxuICAgMzk4XHRcbiAgIDM5OVx0ICAgIGRlZiB1cGRhdGVfY2hhbm5lbHNfY2hlY2tib3hlcyhzZWxmKTpcbiAgIDQwMFx0ICAgICAgICBcIlwiXCJVcGRhdGUgdGhlIGNoYW5uZWwgY2hlY2tib3hlcyBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgZXhwZXJpbWVudCBhbmQgRUVHLlwiXCJcIlxuICAgNDAxXHQgICAgICAgICMgQ2xlYXIgZXhpc3RpbmcgY2hlY2tib3hlc1xuICAgNDAyXHQgICAgICAgIHNlbGYuY2xlYXJfY2hhbm5lbHMoKVxuICAgNDAzXHRcbiAgIDQwNFx0ICAgICAgICAjIEdldCBhdmFpbGFibGUgY2hhbm5lbHNcbiAgIDQwNVx0ICAgICAgICBzZWxmLmF2YWlsYWJsZV9jaGFubmVscyA9IHNlbGYuZGJfaGFuZGxlci5nZXRfYXZhaWxhYmxlX2NoYW5uZWxzKHNlbGYuY3VycmVudF9leHBlcmltZW50X2lkLCBzZWxmLmN1cnJlbnRfZWVnX2lkKVxuICAgNDA2XHRcbiAgIDQwN1x0ICAgICAgICAjIEFkZCBhIHNlYXJjaCBlbnRyeSBhdCB0aGUgdG9wIG9mIHRoZSBjaGFubmVscyBmcmFtZVxuICAgNDA4XHQgICAgICAgIHNlbGYuc2VhcmNoX3ZhciA9IGN0ay5TdHJpbmdWYXIoKVxuICAgNDA5XHQgICAgICAgIHNlbGYuc2VhcmNoX3Zhci50cmFjZV9hZGQoXCJ3cml0ZVwiLCBzZWxmLmZpbHRlcl9jaGFubmVscylcbiAgIDQxMFx0XG4gICA0MTFcdCAgICAgICAgc2VsZi5zZWFyY2hfZnJhbWUgPSBjdGsuQ1RrRnJhbWUoc2VsZi5jaGFubmVsc19mcmFtZSlcbiAgIDQxMlx0ICAgICAgICBzZWxmLnNlYXJjaF9mcmFtZS5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTUsIHN0aWNreT1cImV3XCIpXG4gICA0MTNcdCAgICAgICAgc2VsZi5zZWFyY2hfZnJhbWUuZ3JpZF9jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpXG4gICA0MTRcdFxuICAgNDE1XHQgICAgICAgIHNlbGYuc2VhcmNoX2VudHJ5ID0gY3RrLkNUa0VudHJ5KFxuICAgNDE2XHQgICAgICAgICAgICBzZWxmLnNlYXJjaF9mcmFtZSxcbiAgIDQxN1x0ICAgICAgICAgICAgcGxhY2Vob2xkZXJfdGV4dD1cIlNlYXJjaCBjaGFubmVscy4uLlwiLFxuICAgNDE4XHQgICAgICAgICAgICB0ZXh0dmFyaWFibGU9c2VsZi5zZWFyY2hfdmFyLFxuICAgNDE5XHQgICAgICAgICAgICBoZWlnaHQ9MjUsXG4gICA0MjBcdCAgICAgICAgICAgIGZvbnQ9Z2V0X2Ryb3Bkb3duX2ZvbnQoKVxuICAgNDIxXHQgICAgICAgIClcbiAgIDQyMlx0ICAgICAgICBzZWxmLnNlYXJjaF9lbnRyeS5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTMsIHN0aWNreT1cImV3XCIpXG4gICA0MjNcdFxuICAgNDI0XHQgICAgICAgICMgQ3JlYXRlIHRoZSBjaGFubmVscyBjb250YWluZXIgZnJhbWVcbiAgIDQyNVx0ICAgICAgICBzZWxmLmNoYW5uZWxzX2NvbnRhaW5lciA9IGN0ay5DVGtGcmFtZShzZWxmLmNoYW5uZWxzX2ZyYW1lLCBmZ19jb2xvcj1cInRyYW5zcGFyZW50XCIpXG4gICA0MjZcdCAgICAgICAgc2VsZi5jaGFubmVsc19jb250YWluZXIuZ3JpZChyb3c9MSwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT01LCBzdGlja3k9XCJld1wiKVxuICAgNDI3XHRcbiAgIDQyOFx0ICAgICAgICAjIERpc3BsYXkgYWxsIGNoYW5uZWxzIGluaXRpYWxseVxuICAgNDI5XHQgICAgICAgIHNlbGYuZGlzcGxheV9jaGFubmVscyhzZWxmLmF2YWlsYWJsZV9jaGFubmVscylcbiAgIDQzMFx0XG4gICA0MzFcdCAgICBkZWYgZGlzcGxheV9jaGFubmVscyhzZWxmLCBjaGFubmVsczogTGlzdFtzdHJdKTpcbiAgIDQzMlx0ICAgICAgICBcIlwiXCJcbiAgIDQzM1x0ICAgICAgICBEaXNwbGF5IHRoZSBnaXZlbiBjaGFubmVscyBhcyBjaGVja2JveGVzLlxuICAgNDM0XHRcbiAgIDQzNVx0ICAgICAgICBBcmdzOlxuICAgNDM2XHQgICAgICAgICAgICBjaGFubmVsczogTGlzdCBvZiBjaGFubmVsIG5hbWVzIHRvIGRpc3BsYXlcbiAgIDQzN1x0ICAgICAgICBcIlwiXCJcbiAgIDQzOFx0ICAgICAgICAjIENsZWFyIGV4aXN0aW5nIGNoZWNrYm94ZXMgaW4gdGhlIGNvbnRhaW5lclxuICAgNDM5XHQgICAgICAgIGZvciB3aWRnZXQgaW4gc2VsZi5jaGFubmVsc19jb250YWluZXIud2luZm9fY2hpbGRyZW4oKTpcbiAgIDQ0MFx0ICAgICAgICAgICAgd2lkZ2V0LmRlc3Ryb3koKVxuICAgNDQxXHRcbiAgIDQ0Mlx0ICAgICAgICAjIENvbmZpZ3VyZSB0aGUgY29udGFpbmVyIGZvciBwcm9wZXIgc2Nyb2xsaW5nXG4gICA0NDNcdCAgICAgICAgc2VsZi5jaGFubmVsc19jb250YWluZXIuZ3JpZF9jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpXG4gICA0NDRcdFxuICAgNDQ1XHQgICAgICAgICMgU29ydCBjaGFubmVscyBhbHBoYWJldGljYWxseSB0byBlbnN1cmUgY29uc2lzdGVudCBkaXNwbGF5XG4gICA0NDZcdCAgICAgICAgc29ydGVkX2NoYW5uZWxzID0gc29ydGVkKGNoYW5uZWxzKVxuICAgNDQ3XHRcbiAgIDQ0OFx0ICAgICAgICAjIENyZWF0ZSBhIGNoZWNrYm94IGZvciBlYWNoIGNoYW5uZWxcbiAgIDQ0OVx0ICAgICAgICBmb3IgaSwgY2hhbm5lbCBpbiBlbnVtZXJhdGUoc29ydGVkX2NoYW5uZWxzKTpcbiAgIDQ1MFx0ICAgICAgICAgICAgdmFyID0gc2VsZi5jaGFubmVsX3ZhcnMuZ2V0KGNoYW5uZWwsIGN0ay5Cb29sZWFuVmFyKHZhbHVlPUZhbHNlKSlcbiAgIDQ1MVx0ICAgICAgICAgICAgc2VsZi5jaGFubmVsX3ZhcnNbY2hhbm5lbF0gPSB2YXJcbiAgIDQ1Mlx0XG4gICA0NTNcdCAgICAgICAgICAgICMgQ3JlYXRlIG1vcmUgY29tcGFjdCBjaGVja2JveGVzXG4gICA0NTRcdCAgICAgICAgICAgIGNoZWNrYm94ID0gY3RrLkNUa0NoZWNrQm94KFxuICAgNDU1XHQgICAgICAgICAgICAgICAgc2VsZi5jaGFubmVsc19jb250YWluZXIsXG4gICA0NTZcdCAgICAgICAgICAgICAgICB0ZXh0PWNoYW5uZWwsXG4gICA0NTdcdCAgICAgICAgICAgICAgICB2YXJpYWJsZT12YXIsXG4gICA0NThcdCAgICAgICAgICAgICAgICBvbnZhbHVlPVRydWUsXG4gICA0NTlcdCAgICAgICAgICAgICAgICBvZmZ2YWx1ZT1GYWxzZSxcbiAgIDQ2MFx0ICAgICAgICAgICAgICAgIGhlaWdodD0yMCxcbiAgIDQ2MVx0ICAgICAgICAgICAgICAgIGZvbnQ9Z2V0X2Ryb3Bkb3duX2ZvbnQoKSxcbiAgIDQ2Mlx0ICAgICAgICAgICAgICAgIGNoZWNrYm94X3dpZHRoPTE2LFxuICAgNDYzXHQgICAgICAgICAgICAgICAgY2hlY2tib3hfaGVpZ2h0PTE2XG4gICA0NjRcdCAgICAgICAgICAgIClcbiAgIDQ2NVx0ICAgICAgICAgICAgY2hlY2tib3guZ3JpZChyb3c9aSwgY29sdW1uPTAsIHBhZHg9OCwgcGFkeT0zLCBzdGlja3k9XCJ3XCIpXG4gICA0NjZcdFxuICAgNDY3XHQgICAgICAgICAgICAjIEJpbmQgbW91c2Ugd2hlZWwgZXZlbnQgdG8gZWFjaCBjaGVja2JveCBmb3IgYmV0dGVyIHNjcm9sbGluZ1xuICAgNDY4XHQgICAgICAgICAgICBjaGVja2JveC5iaW5kKFwiPE1vdXNlV2hlZWw+XCIsIGxhbWJkYSBldmVudCwgdz1zZWxmLmNoYW5uZWxzX2ZyYW1lOiBzZWxmLl9vbl9tb3VzZV93aGVlbChldmVudCwgdykpXG4gICA0NjlcdCAgICAgICAgICAgIGNoZWNrYm94LmJpbmQoXCI8QnV0dG9uLTQ+XCIsIGxhbWJkYSBldmVudCwgdz1zZWxmLmNoYW5uZWxzX2ZyYW1lOiBzZWxmLl9vbl9tb3VzZV93aGVlbChldmVudCwgdykpXG4gICA0NzBcdCAgICAgICAgICAgIGNoZWNrYm94LmJpbmQoXCI8QnV0dG9uLTU+XCIsIGxhbWJkYSBldmVudCwgdz1zZWxmLmNoYW5uZWxzX2ZyYW1lOiBzZWxmLl9vbl9tb3VzZV93aGVlbChldmVudCwgdykpXG4gICA0NzFcdFxuICAgNDcyXHQgICAgZGVmIGZpbHRlcl9jaGFubmVscyhzZWxmLCAqYXJncyk6XG4gICA0NzNcdCAgICAgICAgXCJcIlwiRmlsdGVyIGNoYW5uZWxzIGJhc2VkIG9uIHNlYXJjaCB0ZXh0LlwiXCJcIlxuICAgNDc0XHQgICAgICAgIHNlYXJjaF90ZXh0ID0gc2VsZi5zZWFyY2hfdmFyLmdldCgpLmxvd2VyKClcbiAgIDQ3NVx0XG4gICA0NzZcdCAgICAgICAgaWYgbm90IHNlYXJjaF90ZXh0OlxuICAgNDc3XHQgICAgICAgICAgICAjIElmIHNlYXJjaCBpcyBlbXB0eSwgc2hvdyBhbGwgY2hhbm5lbHNcbiAgIDQ3OFx0ICAgICAgICAgICAgZmlsdGVyZWRfY2hhbm5lbHMgPSBzZWxmLmF2YWlsYWJsZV9jaGFubmVsc1xuICAgNDc5XHQgICAgICAgIGVsc2U6XG4gICA0ODBcdCAgICAgICAgICAgICMgRmlsdGVyIGNoYW5uZWxzIHRoYXQgY29udGFpbiB0aGUgc2VhcmNoIHRleHRcbiAgIDQ4MVx0ICAgICAgICAgICAgZmlsdGVyZWRfY2hhbm5lbHMgPSBbY2ggZm9yIGNoIGluIHNlbGYuYXZhaWxhYmxlX2NoYW5uZWxzIGlmIHNlYXJjaF90ZXh0IGluIGNoLmxvd2VyKCldXG4gICA0ODJcdFxuICAgNDgzXHQgICAgICAgICAgICAjIFNvcnQgdGhlIGZpbHRlcmVkIGNoYW5uZWxzIGFscGhhYmV0aWNhbGx5XG4gICA0ODRcdCAgICAgICAgICAgIGZpbHRlcmVkX2NoYW5uZWxzLnNvcnQoKVxuICAgNDg1XHRcbiAgIDQ4Nlx0ICAgICAgICAjIFVwZGF0ZSB0aGUgZGlzcGxheWVkIGNoYW5uZWxzXG4gICA0ODdcdCAgICAgICAgc2VsZi5kaXNwbGF5X2NoYW5uZWxzKGZpbHRlcmVkX2NoYW5uZWxzKVxuICAgNDg4XHRcbiAgIDQ4OVx0ICAgIGRlZiBiaW5kX21vdXNlX3doZWVsKHNlbGYsIHdpZGdldCk6XG4gICA0OTBcdCAgICAgICAgXCJcIlwiXG4gICA0OTFcdCAgICAgICAgQmluZCBtb3VzZSB3aGVlbCBldmVudHMgdG8gdGhlIHdpZGdldCBmb3Igc2Nyb2xsaW5nLlxuICAgNDkyXHRcbiAgIDQ5M1x0ICAgICAgICBBcmdzOlxuICAgNDk0XHQgICAgICAgICAgICB3aWRnZXQ6IFRoZSB3aWRnZXQgdG8gYmluZCBtb3VzZSB3aGVlbCBldmVudHMgdG9cbiAgIDQ5NVx0ICAgICAgICBcIlwiXCJcbiAgIDQ5Nlx0ICAgICAgICAjIEJpbmQgZm9yIFdpbmRvd3MgYW5kIExpbnV4ICh3aXRoIG1vdXNlIHdoZWVsKVxuICAgNDk3XHQgICAgICAgIHdpZGdldC5iaW5kX2FsbChcIjxNb3VzZVdoZWVsPlwiLCBsYW1iZGEgZXZlbnQ6IHNlbGYuX29uX21vdXNlX3doZWVsKGV2ZW50LCB3aWRnZXQpKVxuICAgNDk4XHQgICAgICAgICMgQmluZCBmb3IgTGludXggKHdpdGggdG91Y2hwYWQpXG4gICA0OTlcdCAgICAgICAgd2lkZ2V0LmJpbmRfYWxsKFwiPEJ1dHRvbi00PlwiLCBsYW1iZGEgZXZlbnQ6IHNlbGYuX29uX21vdXNlX3doZWVsKGV2ZW50LCB3aWRnZXQpKVxuICAgNTAwXHQgICAgICAgIHdpZGdldC5iaW5kX2FsbChcIjxCdXR0b24tNT5cIiwgbGFtYmRhIGV2ZW50OiBzZWxmLl9vbl9tb3VzZV93aGVlbChldmVudCwgd2lkZ2V0KSlcbiAgIDUwMVx0XG4gICA1MDJcdCAgICBkZWYgX29uX21vdXNlX3doZWVsKHNlbGYsIGV2ZW50LCB3aWRnZXQpOlxuICAgNTAzXHQgICAgICAgIFwiXCJcIlxuICAgNTA0XHQgICAgICAgIEhhbmRsZSBtb3VzZSB3aGVlbCBldmVudHMgZm9yIHNjcm9sbGluZy5cbiAgIDUwNVx0XG4gICA1MDZcdCAgICAgICAgQXJnczpcbiAgIDUwN1x0ICAgICAgICAgICAgZXZlbnQ6IFRoZSBtb3VzZSB3aGVlbCBldmVudFxuICAgNTA4XHQgICAgICAgICAgICB3aWRnZXQ6IFRoZSB3aWRnZXQgdG8gc2Nyb2xsXG4gICA1MDlcdCAgICAgICAgXCJcIlwiXG4gICA1MTBcdCAgICAgICAgIyBHZXQgdGhlIHdpZGdldCB1bmRlciB0aGUgY3Vyc29yXG4gICA1MTFcdCAgICAgICAgeCwgeSA9IGV2ZW50Lnhfcm9vdCwgZXZlbnQueV9yb290XG4gICA1MTJcdCAgICAgICAgdGFyZ2V0X3dpZGdldCA9IGV2ZW50LndpZGdldC53aW5mb19jb250YWluaW5nKHgsIHkpXG4gICA1MTNcdFxuICAgNTE0XHQgICAgICAgICMgQ2hlY2sgaWYgdGhlIGN1cnNvciBpcyBvdmVyIG91ciBzY3JvbGxhYmxlIGZyYW1lIG9yIGl0cyBjaGlsZHJlblxuICAgNTE1XHQgICAgICAgIHBhcmVudCA9IHRhcmdldF93aWRnZXRcbiAgIDUxNlx0ICAgICAgICB3aGlsZSBwYXJlbnQgaXMgbm90IE5vbmU6XG4gICA1MTdcdCAgICAgICAgICAgIGlmIHBhcmVudCA9PSB3aWRnZXQgb3IgcGFyZW50ID09IHNlbGYuY2hhbm5lbHNfY29udGFpbmVyOlxuICAgNTE4XHQgICAgICAgICAgICAgICAgYnJlYWtcbiAgIDUxOVx0ICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50Lm1hc3RlclxuICAgNTIwXHRcbiAgIDUyMVx0ICAgICAgICAjIElmIGN1cnNvciBpcyBub3Qgb3ZlciBvdXIgc2Nyb2xsYWJsZSBhcmVhLCBkb24ndCBzY3JvbGxcbiAgIDUyMlx0ICAgICAgICBpZiBwYXJlbnQgaXMgTm9uZTpcbiAgIDUyM1x0ICAgICAgICAgICAgcmV0dXJuXG4gICA1MjRcdFxuICAgNTI1XHQgICAgICAgICMgSGFuZGxlIGRpZmZlcmVudCBldmVudCB0eXBlc1xuICAgNTI2XHQgICAgICAgIGlmIGV2ZW50Lm51bSA9PSA0IG9yIGV2ZW50LmRlbHRhID4gMDogICMgU2Nyb2xsIHVwXG4gICA1MjdcdCAgICAgICAgICAgIHdpZGdldC5fcGFyZW50X2NhbnZhcy55dmlld19zY3JvbGwoLTEsIFwidW5pdHNcIilcbiAgIDUyOFx0ICAgICAgICBlbGlmIGV2ZW50Lm51bSA9PSA1IG9yIGV2ZW50LmRlbHRhIDwgMDogICMgU2Nyb2xsIGRvd25cbiAgIDUyOVx0ICAgICAgICAgICAgd2lkZ2V0Ll9wYXJlbnRfY2FudmFzLnl2aWV3X3Njcm9sbCgxLCBcInVuaXRzXCIpXG4gICA1MzBcdFxuICAgNTMxXHQgICAgZGVmIGNsZWFyX2NoYW5uZWxzKHNlbGYpOlxuICAgNTMyXHQgICAgICAgIFwiXCJcIkNsZWFyIGFsbCBjaGFubmVsIGNoZWNrYm94ZXMgYW5kIHJlbGF0ZWQgd2lkZ2V0cy5cIlwiXCJcbiAgIDUzM1x0ICAgICAgICBmb3Igd2lkZ2V0IGluIHNlbGYuY2hhbm5lbHNfZnJhbWUud2luZm9fY2hpbGRyZW4oKTpcbiAgIDUzNFx0ICAgICAgICAgICAgd2lkZ2V0LmRlc3Ryb3koKVxuICAgNTM1XHRcbiAgIDUzNlx0ICAgICAgICBzZWxmLmNoYW5uZWxfdmFycyA9IHt9XG4gICA1MzdcdCAgICAgICAgc2VsZi5hdmFpbGFibGVfY2hhbm5lbHMgPSBbXVxuICAgNTM4XHRcbiAgIDUzOVx0ICAgIGRlZiBjbGVhcl9tZXRyaWNzKHNlbGYpOlxuICAgNTQwXHQgICAgICAgIFwiXCJcIkNsZWFyIHRoZSBtZXRyaWNzIGRyb3Bkb3duLlwiXCJcIlxuICAgNTQxXHQgICAgICAgIHNlbGYubWV0cmljX2Ryb3Bkb3duLmNvbmZpZ3VyZSh2YWx1ZXM9W10pXG4gICA1NDJcdCAgICAgICAgc2VsZi5tZXRyaWNfdmFyLnNldChcIlwiKVxuICAgNTQzXHQgICAgICAgIHNlbGYuY3VycmVudF9tZXRyaWMgPSBOb25lXG4gICA1NDRcdFxuICAgNTQ1XHQgICAgZGVmIHNlbGVjdF9hbGxfY2hhbm5lbHMoc2VsZik6XG4gICA1NDZcdCAgICAgICAgXCJcIlwiU2VsZWN0IGFsbCBjaGFubmVsIGNoZWNrYm94ZXMuXCJcIlwiXG4gICA1NDdcdCAgICAgICAgZm9yIHZhciBpbiBzZWxmLmNoYW5uZWxfdmFycy52YWx1ZXMoKTpcbiAgIDU0OFx0ICAgICAgICAgICAgdmFyLnNldChUcnVlKVxuICAgNTQ5XHRcbiAgIDU1MFx0ICAgIGRlZiBkZXNlbGVjdF9hbGxfY2hhbm5lbHMoc2VsZik6XG4gICA1NTFcdCAgICAgICAgXCJcIlwiRGVzZWxlY3QgYWxsIGNoYW5uZWwgY2hlY2tib3hlcy5cIlwiXCJcbiAgIDU1Mlx0ICAgICAgICBmb3IgdmFyIGluIHNlbGYuY2hhbm5lbF92YXJzLnZhbHVlcygpOlxuICAgNTUzXHQgICAgICAgICAgICB2YXIuc2V0KEZhbHNlKVxuICAgNTU0XHRcbiAgIDU1NVx0ICAgIGRlZiBzZWxlY3RfY29tbW9uX2NoYW5uZWxzKHNlbGYpOlxuICAgNTU2XHQgICAgICAgIFwiXCJcIlNlbGVjdCBjb21tb24gRUVHIGNoYW5uZWxzICgxMC0yMCBzeXN0ZW0pLlwiXCJcIlxuICAgNTU3XHQgICAgICAgICMgRmlyc3QgZGVzZWxlY3QgYWxsXG4gICA1NThcdCAgICAgICAgc2VsZi5kZXNlbGVjdF9hbGxfY2hhbm5lbHMoKVxuICAgNTU5XHRcbiAgIDU2MFx0ICAgICAgICAjIFNlbGVjdCB0aGUgY2hhbm5lbHMgaWYgdGhleSBleGlzdCBpbiBvdXIgYXZhaWxhYmxlIGNoYW5uZWxzXG4gICA1NjFcdCAgICAgICAgZm9yIGNoYW5uZWwgaW4gQ09NTU9OX0NIQU5ORUxTOlxuICAgNTYyXHQgICAgICAgICAgICBpZiBjaGFubmVsIGluIHNlbGYuY2hhbm5lbF92YXJzOlxuICAgNTYzXHQgICAgICAgICAgICAgICAgc2VsZi5jaGFubmVsX3ZhcnNbY2hhbm5lbF0uc2V0KFRydWUpXG4gICA1NjRcdCAgICAgICAgICAgICMgVHJ5IGFsdGVybmF0aXZlIG5hbWUgaWYgdGhlIGNoYW5uZWwgZG9lc24ndCBleGlzdFxuICAgNTY1XHQgICAgICAgICAgICBlbGlmIGNoYW5uZWwgaW4gQUxURVJOQVRJVkVfQ0hBTk5FTF9OQU1FUyBhbmQgQUxURVJOQVRJVkVfQ0hBTk5FTF9OQU1FU1tjaGFubmVsXSBpbiBzZWxmLmNoYW5uZWxfdmFyczpcbiAgIDU2Nlx0ICAgICAgICAgICAgICAgIHNlbGYuY2hhbm5lbF92YXJzW0FMVEVSTkFUSVZFX0NIQU5ORUxfTkFNRVNbY2hhbm5lbF1dLnNldChUcnVlKVxuICAgNTY3XHRcbiAgIDU2OFx0ICAgICAgICAjIElmIHdlIGhhdmUgYSBzZWFyY2ggZmlsdGVyIGFjdGl2ZSwgdXBkYXRlIHRoZSBkaXNwbGF5XG4gICA1NjlcdCAgICAgICAgaWYgaGFzYXR0cihzZWxmLCAnc2VhcmNoX3ZhcicpOlxuICAgNTcwXHQgICAgICAgICAgICBzZWxmLmZpbHRlcl9jaGFubmVscygpXG4gICA1NzFcdFxuICAgNTcyXHQgICAgZGVmIHJlc2V0X3RpbWVfd2luZG93KHNlbGYpOlxuICAgNTczXHQgICAgICAgIFwiXCJcIlJlc2V0IHRoZSB0aW1lIHdpbmRvdyB0byBzaG93IGFsbCBkYXRhLlwiXCJcIlxuICAgNTc0XHQgICAgICAgIHNlbGYuc3RhcnRfdGltZV92YXIuc2V0KFwiMFwiKVxuICAgNTc1XHQgICAgICAgIHNlbGYuZW5kX3RpbWVfdmFyLnNldChcIlwiKVxuICAgNTc2XHQgICAgICAgIHNlbGYudXBkYXRlX3Bsb3QoKVxuICAgNTc3XHRcbiAgIDU3OFx0ICAgIGRlZiB2aWV3X2VlZyhzZWxmKTpcbiAgIDU3OVx0ICAgICAgICBcIlwiXCJPcGVuIHRoZSBjdXJyZW50IEVFRyBmaWxlIHdpdGggTU5FIGFuZCBkaXNwbGF5IGl0IGluIGEgbmV3IHdpbmRvdy5cIlwiXCJcbiAgIDU4MFx0ICAgICAgICBpZiBub3QgaGFzYXR0cihzZWxmLCAnY3VycmVudF9leHBlcmltZW50X2lkJykgb3Igbm90IGhhc2F0dHIoc2VsZiwgJ2N1cnJlbnRfZWVnX2lkJyk6XG4gICA1ODFcdCAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2luZm8oXCJObyBFRUcgU2VsZWN0ZWRcIiwgXCJQbGVhc2Ugc2VsZWN0IGFuIGV4cGVyaW1lbnQgYW5kIEVFRyBmaWxlIGZpcnN0LlwiKVxuICAgNTgyXHQgICAgICAgICAgICByZXR1cm5cbiAgIDU4M1x0XG4gICA1ODRcdCAgICAgICAgIyBGaW5kIHRoZSBzZWxlY3RlZCBFRUcgdG8gZ2V0IGl0cyBmaWxlcGF0aFxuICAgNTg1XHQgICAgICAgIHNlbGVjdGVkX2VlZyA9IE5vbmVcbiAgIDU4Nlx0ICAgICAgICBmb3IgZWVnIGluIHNlbGYuZWVnczpcbiAgIDU4N1x0ICAgICAgICAgICAgaWYgZWVnWydpZCddID09IHNlbGYuY3VycmVudF9lZWdfaWQ6XG4gICA1ODhcdCAgICAgICAgICAgICAgICBzZWxlY3RlZF9lZWcgPSBlZWdcbiAgIDU4OVx0ICAgICAgICAgICAgICAgIGJyZWFrXG4gICA1OTBcdFxuICAgNTkxXHQgICAgICAgIGlmIG5vdCBzZWxlY3RlZF9lZWcgb3Igbm90IHNlbGVjdGVkX2VlZy5nZXQoJ2ZpbGVwYXRoJyk6XG4gICA1OTJcdCAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKFwiRXJyb3JcIiwgXCJDb3VsZCBub3QgZmluZCB0aGUgRUVHIGZpbGUgcGF0aC5cIilcbiAgIDU5M1x0ICAgICAgICAgICAgcmV0dXJuXG4gICA1OTRcdFxuICAgNTk1XHQgICAgICAgIGVlZ19maWxlcGF0aCA9IHNlbGVjdGVkX2VlZ1snZmlsZXBhdGgnXVxuICAgNTk2XHRcbiAgIDU5N1x0ICAgICAgICAjIENoZWNrIGlmIHRoZSBmaWxlIGV4aXN0c1xuICAgNTk4XHQgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhlZWdfZmlsZXBhdGgpOlxuICAgNTk5XHQgICAgICAgICAgICBtZXNzYWdlYm94LnNob3dlcnJvcihcIkZpbGUgTm90IEZvdW5kXCIsIGZcIlRoZSBFRUcgZmlsZSB3YXMgbm90IGZvdW5kIGF0OlxcbntlZWdfZmlsZXBhdGh9XCIpXG4gICA2MDBcdCAgICAgICAgICAgIHJldHVyblxuICAgNjAxXHRcbiAgIDYwMlx0ICAgICAgICAjIEdldCB0aGUgY3VycmVudCB0aW1lIHdpbmRvd1xuICAgNjAzXHQgICAgICAgIHRyeTpcbiAgIDYwNFx0ICAgICAgICAgICAgc3RhcnRfdGltZSA9IGZsb2F0KHNlbGYuc3RhcnRfdGltZV92YXIuZ2V0KCkpIGlmIHNlbGYuc3RhcnRfdGltZV92YXIuZ2V0KCkgZWxzZSBOb25lXG4gICA2MDVcdCAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6XG4gICA2MDZcdCAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBOb25lXG4gICA2MDdcdFxuICAgNjA4XHQgICAgICAgIHRyeTpcbiAgIDYwOVx0ICAgICAgICAgICAgZW5kX3RpbWUgPSBmbG9hdChzZWxmLmVuZF90aW1lX3Zhci5nZXQoKSkgaWYgc2VsZi5lbmRfdGltZV92YXIuZ2V0KCkgZWxzZSBOb25lXG4gICA2MTBcdCAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6XG4gICA2MTFcdCAgICAgICAgICAgIGVuZF90aW1lID0gTm9uZVxuICAgNjEyXHRcbiAgIDYxM1x0ICAgICAgICAjIFRyeSB0byBsb2FkIHRoZSBFRUcgZmlsZSB3aXRoIE1ORVxuICAgNjE0XHQgICAgICAgIHRyeTpcbiAgIDYxNVx0ICAgICAgICAgICAgIyAjIFNob3cgYSBsb2FkaW5nIG1lc3NhZ2VcbiAgIDYxNlx0ICAgICAgICAgICAgIyBzZWxmLmxvYWRpbmdfd2luZG93ID0gdGsuVG9wbGV2ZWwoc2VsZilcbiAgIDYxN1x0ICAgICAgICAgICAgIyBzZWxmLmxvYWRpbmdfd2luZG93LnRpdGxlKFwiTG9hZGluZyBFRUdcIilcbiAgIDYxOFx0ICAgICAgICAgICAgIyBzZWxmLmxvYWRpbmdfd2luZG93Lmdlb21ldHJ5KFwiMzAweDEwMFwiKVxuICAgNjE5XHQgICAgICAgICAgICAjIHNlbGYubG9hZGluZ193aW5kb3cudHJhbnNpZW50KHNlbGYubWFzdGVyKVxuICAgNjIwXHQgICAgICAgICAgICAjIHNlbGYubG9hZGluZ193aW5kb3cuZ3JhYl9zZXQoKVxuICAgNjIxXHQgICAgICAgICAgICAjXG4gICA2MjJcdCAgICAgICAgICAgICMgbG9hZGluZ19sYWJlbCA9IHRrLkxhYmVsKHNlbGYubG9hZGluZ193aW5kb3csIHRleHQ9XCJMb2FkaW5nIEVFRyBmaWxlLi4uXFxuVGhpcyBtYXkgdGFrZSBhIG1vbWVudC5cIilcbiAgIDYyM1x0ICAgICAgICAgICAgIyBsb2FkaW5nX2xhYmVsLnBhY2soZXhwYW5kPVRydWUsIGZpbGw9dGsuQk9USCwgcGFkeD0yMCwgcGFkeT0yMClcbiAgIDYyNFx0ICAgICAgICAgICAgI1xuICAgNjI1XHQgICAgICAgICAgICAjIHNlbGYubG9hZGluZ193aW5kb3cudXBkYXRlKClcbiAgIDYyNlx0XG4gICA2MjdcdCAgICAgICAgICAgICMgTG9hZCB0aGUgRUVHIGZpbGUgLSB0cnkgZGlmZmVyZW50IHJlYWRlcnMgYmFzZWQgb24gZmlsZSBleHRlbnNpb25cbiAgIDYyOFx0ICAgICAgICAgICAgZmlsZV9leHQgPSBvcy5wYXRoLnNwbGl0ZXh0KGVlZ19maWxlcGF0aClbMV0ubG93ZXIoKVxuICAgNjI5XHRcbiAgIDYzMFx0ICAgICAgICAgICAgaWYgZmlsZV9leHQgPT0gJy5lZGYnOlxuICAgNjMxXHQgICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2VkZihlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcbiAgIDYzMlx0ICAgICAgICAgICAgZWxpZiBmaWxlX2V4dCA9PSAnLmJkZic6XG4gICA2MzNcdCAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXdfYmRmKGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxuICAgNjM0XHQgICAgICAgICAgICBlbGlmIGZpbGVfZXh0ID09ICcuZ2RmJzpcbiAgIDYzNVx0ICAgICAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3Jhd19nZGYoZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXG4gICA2MzZcdCAgICAgICAgICAgIGVsaWYgZmlsZV9leHQgaW4gWycudmhkcicsICcudm1yaycsICcuZWVnJ106XG4gICA2MzdcdCAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXdfYnJhaW52aXNpb24oZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXG4gICA2MzhcdCAgICAgICAgICAgIGVsaWYgZmlsZV9leHQgPT0gJy5jbnQnOlxuICAgNjM5XHQgICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2NudChlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcbiAgIDY0MFx0ICAgICAgICAgICAgZWxpZiBmaWxlX2V4dCA9PSAnLnNldCc6XG4gICA2NDFcdCAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXdfZWVnbGFiKGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxuICAgNjQyXHQgICAgICAgICAgICBlbHNlOlxuICAgNjQzXHQgICAgICAgICAgICAgICAgIyBUcnkgdGhlIGdlbmVyaWMgcmVhZGVyIGFzIGEgZmFsbGJhY2tcbiAgIDY0NFx0ICAgICAgICAgICAgICAgIHRyeTpcbiAgIDY0NVx0ICAgICAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXcoZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXG4gICA2NDZcdCAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XG4gICA2NDdcdCAgICAgICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmXCJVbnN1cHBvcnRlZCBmaWxlIGZvcm1hdDoge2ZpbGVfZXh0fS4gRXJyb3I6IHtzdHIoZSl9XCIpXG4gICA2NDhcdFxuICAgNjQ5XHQgICAgICAgICAgICAjIENsb3NlIHRoZSBsb2FkaW5nIHdpbmRvd1xuICAgNjUwXHQgICAgICAgICAgICAjIHNlbGYubG9hZGluZ193aW5kb3cuZGVzdHJveSgpXG4gICA2NTFcdFxuICAgNjUyXHQgICAgICAgICAgICAjIFNldCB0aGUgdGltZSB3aW5kb3cgaWYgc3BlY2lmaWVkXG4gICA2NTNcdCAgICAgICAgICAgIGlmIHN0YXJ0X3RpbWUgaXMgbm90IE5vbmUgYW5kIGVuZF90aW1lIGlzIG5vdCBOb25lOlxuICAgNjU0XHQgICAgICAgICAgICAgICAgIyBDb252ZXJ0IGZyb20gc2Vjb25kcyB0byBwb2ludHMgaWYgbmVlZGVkXG4gICA2NTVcdCAgICAgICAgICAgICAgICBzdGFydF9pZHggPSBtYXgoMCwgaW50KHN0YXJ0X3RpbWUgKiByYXcuaW5mb1snc2ZyZXEnXSkpXG4gICA2NTZcdCAgICAgICAgICAgICAgICBlbmRfaWR4ID0gbWluKGxlbihyYXcudGltZXMpLCBpbnQoZW5kX3RpbWUgKiByYXcuaW5mb1snc2ZyZXEnXSkpXG4gICA2NTdcdFxuICAgNjU4XHQgICAgICAgICAgICAgICAgIyBDcmVhdGUgYSBwbG90IHdpdGggdGhlIHNwZWNpZmllZCB0aW1lIHdpbmRvd1xuICAgNjU5XHQgICAgICAgICAgICAgICAgcmF3LnBsb3Qoc3RhcnQ9c3RhcnRfdGltZSwgZHVyYXRpb249KGVuZF9pZHgtc3RhcnRfaWR4KS9yYXcuaW5mb1snc2ZyZXEnXSxcbiAgIDY2MFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGluZ3M9J2F1dG8nLCBibG9jaz1UcnVlLCBzaG93PVRydWUpXG4gICA2NjFcdFxuICAgNjYyXHQgICAgICAgICAgICAgICAgIyAjIFNldCB0aGUgd2luZG93IHRpdGxlIHRvIGluY2x1ZGUgdGhlIEVFRyBmaWxlbmFtZVxuICAgNjYzXHQgICAgICAgICAgICAgICAgIyBmaWcuY2FudmFzLm1hbmFnZXIuc2V0X3dpbmRvd190aXRsZShmXCJNTkUgRUVHIFZpZXdlciAtIHtzZWxlY3RlZF9lZWdbJ2ZpbGVuYW1lJ119XCIpXG4gICA2NjRcdCAgICAgICAgICAgICAgICAjXG4gICA2NjVcdCAgICAgICAgICAgICAgICAjICMgU2hvdyB0aGUgcGxvdFxuICAgNjY2XHQgICAgICAgICAgICAgICAgIyBmaWcuc2hvdygpXG4gICA2NjdcdCAgICAgICAgICAgIGVsc2U6XG4gICA2NjhcdCAgICAgICAgICAgICAgICAjIEp1c3Qgc2hvdyB0aGUgd2hvbGUgRUVHXG4gICA2NjlcdCAgICAgICAgICAgICAgICByYXcucGxvdChzY2FsaW5ncz0nYXV0bycsIGJsb2NrPVRydWUsIHNob3c9VHJ1ZSlcbiAgIDY3MFx0ICAgICAgICAgICAgICAgICMgZmlnLmNhbnZhcy5tYW5hZ2VyLnNldF93aW5kb3dfdGl0bGUoZlwiTU5FIEVFRyBWaWV3ZXIgLSB7c2VsZWN0ZWRfZWVnWydmaWxlbmFtZSddfVwiKVxuICAgNjcxXHQgICAgICAgICAgICAgICAgIyBmaWcuc2hvdygpXG4gICA2NzJcdFxuICAgNjczXHQgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcbiAgIDY3NFx0ICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoXCJFcnJvclwiLCBmXCJGYWlsZWQgdG8gb3BlbiB0aGUgRUVHIGZpbGUgd2l0aCBNTkU6XFxue3N0cihlKX1cIilcbiAgIDY3NVx0ICAgICAgICAgICAgaWYgaGFzYXR0cihzZWxmLCAnbG9hZGluZ193aW5kb3cnKSBhbmQgc2VsZi5sb2FkaW5nX3dpbmRvdy53aW5mb19leGlzdHMoKTpcbiAgIDY3Nlx0ICAgICAgICAgICAgICAgIHNlbGYubG9hZGluZ193aW5kb3cuZGVzdHJveSgpXG4gICA2NzdcdFxuICAgNjc4XHQgICAgZGVmIHVwZGF0ZV9wbG90KHNlbGYpOlxuICAgNjc5XHQgICAgICAgIFwiXCJcIlVwZGF0ZSB0aGUgcGxvdCB3aXRoIHRoZSBzZWxlY3RlZCBtZXRyaWMgYW5kIGNoYW5uZWxzLlwiXCJcIlxuICAgNjgwXHQgICAgICAgIGlmIG5vdCBoYXNhdHRyKHNlbGYsICdjdXJyZW50X2V4cGVyaW1lbnRfaWQnKSBvciBub3QgaGFzYXR0cihzZWxmLCAnY3VycmVudF9lZWdfaWQnKSBvciBub3Qgc2VsZi5jdXJyZW50X21ldHJpYzpcbiAgIDY4MVx0ICAgICAgICAgICAgcmV0dXJuXG4gICA2ODJcdFxuICAgNjgzXHQgICAgICAgICMgR2V0IHNlbGVjdGVkIGNoYW5uZWxzXG4gICA2ODRcdCAgICAgICAgc2VsZWN0ZWRfY2hhbm5lbHMgPSBbY2hhbm5lbCBmb3IgY2hhbm5lbCwgdmFyIGluIHNlbGYuY2hhbm5lbF92YXJzLml0ZW1zKCkgaWYgdmFyLmdldCgpXVxuICAgNjg1XHRcbiAgIDY4Nlx0ICAgICAgICAjIEdldCBzZWxlY3RlZCBhZ2dyZWdhdGlvbiBtZXRob2RzXG4gICA2ODdcdCAgICAgICAgc2VsZWN0ZWRfYWdncmVnYXRpb25zID0gW2FnZyBmb3IgYWdnLCB2YXIgaW4gc2VsZi5hZ2dyZWdhdGlvbl92YXJzLml0ZW1zKCkgaWYgdmFyLmdldCgpXVxuICAgNjg4XHRcbiAgIDY4OVx0ICAgICAgICAjIENoZWNrIGlmIHdlIHNob3VsZCBzaG93IG9ubHkgYWdncmVnYXRpb25zXG4gICA2OTBcdCAgICAgICAgYWdncmVnYXRpb25fb25seSA9IHNlbGYuYWdncmVnYXRpb25fb25seV92YXIuZ2V0KClcbiAgIDY5MVx0XG4gICA2OTJcdCAgICAgICAgIyBDaGVjayBpZiB3ZSBoYXZlIHZhbGlkIHNlbGVjdGlvbnNcbiAgIDY5M1x0ICAgICAgICBpZiAobm90IHNlbGVjdGVkX2NoYW5uZWxzIGFuZCBub3Qgc2VsZWN0ZWRfYWdncmVnYXRpb25zKSBvciBcXFxuICAgNjk0XHQgICAgICAgICAgIChhZ2dyZWdhdGlvbl9vbmx5IGFuZCBub3Qgc2VsZWN0ZWRfYWdncmVnYXRpb25zKTpcbiAgIDY5NVx0ICAgICAgICAgICAgc2VsZi5wbG90X2ZyYW1lLnVwZGF0ZV9wbG90KE5vbmUsIE5vbmUsIE5vbmUsIFwiTm8gY2hhbm5lbHMgb3IgYWdncmVnYXRpb25zIHNlbGVjdGVkXCIpXG4gICA2OTZcdCAgICAgICAgICAgIHJldHVyblxuICAgNjk3XHRcbiAgIDY5OFx0ICAgICAgICAjIEdldCBkYXRhIGZvciB0aGUgc2VsZWN0ZWQgZXhwZXJpbWVudCBhbmQgRUVHXG4gICA2OTlcdCAgICAgICAgZGYgPSBzZWxmLmRiX2hhbmRsZXIuZ2V0X21ldHJpY3NfZGF0YShzZWxmLmN1cnJlbnRfZXhwZXJpbWVudF9pZCwgc2VsZi5jdXJyZW50X2VlZ19pZClcbiAgIDcwMFx0XG4gICA3MDFcdCAgICAgICAgaWYgZGYuZW1wdHk6XG4gICA3MDJcdCAgICAgICAgICAgIHNlbGYucGxvdF9mcmFtZS51cGRhdGVfcGxvdChOb25lLCBOb25lLCBOb25lLCBcIk5vIGRhdGEgYXZhaWxhYmxlXCIpXG4gICA3MDNcdCAgICAgICAgICAgIHJldHVyblxuICAgNzA0XHRcbiAgIDcwNVx0ICAgICAgICAjIEdldCB0aW1lIHdpbmRvdyB2YWx1ZXNcbiAgIDcwNlx0ICAgICAgICB0cnk6XG4gICA3MDdcdCAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBmbG9hdChzZWxmLnN0YXJ0X3RpbWVfdmFyLmdldCgpKSBpZiBzZWxmLnN0YXJ0X3RpbWVfdmFyLmdldCgpIGVsc2UgTm9uZVxuICAgNzA4XHQgICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOlxuICAgNzA5XHQgICAgICAgICAgICBzdGFydF90aW1lID0gTm9uZVxuICAgNzEwXHQgICAgICAgICAgICBzZWxmLnN0YXJ0X3RpbWVfdmFyLnNldChcIjBcIilcbiAgIDcxMVx0XG4gICA3MTJcdCAgICAgICAgdHJ5OlxuICAgNzEzXHQgICAgICAgICAgICBlbmRfdGltZSA9IGZsb2F0KHNlbGYuZW5kX3RpbWVfdmFyLmdldCgpKSBpZiBzZWxmLmVuZF90aW1lX3Zhci5nZXQoKSBlbHNlIE5vbmVcbiAgIDcxNFx0ICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjpcbiAgIDcxNVx0ICAgICAgICAgICAgZW5kX3RpbWUgPSBOb25lXG4gICA3MTZcdCAgICAgICAgICAgIHNlbGYuZW5kX3RpbWVfdmFyLnNldChcIlwiKVxuICAgNzE3XHRcbiAgIDcxOFx0ICAgICAgICAjIFVwZGF0ZSB0aGUgcGxvdFxuICAgNzE5XHQgICAgICAgIGV4cGVyaW1lbnRfbmFtZSA9IG5leHQoKGV4cFsnbmFtZSddIGZvciBleHAgaW4gc2VsZi5leHBlcmltZW50cyBpZiBleHBbJ2lkJ10gPT0gc2VsZi5jdXJyZW50X2V4cGVyaW1lbnRfaWQpLCBcIlwiKVxuICAgNzIwXHQgICAgICAgIGVlZ19uYW1lID0gbmV4dCgoZWVnWydmaWxlbmFtZSddIGZvciBlZWcgaW4gc2VsZi5lZWdzIGlmIGVlZ1snaWQnXSA9PSBzZWxmLmN1cnJlbnRfZWVnX2lkKSwgXCJcIilcbiAgIDcyMVx0XG4gICA3MjJcdCAgICAgICAgdGl0bGUgPSBmXCJ7c2VsZi5jdXJyZW50X21ldHJpY30gZm9yIHtleHBlcmltZW50X25hbWV9IC0ge2VlZ19uYW1lfVwiXG4gICA3MjNcdFxuICAgNzI0XHQgICAgICAgICMgQWRkIGFnZ3JlZ2F0aW9uLW9ubHkgaW5mbyB0byB0aXRsZSBpZiBzcGVjaWZpZWRcbiAgIDcyNVx0ICAgICAgICBpZiBhZ2dyZWdhdGlvbl9vbmx5IGFuZCBzZWxlY3RlZF9hZ2dyZWdhdGlvbnM6XG4gICA3MjZcdCAgICAgICAgICAgIHRpdGxlICs9IFwiIChBZ2dyZWdhdGlvbiBPbmx5KVwiXG4gICA3MjdcdFxuICAgNzI4XHQgICAgICAgICMgQWRkIHRpbWUgd2luZG93IGluZm8gdG8gdGl0bGUgaWYgc3BlY2lmaWVkXG4gICA3MjlcdCAgICAgICAgaWYgc3RhcnRfdGltZSBpcyBub3QgTm9uZSBhbmQgZW5kX3RpbWUgaXMgbm90IE5vbmU6XG4gICA3MzBcdCAgICAgICAgICAgIHRpdGxlICs9IGZcIiAoVGltZToge3N0YXJ0X3RpbWV9cyB0byB7ZW5kX3RpbWV9cylcIlxuICAgNzMxXHQgICAgICAgIGVsaWYgc3RhcnRfdGltZSBpcyBub3QgTm9uZTpcbiAgIDczMlx0ICAgICAgICAgICAgdGl0bGUgKz0gZlwiIChUaW1lOiB7c3RhcnRfdGltZX1zKylcIlxuICAgNzMzXHRcbiAgIDczNFx0ICAgICAgICBzZWxmLnBsb3RfZnJhbWUudXBkYXRlX3Bsb3QoXG4gICA3MzVcdCAgICAgICAgICAgIGRmLFxuICAgNzM2XHQgICAgICAgICAgICBzZWxmLmN1cnJlbnRfbWV0cmljLFxuICAgNzM3XHQgICAgICAgICAgICBzZWxlY3RlZF9jaGFubmVscyxcbiAgIDczOFx0ICAgICAgICAgICAgdGl0bGUsXG4gICA3MzlcdCAgICAgICAgICAgIHRpbWVfd2luZG93PShzdGFydF90aW1lLCBlbmRfdGltZSksXG4gICA3NDBcdCAgICAgICAgICAgIGFnZ3JlZ2F0aW9ucz1zZWxlY3RlZF9hZ2dyZWdhdGlvbnMsXG4gICA3NDFcdCAgICAgICAgICAgIGFnZ3JlZ2F0aW9uX29ubHk9YWdncmVnYXRpb25fb25seVxuICAgNzQyXHQgICAgICAgIClcbiAgIDc0M1x0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA3NDNcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjU5NDA4OGE2LTNkZDItNDUwOC1hYjVjLWJjZjFlNjJmZjEyNTt0b29sdV92cnR4XzAxTFRwWnN4YUZHZVRNeFdyM2lTTXZBQyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBndWkvbWV0cmljc192aWV3ZXIvc2VsZWN0aW9uX2ZyYW1lLnB5XG5cIlwiXCJcblNlbGVjdGlvbiBmcmFtZSBmb3IgdGhlIEVFRyBNZXRyaWNzIFZpZXdlci5cblxuVGhpcyBtb2R1bGUgcHJvdmlkZXMgdGhlIFNlbGVjdGlvbkZyYW1lIGNsYXNzIGZvciBzZWxlY3RpbmcgZXhwZXJpbWVudHMsIEVFR3MsXG5tZXRyaWNzLCBjaGFubmVscywgYW5kIG90aGVyIHZpc3VhbGl6YXRpb24gb3B0aW9ucy5cblwiXCJcIlxuXG5mcm9tIHR5cGluZyBpbXBvcnQgTGlzdCwgRGljdCwgVHVwbGUsIE9wdGlvbmFsLCBBbnksIENhbGxhYmxlXG5pbXBvcnQgb3NcbmltcG9ydCBjdXN0b210a2ludGVyIGFzIGN0a1xuaW1wb3J0IHRraW50ZXIgYXMgdGtcbmZyb20gdGtpbnRlciBpbXBvcnQgbWVzc2FnZWJveFxuaW1wb3J0IG1uZVxuaW1wb3J0IG51bXB5IGFzIG5wXG5cbmZyb20gLmRhdGFiYXNlX2hhbmRsZXIgaW1wb3J0IERhdGFiYXNlSGFuZGxlclxuZnJvbSAucGxvdF9mcmFtZSBpbXBvcnQgTWV0cmljc1Bsb3RGcmFtZVxuZnJvbSAudXRpbHMgaW1wb3J0IChcbiAgICBnZXRfbGFiZWxfZm9udCxcbiAgICBnZXRfZHJvcGRvd25fZm9udCxcbiAgICBnZXRfYnV0dG9uX2ZvbnQsXG4gICAgQ09NTU9OX0NIQU5ORUxTLFxuICAgIEFMVEVSTkFUSVZFX0NIQU5ORUxfTkFNRVNcbilcblxuXG5jbGFzcyBTZWxlY3Rpb25GcmFtZShjdGsuQ1RrRnJhbWUpOlxuICAgIFwiXCJcIlxuICAgIEEgZnJhbWUgY29udGFpbmluZyBjb250cm9scyBmb3Igc2VsZWN0aW5nIGV4cGVyaW1lbnRzLCBFRUdzLCBtZXRyaWNzLCBjaGFubmVscywgYW5kIG90aGVyIG9wdGlvbnMuXG4gICAgQWxzbyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHZpZXcgdGhlIG9yaWdpbmFsIEVFRyBmaWxlIHVzaW5nIE1ORSwgc3luY2hyb25pemVkIHdpdGggdGhlIGN1cnJlbnQgdGltZSB3aW5kb3cuXG4gICAgXCJcIlwiXG5cbiAgICBkZWYgX19pbml0X18oc2VsZiwgbWFzdGVyLCBkYl9oYW5kbGVyOiBEYXRhYmFzZUhhbmRsZXIsIHBsb3RfZnJhbWU6IE1ldHJpY3NQbG90RnJhbWUsICoqa3dhcmdzKTpcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIEluaXRpYWxpemUgdGhlIHNlbGVjdGlvbiBmcmFtZS5cblxuICAgICAgICBBcmdzOlxuICAgICAgICAgICAgbWFzdGVyOiBUaGUgcGFyZW50IHdpZGdldFxuICAgICAgICAgICAgZGJfaGFuZGxlcjogRGF0YWJhc2VIYW5kbGVyIGluc3RhbmNlIGZvciBxdWVyeWluZyB0aGUgZGF0YWJhc2VcbiAgICAgICAgICAgIHBsb3RfZnJhbWU6IE1ldHJpY3NQbG90RnJhbWUgaW5zdGFuY2UgZm9yIGRpc3BsYXlpbmcgcGxvdHNcbiAgICAgICAgICAgICoqa3dhcmdzOiBBZGRpdGlvbmFsIGFyZ3VtZW50cyBmb3IgdGhlIENUa0ZyYW1lIGNvbnN0cnVjdG9yXG4gICAgICAgIFwiXCJcIlxuICAgICAgICBzdXBlcigpLl9faW5pdF9fKG1hc3RlciwgKiprd2FyZ3MpXG5cbiAgICAgICAgc2VsZi5kYl9oYW5kbGVyID0gZGJfaGFuZGxlclxuICAgICAgICBzZWxmLnBsb3RfZnJhbWUgPSBwbG90X2ZyYW1lXG5cbiAgICAgICAgIyBDb25maWd1cmUgZ3JpZCBsYXlvdXRcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSlcbiAgICAgICAgc2VsZi5ncmlkX2NvbHVtbmNvbmZpZ3VyZSgxLCB3ZWlnaHQ9MSlcbiAgICAgICAgc2VsZi5ncmlkX3Jvd2NvbmZpZ3VyZSg4LCB3ZWlnaHQ9MCkgICMgUm93IGZvciB0aGUgVmlldyBFRUcgYnV0dG9uXG5cbiAgICAgICAgIyBDcmVhdGUgZm9udHNcbiAgICAgICAgbGFiZWxfZm9udCA9IGdldF9sYWJlbF9mb250KClcbiAgICAgICAgZHJvcGRvd25fZm9udCA9IGdldF9kcm9wZG93bl9mb250KClcblxuICAgICAgICAjIEV4cGVyaW1lbnQgc2VsZWN0aW9uIC0gbW9yZSBjb21wYWN0XG4gICAgICAgIHNlbGYuZXhwZXJpbWVudF9sYWJlbCA9IGN0ay5DVGtMYWJlbChzZWxmLCB0ZXh0PVwiU2VsZWN0IEV4cGVyaW1lbnQ6XCIsIGZvbnQ9bGFiZWxfZm9udClcbiAgICAgICAgc2VsZi5leHBlcmltZW50X2xhYmVsLmdyaWQocm93PTAsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9KDgsIDApLCBzdGlja3k9XCJ3XCIpXG5cbiAgICAgICAgc2VsZi5leHBlcmltZW50cyA9IHNlbGYuZGJfaGFuZGxlci5nZXRfZXhwZXJpbWVudHMoKVxuICAgICAgICBleHBlcmltZW50X25hbWVzID0gW2ZcIntleHBbJ25hbWUnXX0gKHtleHBbJ3J1bl9uYW1lJ119KVwiIGZvciBleHAgaW4gc2VsZi5leHBlcmltZW50c11cblxuICAgICAgICBzZWxmLmV4cGVyaW1lbnRfdmFyID0gY3RrLlN0cmluZ1Zhcih2YWx1ZT1leHBlcmltZW50X25hbWVzWzBdIGlmIGV4cGVyaW1lbnRfbmFtZXMgZWxzZSBcIlwiKVxuICAgICAgICBzZWxmLmV4cGVyaW1lbnRfZHJvcGRvd24gPSBjdGsuQ1RrT3B0aW9uTWVudShcbiAgICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgICB2YWx1ZXM9ZXhwZXJpbWVudF9uYW1lcyxcbiAgICAgICAgICAgIHZhcmlhYmxlPXNlbGYuZXhwZXJpbWVudF92YXIsXG4gICAgICAgICAgICBjb21tYW5kPXNlbGYub25fZXhwZXJpbWVudF9zZWxlY3RlZCxcbiAgICAgICAgICAgIGhlaWdodD0yOCxcbiAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udCxcbiAgICAgICAgICAgIGRyb3Bkb3duX2ZvbnQ9ZHJvcGRvd25fZm9udFxuICAgICAgICApXG4uLi5cbiAgICAgICAgc2VsZi5kZXNlbGVjdF9hbGxfYnV0dG9uLmdyaWQocm93PTAsIGNvbHVtbj0xLCBwYWR4PTIsIHBhZHk9Mywgc3RpY2t5PVwiZXdcIilcblxuICAgICAgICAjIEFkZCBzZWxlY3QgY29tbW9uIGNoYW5uZWxzIGJ1dHRvblxuICAgICAgICBzZWxmLnNlbGVjdF9jb21tb25fYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgICAgICAgICAgIHNlbGYuY2hhbm5lbF9idXR0b25zX2ZyYW1lLFxuICAgICAgICAgICAgdGV4dD1cIkNvbW1vbiBDaGFubmVsc1wiLFxuICAgICAgICAgICAgY29tbWFuZD1zZWxmLnNlbGVjdF9jb21tb25fY2hhbm5lbHMsXG4gICAgICAgICAgICBoZWlnaHQ9MjIsXG4gICAgICAgICAgICBmb250PWJ1dHRvbl9mb250XG4gICAgICAgIClcbiAgICAgICAgc2VsZi5zZWxlY3RfY29tbW9uX2J1dHRvbi5ncmlkKHJvdz0wLCBjb2x1bW49MiwgcGFkeD0yLCBwYWR5PTMsIHN0aWNreT1cImV3XCIpXG5cbiAgICAgICAgIyBDcmVhdGUgYSBzY3JvbGxhYmxlIGZyYW1lIGZvciBjaGFubmVsIGNoZWNrYm94ZXMgLSBpbmNyZWFzZWQgaGVpZ2h0IGZvciBiZXR0ZXIgdXNhYmlsaXR5XG4gICAgICAgIHNlbGYuY2hhbm5lbHNfZnJhbWUgPSBjdGsuQ1RrU2Nyb2xsYWJsZUZyYW1lKHNlbGYsIHdpZHRoPTE4MCwgaGVpZ2h0PTIwMClcbiAgICAgICAgc2VsZi5jaGFubmVsc19mcmFtZS5ncmlkKHJvdz00LCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PSgwLCA4KSwgc3RpY2t5PVwiZXdcIilcblxuICAgICAgICAjIEJpbmQgbW91c2Ugd2hlZWwgZXZlbnRzIHRvIGVuc3VyZSBzY3JvbGxpbmcgd29ya3MgcHJvcGVybHlcbiAgICAgICAgc2VsZi5iaW5kX21vdXNlX3doZWVsKHNlbGYuY2hhbm5lbHNfZnJhbWUpXG5cbiAgICAgICAgc2VsZi5jaGFubmVsX3ZhcnMgPSB7fSAgIyBXaWxsIGhvbGQgdGhlIGNoZWNrYm94IHZhcmlhYmxlc1xuLi4uXG4gICAgICAgIHNlbGYuZW5kX3RpbWVfZW50cnkuZ3JpZChyb3c9MCwgY29sdW1uPTMsIHBhZHg9NSwgcGFkeT01LCBzdGlja3k9XCJld1wiKVxuXG4gICAgICAgICMgUmVzZXQgem9vbSBidXR0b25cbiAgICAgICAgc2VsZi5yZXNldF96b29tX2J1dHRvbiA9IGN0ay5DVGtCdXR0b24oXG4gICAgICAgICAgICBzZWxmLFxuICAgICAgICAgICAgdGV4dD1cIlJlc2V0IFpvb21cIixcbiAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi5yZXNldF90aW1lX3dpbmRvdyxcbiAgICAgICAgICAgIGhlaWdodD0yNSxcbiAgICAgICAgICAgIGZvbnQ9ZHJvcGRvd25fZm9udFxuICAgICAgICApXG4gICAgICAgIHNlbGYucmVzZXRfem9vbV9idXR0b24uZ3JpZChyb3c9NywgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0oNSwgMCksIHN0aWNreT1cImV3XCIpXG5cbiAgICAgICAgIyBVcGRhdGUgYnV0dG9uIC0gbW9yZSBjb21wYWN0XG4gICAgICAgIHNlbGYudXBkYXRlX2J1dHRvbiA9IGN0ay5DVGtCdXR0b24oXG4gICAgICAgICAgICBzZWxmLFxuICAgICAgICAgICAgdGV4dD1cIlVwZGF0ZSBQbG90XCIsXG4gICAgICAgICAgICBjb21tYW5kPXNlbGYudXBkYXRlX3Bsb3QsXG4gICAgICAgICAgICBoZWlnaHQ9MzAsXG4gICAgICAgICAgICBmb250PWdldF9idXR0b25fZm9udCgpXG4gICAgICAgIClcbiAgICAgICAgc2VsZi51cGRhdGVfYnV0dG9uLmdyaWQocm93PTcsIGNvbHVtbj0xLCBwYWR4PTUsIHBhZHk9KDUsIDApLCBzdGlja3k9XCJld1wiKVxuXG4gICAgICAgICMgVmlldyBFRUcgYnV0dG9uXG4gICAgICAgIHNlbGYudmlld19lZWdfYnV0dG9uID0gY3RrLkNUa0J1dHRvbihcbiAgICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgICB0ZXh0PVwiVmlldyBFRUdcIixcbiAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi52aWV3X2VlZyxcbiAgICAgICAgICAgIGhlaWdodD0zMCxcbiAgICAgICAgICAgIGZvbnQ9Z2V0X2J1dHRvbl9mb250KCksXG4gICAgICAgICAgICBmZ19jb2xvcj1cIiMyYTYwOTlcIiAgIyBEaWZmZXJlbnQgY29sb3IgdG8gZGlzdGluZ3Vpc2ggaXRcbiAgICAgICAgKVxuLi4uXG5cbiAgICBkZWYgb25fZXhwZXJpbWVudF9zZWxlY3RlZChzZWxmLCBzZWxlY3Rpb246IHN0cik6XG4gICAgICAgIFwiXCJcIlxuICAgICAgICBIYW5kbGUgZXhwZXJpbWVudCBzZWxlY3Rpb24gY2hhbmdlLlxuXG4gICAgICAgIEFyZ3M6XG4gICAgICAgICAgICBzZWxlY3Rpb246IFNlbGVjdGVkIGV4cGVyaW1lbnQgbmFtZVxuICAgICAgICBcIlwiXCJcbiAgICAgICAgIyBGaW5kIHRoZSBzZWxlY3RlZCBleHBlcmltZW50XG4gICAgICAgIHNlbGVjdGVkX2V4cCA9IE5vbmVcbiAgICAgICAgZm9yIGV4cCBpbiBzZWxmLmV4cGVyaW1lbnRzOlxuICAgICAgICAgICAgaWYgZlwie2V4cFsnbmFtZSddfSAoe2V4cFsncnVuX25hbWUnXX0pXCIgPT0gc2VsZWN0aW9uOlxuICAgICAgICAgICAgICAgIHNlbGVjdGVkX2V4cCA9IGV4cFxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgaWYgbm90IHNlbGVjdGVkX2V4cDpcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgICMgVXBkYXRlIEVFRyBkcm9wZG93blxuICAgICAgICBzZWxmLmN1cnJlbnRfZXhwZXJpbWVudF9pZCA9IHNlbGVjdGVkX2V4cFsnaWQnXVxuICAgICAgICBlZWdzID0gc2VsZi5kYl9oYW5kbGVyLmdldF9lZWdzX2Zvcl9leHBlcmltZW50KHNlbGYuY3VycmVudF9leHBlcmltZW50X2lkKVxuICAgICAgICBlZWdfbmFtZXMgPSBbZWVnWydmaWxlbmFtZSddIGZvciBlZWcgaW4gZWVnc11cblxuICAgICAgICBzZWxmLmVlZ3MgPSBlZWdzXG4gICAgICAgIHNlbGYuZWVnX2Ryb3Bkb3duLmNvbmZpZ3VyZSh2YWx1ZXM9ZWVnX25hbWVzKVxuICAgICAgICBpZiBlZWdfbmFtZXM6XG4gICAgICAgICAgICBzZWxmLmVlZ192YXIuc2V0KGVlZ19uYW1lc1swXSlcbiAgICAgICAgICAgIHNlbGYub25fZWVnX3NlbGVjdGVkKGVlZ19uYW1lc1swXSlcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgIHNlbGYuZWVnX3Zhci5zZXQoXCJcIilcbiAgICAgICAgICAgIHNlbGYuY2xlYXJfbWV0cmljcygpXG4gICAgICAgICAgICBzZWxmLmNsZWFyX2NoYW5uZWxzKClcbi4uLlxuXG4gICAgZGVmIHVwZGF0ZV9jaGFubmVsc19jaGVja2JveGVzKHNlbGYpOlxuICAgICAgICBcIlwiXCJVcGRhdGUgdGhlIGNoYW5uZWwgY2hlY2tib3hlcyBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgZXhwZXJpbWVudCBhbmQgRUVHLlwiXCJcIlxuICAgICAgICAjIENsZWFyIGV4aXN0aW5nIGNoZWNrYm94ZXNcbiAgICAgICAgc2VsZi5jbGVhcl9jaGFubmVscygpXG5cbiAgICAgICAgIyBHZXQgYXZhaWxhYmxlIGNoYW5uZWxzXG4gICAgICAgIHNlbGYuYXZhaWxhYmxlX2NoYW5uZWxzID0gc2VsZi5kYl9oYW5kbGVyLmdldF9hdmFpbGFibGVfY2hhbm5lbHMoc2VsZi5jdXJyZW50X2V4cGVyaW1lbnRfaWQsIHNlbGYuY3VycmVudF9lZWdfaWQpXG5cbiAgICAgICAgIyBBZGQgYSBzZWFyY2ggZW50cnkgYXQgdGhlIHRvcCBvZiB0aGUgY2hhbm5lbHMgZnJhbWVcbiAgICAgICAgc2VsZi5zZWFyY2hfdmFyID0gY3RrLlN0cmluZ1ZhcigpXG4gICAgICAgIHNlbGYuc2VhcmNoX3Zhci50cmFjZV9hZGQoXCJ3cml0ZVwiLCBzZWxmLmZpbHRlcl9jaGFubmVscylcblxuICAgICAgICBzZWxmLnNlYXJjaF9mcmFtZSA9IGN0ay5DVGtGcmFtZShzZWxmLmNoYW5uZWxzX2ZyYW1lKVxuICAgICAgICBzZWxmLnNlYXJjaF9mcmFtZS5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTUsIHN0aWNreT1cImV3XCIpXG4gICAgICAgIHNlbGYuc2VhcmNoX2ZyYW1lLmdyaWRfY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKVxuXG4gICAgICAgIHNlbGYuc2VhcmNoX2VudHJ5ID0gY3RrLkNUa0VudHJ5KFxuICAgICAgICAgICAgc2VsZi5zZWFyY2hfZnJhbWUsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcl90ZXh0PVwiU2VhcmNoIGNoYW5uZWxzLi4uXCIsXG4gICAgICAgICAgICB0ZXh0dmFyaWFibGU9c2VsZi5zZWFyY2hfdmFyLFxuICAgICAgICAgICAgaGVpZ2h0PTI1LFxuICAgICAgICAgICAgZm9udD1nZXRfZHJvcGRvd25fZm9udCgpXG4gICAgICAgIClcbiAgICAgICAgc2VsZi5zZWFyY2hfZW50cnkuZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT0zLCBzdGlja3k9XCJld1wiKVxuXG4gICAgICAgICMgQ3JlYXRlIHRoZSBjaGFubmVscyBjb250YWluZXIgZnJhbWVcbiAgICAgICAgc2VsZi5jaGFubmVsc19jb250YWluZXIgPSBjdGsuQ1RrRnJhbWUoc2VsZi5jaGFubmVsc19mcmFtZSwgZmdfY29sb3I9XCJ0cmFuc3BhcmVudFwiKVxuICAgICAgICBzZWxmLmNoYW5uZWxzX2NvbnRhaW5lci5ncmlkKHJvdz0xLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTUsIHN0aWNreT1cImV3XCIpXG5cbiAgICAgICAgIyBEaXNwbGF5IGFsbCBjaGFubmVscyBpbml0aWFsbHlcbiAgICAgICAgc2VsZi5kaXNwbGF5X2NoYW5uZWxzKHNlbGYuYXZhaWxhYmxlX2NoYW5uZWxzKVxuLi4uXG5cbiAgICAgICAgIyBDcmVhdGUgYSBjaGVja2JveCBmb3IgZWFjaCBjaGFubmVsXG4gICAgICAgIGZvciBpLCBjaGFubmVsIGluIGVudW1lcmF0ZShzb3J0ZWRfY2hhbm5lbHMpOlxuICAgICAgICAgICAgdmFyID0gc2VsZi5jaGFubmVsX3ZhcnMuZ2V0KGNoYW5uZWwsIGN0ay5Cb29sZWFuVmFyKHZhbHVlPUZhbHNlKSlcbiAgICAgICAgICAgIHNlbGYuY2hhbm5lbF92YXJzW2NoYW5uZWxdID0gdmFyXG5cbiAgICAgICAgICAgICMgQ3JlYXRlIG1vcmUgY29tcGFjdCBjaGVja2JveGVzXG4gICAgICAgICAgICBjaGVja2JveCA9IGN0ay5DVGtDaGVja0JveChcbiAgICAgICAgICAgICAgICBzZWxmLmNoYW5uZWxzX2NvbnRhaW5lcixcbiAgICAgICAgICAgICAgICB0ZXh0PWNoYW5uZWwsXG4gICAgICAgICAgICAgICAgdmFyaWFibGU9dmFyLFxuICAgICAgICAgICAgICAgIG9udmFsdWU9VHJ1ZSxcbiAgICAgICAgICAgICAgICBvZmZ2YWx1ZT1GYWxzZSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ9MjAsXG4gICAgICAgICAgICAgICAgZm9udD1nZXRfZHJvcGRvd25fZm9udCgpLFxuICAgICAgICAgICAgICAgIGNoZWNrYm94X3dpZHRoPTE2LFxuICAgICAgICAgICAgICAgIGNoZWNrYm94X2hlaWdodD0xNlxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgY2hlY2tib3guZ3JpZChyb3c9aSwgY29sdW1uPTAsIHBhZHg9OCwgcGFkeT0zLCBzdGlja3k9XCJ3XCIpXG5cbiAgICAgICAgICAgICMgQmluZCBtb3VzZSB3aGVlbCBldmVudCB0byBlYWNoIGNoZWNrYm94IGZvciBiZXR0ZXIgc2Nyb2xsaW5nXG4gICAgICAgICAgICBjaGVja2JveC5iaW5kKFwiPE1vdXNlV2hlZWw+XCIsIGxhbWJkYSBldmVudCwgdz1zZWxmLmNoYW5uZWxzX2ZyYW1lOiBzZWxmLl9vbl9tb3VzZV93aGVlbChldmVudCwgdykpXG4gICAgICAgICAgICBjaGVja2JveC5iaW5kKFwiPEJ1dHRvbi00PlwiLCBsYW1iZGEgZXZlbnQsIHc9c2VsZi5jaGFubmVsc19mcmFtZTogc2VsZi5fb25fbW91c2Vfd2hlZWwoZXZlbnQsIHcpKVxuICAgICAgICAgICAgY2hlY2tib3guYmluZChcIjxCdXR0b24tNT5cIiwgbGFtYmRhIGV2ZW50LCB3PXNlbGYuY2hhbm5lbHNfZnJhbWU6IHNlbGYuX29uX21vdXNlX3doZWVsKGV2ZW50LCB3KSlcblxuICAgIGRlZiBmaWx0ZXJfY2hhbm5lbHMoc2VsZiwgKmFyZ3MpOlxuICAgICAgICBcIlwiXCJGaWx0ZXIgY2hhbm5lbHMgYmFzZWQgb24gc2VhcmNoIHRleHQuXCJcIlwiXG4gICAgICAgIHNlYXJjaF90ZXh0ID0gc2VsZi5zZWFyY2hfdmFyLmdldCgpLmxvd2VyKClcblxuICAgICAgICBpZiBub3Qgc2VhcmNoX3RleHQ6XG4gICAgICAgICAgICAjIElmIHNlYXJjaCBpcyBlbXB0eSwgc2hvdyBhbGwgY2hhbm5lbHNcbiAgICAgICAgICAgIGZpbHRlcmVkX2NoYW5uZWxzID0gc2VsZi5hdmFpbGFibGVfY2hhbm5lbHNcbiAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICMgRmlsdGVyIGNoYW5uZWxzIHRoYXQgY29udGFpbiB0aGUgc2VhcmNoIHRleHRcbiAgICAgICAgICAgIGZpbHRlcmVkX2NoYW5uZWxzID0gW2NoIGZvciBjaCBpbiBzZWxmLmF2YWlsYWJsZV9jaGFubmVscyBpZiBzZWFyY2hfdGV4dCBpbiBjaC5sb3dlcigpXVxuXG4gICAgICAgICAgICAjIFNvcnQgdGhlIGZpbHRlcmVkIGNoYW5uZWxzIGFscGhhYmV0aWNhbGx5XG4gICAgICAgICAgICBmaWx0ZXJlZF9jaGFubmVscy5zb3J0KClcblxuICAgICAgICAjIFVwZGF0ZSB0aGUgZGlzcGxheWVkIGNoYW5uZWxzXG4gICAgICAgIHNlbGYuZGlzcGxheV9jaGFubmVscyhmaWx0ZXJlZF9jaGFubmVscylcblxuICAgIGRlZiBiaW5kX21vdXNlX3doZWVsKHNlbGYsIHdpZGdldCk6XG4gICAgICAgIFwiXCJcIlxuICAgICAgICBCaW5kIG1vdXNlIHdoZWVsIGV2ZW50cyB0byB0aGUgd2lkZ2V0IGZvciBzY3JvbGxpbmcuXG5cbiAgICAgICAgQXJnczpcbiAgICAgICAgICAgIHdpZGdldDogVGhlIHdpZGdldCB0byBiaW5kIG1vdXNlIHdoZWVsIGV2ZW50cyB0b1xuICAgICAgICBcIlwiXCJcbiAgICAgICAgIyBCaW5kIGZvciBXaW5kb3dzIGFuZCBMaW51eCAod2l0aCBtb3VzZSB3aGVlbClcbiAgICAgICAgd2lkZ2V0LmJpbmRfYWxsKFwiPE1vdXNlV2hlZWw+XCIsIGxhbWJkYSBldmVudDogc2VsZi5fb25fbW91c2Vfd2hlZWwoZXZlbnQsIHdpZGdldCkpXG4gICAgICAgICMgQmluZCBmb3IgTGludXggKHdpdGggdG91Y2hwYWQpXG4gICAgICAgIHdpZGdldC5iaW5kX2FsbChcIjxCdXR0b24tND5cIiwgbGFtYmRhIGV2ZW50OiBzZWxmLl9vbl9tb3VzZV93aGVlbChldmVudCwgd2lkZ2V0KSlcbiAgICAgICAgd2lkZ2V0LmJpbmRfYWxsKFwiPEJ1dHRvbi01PlwiLCBsYW1iZGEgZXZlbnQ6IHNlbGYuX29uX21vdXNlX3doZWVsKGV2ZW50LCB3aWRnZXQpKVxuXG4gICAgZGVmIF9vbl9tb3VzZV93aGVlbChzZWxmLCBldmVudCwgd2lkZ2V0KTpcbiAgICAgICAgXCJcIlwiXG4gICAgICAgIEhhbmRsZSBtb3VzZSB3aGVlbCBldmVudHMgZm9yIHNjcm9sbGluZy5cblxuICAgICAgICBBcmdzOlxuICAgICAgICAgICAgZXZlbnQ6IFRoZSBtb3VzZSB3aGVlbCBldmVudFxuICAgICAgICAgICAgd2lkZ2V0OiBUaGUgd2lkZ2V0IHRvIHNjcm9sbFxuICAgICAgICBcIlwiXCJcbiAgICAgICAgIyBHZXQgdGhlIHdpZGdldCB1bmRlciB0aGUgY3Vyc29yXG4gICAgICAgIHgsIHkgPSBldmVudC54X3Jvb3QsIGV2ZW50Lnlfcm9vdFxuICAgICAgICB0YXJnZXRfd2lkZ2V0ID0gZXZlbnQud2lkZ2V0LndpbmZvX2NvbnRhaW5pbmcoeCwgeSlcblxuICAgICAgICAjIENoZWNrIGlmIHRoZSBjdXJzb3IgaXMgb3ZlciBvdXIgc2Nyb2xsYWJsZSBmcmFtZSBvciBpdHMgY2hpbGRyZW5cbiAgICAgICAgcGFyZW50ID0gdGFyZ2V0X3dpZGdldFxuICAgICAgICB3aGlsZSBwYXJlbnQgaXMgbm90IE5vbmU6XG4gICAgICAgICAgICBpZiBwYXJlbnQgPT0gd2lkZ2V0IG9yIHBhcmVudCA9PSBzZWxmLmNoYW5uZWxzX2NvbnRhaW5lcjpcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50Lm1hc3RlclxuXG4gICAgICAgICMgSWYgY3Vyc29yIGlzIG5vdCBvdmVyIG91ciBzY3JvbGxhYmxlIGFyZWEsIGRvbid0IHNjcm9sbFxuICAgICAgICBpZiBwYXJlbnQgaXMgTm9uZTpcbiAgICAgICAgICAgIHJldHVyblxuLi4uXG5cbiAgICBkZWYgZGVzZWxlY3RfYWxsX2NoYW5uZWxzKHNlbGYpOlxuICAgICAgICBcIlwiXCJEZXNlbGVjdCBhbGwgY2hhbm5lbCBjaGVja2JveGVzLlwiXCJcIlxuICAgICAgICBmb3IgdmFyIGluIHNlbGYuY2hhbm5lbF92YXJzLnZhbHVlcygpOlxuICAgICAgICAgICAgdmFyLnNldChGYWxzZSlcblxuICAgIGRlZiBzZWxlY3RfY29tbW9uX2NoYW5uZWxzKHNlbGYpOlxuICAgICAgICBcIlwiXCJTZWxlY3QgY29tbW9uIEVFRyBjaGFubmVscyAoMTAtMjAgc3lzdGVtKS5cIlwiXCJcbiAgICAgICAgIyBGaXJzdCBkZXNlbGVjdCBhbGxcbiAgICAgICAgc2VsZi5kZXNlbGVjdF9hbGxfY2hhbm5lbHMoKVxuXG4gICAgICAgICMgU2VsZWN0IHRoZSBjaGFubmVscyBpZiB0aGV5IGV4aXN0IGluIG91ciBhdmFpbGFibGUgY2hhbm5lbHNcbiAgICAgICAgZm9yIGNoYW5uZWwgaW4gQ09NTU9OX0NIQU5ORUxTOlxuICAgICAgICAgICAgaWYgY2hhbm5lbCBpbiBzZWxmLmNoYW5uZWxfdmFyczpcbiAgICAgICAgICAgICAgICBzZWxmLmNoYW5uZWxfdmFyc1tjaGFubmVsXS5zZXQoVHJ1ZSlcbiAgICAgICAgICAgICMgVHJ5IGFsdGVybmF0aXZlIG5hbWUgaWYgdGhlIGNoYW5uZWwgZG9lc24ndCBleGlzdFxuICAgICAgICAgICAgZWxpZiBjaGFubmVsIGluIEFMVEVSTkFUSVZFX0NIQU5ORUxfTkFNRVMgYW5kIEFMVEVSTkFUSVZFX0NIQU5ORUxfTkFNRVNbY2hhbm5lbF0gaW4gc2VsZi5jaGFubmVsX3ZhcnM6XG4gICAgICAgICAgICAgICAgc2VsZi5jaGFubmVsX3ZhcnNbQUxURVJOQVRJVkVfQ0hBTk5FTF9OQU1FU1tjaGFubmVsXV0uc2V0KFRydWUpXG5cbiAgICAgICAgIyBJZiB3ZSBoYXZlIGEgc2VhcmNoIGZpbHRlciBhY3RpdmUsIHVwZGF0ZSB0aGUgZGlzcGxheVxuICAgICAgICBpZiBoYXNhdHRyKHNlbGYsICdzZWFyY2hfdmFyJyk6XG4gICAgICAgICAgICBzZWxmLmZpbHRlcl9jaGFubmVscygpXG4uLi5cblxuICAgIGRlZiB2aWV3X2VlZyhzZWxmKTpcbiAgICAgICAgXCJcIlwiT3BlbiB0aGUgY3VycmVudCBFRUcgZmlsZSB3aXRoIE1ORSBhbmQgZGlzcGxheSBpdCBpbiBhIG5ldyB3aW5kb3cuXCJcIlwiXG4gICAgICAgIGlmIG5vdCBoYXNhdHRyKHNlbGYsICdjdXJyZW50X2V4cGVyaW1lbnRfaWQnKSBvciBub3QgaGFzYXR0cihzZWxmLCAnY3VycmVudF9lZWdfaWQnKTpcbiAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2luZm8oXCJObyBFRUcgU2VsZWN0ZWRcIiwgXCJQbGVhc2Ugc2VsZWN0IGFuIGV4cGVyaW1lbnQgYW5kIEVFRyBmaWxlIGZpcnN0LlwiKVxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgIyBGaW5kIHRoZSBzZWxlY3RlZCBFRUcgdG8gZ2V0IGl0cyBmaWxlcGF0aFxuICAgICAgICBzZWxlY3RlZF9lZWcgPSBOb25lXG4gICAgICAgIGZvciBlZWcgaW4gc2VsZi5lZWdzOlxuICAgICAgICAgICAgaWYgZWVnWydpZCddID09IHNlbGYuY3VycmVudF9lZWdfaWQ6XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRfZWVnID0gZWVnXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICBpZiBub3Qgc2VsZWN0ZWRfZWVnIG9yIG5vdCBzZWxlY3RlZF9lZWcuZ2V0KCdmaWxlcGF0aCcpOlxuICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoXCJFcnJvclwiLCBcIkNvdWxkIG5vdCBmaW5kIHRoZSBFRUcgZmlsZSBwYXRoLlwiKVxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgZWVnX2ZpbGVwYXRoID0gc2VsZWN0ZWRfZWVnWydmaWxlcGF0aCddXG5cbiAgICAgICAgIyBDaGVjayBpZiB0aGUgZmlsZSBleGlzdHNcbiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKGVlZ19maWxlcGF0aCk6XG4gICAgICAgICAgICBtZXNzYWdlYm94LnNob3dlcnJvcihcIkZpbGUgTm90IEZvdW5kXCIsIGZcIlRoZSBFRUcgZmlsZSB3YXMgbm90IGZvdW5kIGF0OlxcbntlZWdfZmlsZXBhdGh9XCIpXG4gICAgICAgICAgICByZXR1cm5cbi4uLlxuXG4gICAgICAgICMgVHJ5IHRvIGxvYWQgdGhlIEVFRyBmaWxlIHdpdGggTU5FXG4gICAgICAgIHRyeTpcbiAgICAgICAgICAgICMgIyBTaG93IGEgbG9hZGluZyBtZXNzYWdlXG4gICAgICAgICAgICAjIHNlbGYubG9hZGluZ193aW5kb3cgPSB0ay5Ub3BsZXZlbChzZWxmKVxuICAgICAgICAgICAgIyBzZWxmLmxvYWRpbmdfd2luZG93LnRpdGxlKFwiTG9hZGluZyBFRUdcIilcbiAgICAgICAgICAgICMgc2VsZi5sb2FkaW5nX3dpbmRvdy5nZW9tZXRyeShcIjMwMHgxMDBcIilcbiAgICAgICAgICAgICMgc2VsZi5sb2FkaW5nX3dpbmRvdy50cmFuc2llbnQoc2VsZi5tYXN0ZXIpXG4gICAgICAgICAgICAjIHNlbGYubG9hZGluZ193aW5kb3cuZ3JhYl9zZXQoKVxuICAgICAgICAgICAgI1xuICAgICAgICAgICAgIyBsb2FkaW5nX2xhYmVsID0gdGsuTGFiZWwoc2VsZi5sb2FkaW5nX3dpbmRvdywgdGV4dD1cIkxvYWRpbmcgRUVHIGZpbGUuLi5cXG5UaGlzIG1heSB0YWtlIGEgbW9tZW50LlwiKVxuICAgICAgICAgICAgIyBsb2FkaW5nX2xhYmVsLnBhY2soZXhwYW5kPVRydWUsIGZpbGw9dGsuQk9USCwgcGFkeD0yMCwgcGFkeT0yMClcbiAgICAgICAgICAgICNcbiAgICAgICAgICAgICMgc2VsZi5sb2FkaW5nX3dpbmRvdy51cGRhdGUoKVxuXG4gICAgICAgICAgICAjIExvYWQgdGhlIEVFRyBmaWxlIC0gdHJ5IGRpZmZlcmVudCByZWFkZXJzIGJhc2VkIG9uIGZpbGUgZXh0ZW5zaW9uXG4gICAgICAgICAgICBmaWxlX2V4dCA9IG9zLnBhdGguc3BsaXRleHQoZWVnX2ZpbGVwYXRoKVsxXS5sb3dlcigpXG5cbiAgICAgICAgICAgIGlmIGZpbGVfZXh0ID09ICcuZWRmJzpcbiAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXdfZWRmKGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxuICAgICAgICAgICAgZWxpZiBmaWxlX2V4dCA9PSAnLmJkZic6XG4gICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3X2JkZihlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcbiAgICAgICAgICAgIGVsaWYgZmlsZV9leHQgPT0gJy5nZGYnOlxuICAgICAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3Jhd19nZGYoZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXG4gICAgICAgICAgICBlbGlmIGZpbGVfZXh0IGluIFsnLnZoZHInLCAnLnZtcmsnLCAnLmVlZyddOlxuICAgICAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3Jhd19icmFpbnZpc2lvbihlZWdfZmlsZXBhdGgsIHByZWxvYWQ9VHJ1ZSlcbiAgICAgICAgICAgIGVsaWYgZmlsZV9leHQgPT0gJy5jbnQnOlxuICAgICAgICAgICAgICAgIHJhdyA9IG1uZS5pby5yZWFkX3Jhd19jbnQoZWVnX2ZpbGVwYXRoLCBwcmVsb2FkPVRydWUpXG4gICAgICAgICAgICBlbGlmIGZpbGVfZXh0ID09ICcuc2V0JzpcbiAgICAgICAgICAgICAgICByYXcgPSBtbmUuaW8ucmVhZF9yYXdfZWVnbGFiKGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxuICAgICAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICAgICAjIFRyeSB0aGUgZ2VuZXJpYyByZWFkZXIgYXMgYSBmYWxsYmFja1xuICAgICAgICAgICAgICAgIHRyeTpcbiAgICAgICAgICAgICAgICAgICAgcmF3ID0gbW5lLmlvLnJlYWRfcmF3KGVlZ19maWxlcGF0aCwgcHJlbG9hZD1UcnVlKVxuICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcbiAgICAgICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmXCJVbnN1cHBvcnRlZCBmaWxlIGZvcm1hdDoge2ZpbGVfZXh0fS4gRXJyb3I6IHtzdHIoZSl9XCIpXG5cbiAgICAgICAgICAgICMgQ2xvc2UgdGhlIGxvYWRpbmcgd2luZG93XG4gICAgICAgICAgICAjIHNlbGYubG9hZGluZ193aW5kb3cuZGVzdHJveSgpXG5cbiAgICAgICAgICAgICMgU2V0IHRoZSB0aW1lIHdpbmRvdyBpZiBzcGVjaWZpZWRcbiAgICAgICAgICAgIGlmIHN0YXJ0X3RpbWUgaXMgbm90IE5vbmUgYW5kIGVuZF90aW1lIGlzIG5vdCBOb25lOlxuICAgICAgICAgICAgICAgICMgQ29udmVydCBmcm9tIHNlY29uZHMgdG8gcG9pbnRzIGlmIG5lZWRlZFxuICAgICAgICAgICAgICAgIHN0YXJ0X2lkeCA9IG1heCgwLCBpbnQoc3RhcnRfdGltZSAqIHJhdy5pbmZvWydzZnJlcSddKSlcbiAgICAgICAgICAgICAgICBlbmRfaWR4ID0gbWluKGxlbihyYXcudGltZXMpLCBpbnQoZW5kX3RpbWUgKiByYXcuaW5mb1snc2ZyZXEnXSkpXG5cbiAgICAgICAgICAgICAgICAjIENyZWF0ZSBhIHBsb3Qgd2l0aCB0aGUgc3BlY2lmaWVkIHRpbWUgd2luZG93XG4gICAgICAgICAgICAgICAgcmF3LnBsb3Qoc3RhcnQ9c3RhcnRfdGltZSwgZHVyYXRpb249KGVuZF9pZHgtc3RhcnRfaWR4KS9yYXcuaW5mb1snc2ZyZXEnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxpbmdzPSdhdXRvJywgYmxvY2s9VHJ1ZSwgc2hvdz1UcnVlKVxuXG4gICAgICAgICAgICAgICAgIyAjIFNldCB0aGUgd2luZG93IHRpdGxlIHRvIGluY2x1ZGUgdGhlIEVFRyBmaWxlbmFtZVxuICAgICAgICAgICAgICAgICMgZmlnLmNhbnZhcy5tYW5hZ2VyLnNldF93aW5kb3dfdGl0bGUoZlwiTU5FIEVFRyBWaWV3ZXIgLSB7c2VsZWN0ZWRfZWVnWydmaWxlbmFtZSddfVwiKVxuICAgICAgICAgICAgICAgICNcbiAgICAgICAgICAgICAgICAjICMgU2hvdyB0aGUgcGxvdFxuICAgICAgICAgICAgICAgICMgZmlnLnNob3coKVxuICAgICAgICAgICAgZWxzZTpcbiAgICAgICAgICAgICAgICAjIEp1c3Qgc2hvdyB0aGUgd2hvbGUgRUVHXG4gICAgICAgICAgICAgICAgcmF3LnBsb3Qoc2NhbGluZ3M9J2F1dG8nLCBibG9jaz1UcnVlLCBzaG93PVRydWUpXG4gICAgICAgICAgICAgICAgIyBmaWcuY2FudmFzLm1hbmFnZXIuc2V0X3dpbmRvd190aXRsZShmXCJNTkUgRUVHIFZpZXdlciAtIHtzZWxlY3RlZF9lZWdbJ2ZpbGVuYW1lJ119XCIpXG4gICAgICAgICAgICAgICAgIyBmaWcuc2hvdygpXG5cbiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxuICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoXCJFcnJvclwiLCBmXCJGYWlsZWQgdG8gb3BlbiB0aGUgRUVHIGZpbGUgd2l0aCBNTkU6XFxue3N0cihlKX1cIilcbiAgICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ2xvYWRpbmdfd2luZG93JykgYW5kIHNlbGYubG9hZGluZ193aW5kb3cud2luZm9fZXhpc3RzKCk6XG4gICAgICAgICAgICAgICAgc2VsZi5sb2FkaW5nX3dpbmRvdy5kZXN0cm95KClcblxuICAgIGRlZiB1cGRhdGVfcGxvdChzZWxmKTpcbiAgICAgICAgXCJcIlwiVXBkYXRlIHRoZSBwbG90IHdpdGggdGhlIHNlbGVjdGVkIG1ldHJpYyBhbmQgY2hhbm5lbHMuXCJcIlwiXG4gICAgICAgIGlmIG5vdCBoYXNhdHRyKHNlbGYsICdjdXJyZW50X2V4cGVyaW1lbnRfaWQnKSBvciBub3QgaGFzYXR0cihzZWxmLCAnY3VycmVudF9lZWdfaWQnKSBvciBub3Qgc2VsZi5jdXJyZW50X21ldHJpYzpcbiAgICAgICAgICAgIHJldHVyblxuLi4uXG5cbiAgICAgICAgIyBHZXQgZGF0YSBmb3IgdGhlIHNlbGVjdGVkIGV4cGVyaW1lbnQgYW5kIEVFR1xuICAgICAgICBkZiA9IHNlbGYuZGJfaGFuZGxlci5nZXRfbWV0cmljc19kYXRhKHNlbGYuY3VycmVudF9leHBlcmltZW50X2lkLCBzZWxmLmN1cnJlbnRfZWVnX2lkKVxuXG4gICAgICAgIGlmIGRmLmVtcHR5OlxuICAgICAgICAgICAgc2VsZi5wbG90X2ZyYW1lLnVwZGF0ZV9wbG90KE5vbmUsIE5vbmUsIE5vbmUsIFwiTm8gZGF0YSBhdmFpbGFibGVcIilcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgICMgR2V0IHRpbWUgd2luZG93IHZhbHVlc1xuICAgICAgICB0cnk6XG4gICAgICAgICAgICBzdGFydF90aW1lID0gZmxvYXQoc2VsZi5zdGFydF90aW1lX3Zhci5nZXQoKSkgaWYgc2VsZi5zdGFydF90aW1lX3Zhci5nZXQoKSBlbHNlIE5vbmVcbiAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6XG4gICAgICAgICAgICBzdGFydF90aW1lID0gTm9uZVxuICAgICAgICAgICAgc2VsZi5zdGFydF90aW1lX3Zhci5zZXQoXCIwXCIpXG5cbiAgICAgICAgdHJ5OlxuICAgICAgICAgICAgZW5kX3RpbWUgPSBmbG9hdChzZWxmLmVuZF90aW1lX3Zhci5nZXQoKSkgaWYgc2VsZi5lbmRfdGltZV92YXIuZ2V0KCkgZWxzZSBOb25lXG4gICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOlxuICAgICAgICAgICAgZW5kX3RpbWUgPSBOb25lXG4gICAgICAgICAgICBzZWxmLmVuZF90aW1lX3Zhci5zZXQoXCJcIilcbi4uLlxuXG4gICAgICAgIHNlbGYucGxvdF9mcmFtZS51cGRhdGVfcGxvdChcbiAgICAgICAgICAgIGRmLFxuICAgICAgICAgICAgc2VsZi5jdXJyZW50X21ldHJpYyxcbiAgICAgICAgICAgIHNlbGVjdGVkX2NoYW5uZWxzLFxuICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICB0aW1lX3dpbmRvdz0oc3RhcnRfdGltZSwgZW5kX3RpbWUpLFxuICAgICAgICAgICAgYWdncmVnYXRpb25zPXNlbGVjdGVkX2FnZ3JlZ2F0aW9ucyxcbiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uX29ubHk9YWdncmVnYXRpb25fb25seVxuICAgICAgICApXG4uLi5cblBhdGg6IGd1aS9ydW5fbWV0cmljc192aWV3ZXIucHlcbiMhL3Vzci9iaW4vZW52IHB5dGhvbjNcblwiXCJcIlxuUnVuIHNjcmlwdCBmb3IgdGhlIEVFRyBNZXRyaWNzIFZpZXdlci5cblxuVGhpcyBzY3JpcHQgcHJvdmlkZXMgYSBzaW1wbGUgd2F5IHRvIGxhdW5jaCB0aGUgRUVHIE1ldHJpY3MgVmlld2VyIGFwcGxpY2F0aW9uXG53aXRoIGEgc3BlY2lmaWVkIGRhdGFiYXNlIHBhdGguXG5cblVzYWdlOlxuICAgIHB5dGhvbiBydW5fbWV0cmljc192aWV3ZXIucHkgW3BhdGhfdG9fZGF0YWJhc2VdXG5cbklmIG5vIGRhdGFiYXNlIHBhdGggaXMgcHJvdmlkZWQsIHRoZSBzY3JpcHQgd2lsbCBsb29rIGZvciB0aGUgZGVmYXVsdCBkYXRhYmFzZVxuYXQgXCIuLi9leGFtcGxlL0VFR0FuYWx5emVyLnNxbGl0ZVwiLlxuXCJcIlwiXG5cbmltcG9ydCBvc1xuaW1wb3J0IHN5c1xuaW1wb3J0IGltcG9ydGxpYi51dGlsXG5cbmRlZiBjaGVja19kZXBlbmRlbmNpZXMoKTpcbiAgICBcIlwiXCJDaGVjayBpZiBhbGwgcmVxdWlyZWQgZGVwZW5kZW5jaWVzIGFyZSBpbnN0YWxsZWQuXCJcIlwiXG4gICAgcmVxdWlyZWRfcGFja2FnZXMgPSBbXCJjdXN0b210a2ludGVyXCIsIFwibWF0cGxvdGxpYlwiLCBcIm51bXB5XCIsIFwicGFuZGFzXCIsIFwic3FsYWxjaGVteVwiLCBcIm1uZVwiXVxuICAgIG1pc3NpbmdfcGFja2FnZXMgPSBbXVxuXG4gICAgZm9yIHBhY2thZ2UgaW4gcmVxdWlyZWRfcGFja2FnZXM6XG4gICAgICAgIGlmIGltcG9ydGxpYi51dGlsLmZpbmRfc3BlYyhwYWNrYWdlKSBpcyBOb25lOlxuICAgICAgICAgICAgbWlzc2luZ19wYWNrYWdlcy5hcHBlbmQocGFja2FnZSlcblxuICAgIGlmIG1pc3NpbmdfcGFja2FnZXM6XG4gICAgICAgIHByaW50KFwiVGhlIGZvbGxvd2luZyByZXF1aXJlZCBwYWNrYWdlcyBhcmUgbWlzc2luZzpcIilcbiAgICAgICAgZm9yIHBhY2thZ2UgaW4gbWlzc2luZ19wYWNrYWdlczpcbiAgICAgICAgICAgIHByaW50KGZcIiAgLSB7cGFja2FnZX1cIilcbiAgICAgICAgcHJpbnQoXCJcXG5QbGVhc2UgaW5zdGFsbCB0aGVtIHVzaW5nOlwiKVxuICAgICAgICBwcmludChcIiAgcHl0aG9uIGluc3RhbGxfZGVwZW5kZW5jaWVzLnB5XCIpXG4gICAgICAgIHByaW50KFwib3JcIilcbiAgICAgICAgcHJpbnQoZlwiICBwaXAgaW5zdGFsbCB7JyAnLmpvaW4obWlzc2luZ19wYWNrYWdlcyl9XCIpXG4gICAgICAgIHJldHVybiBGYWxzZVxuXG4gICAgcmV0dXJuIFRydWVcblxuZGVmIG1haW4oKTpcbiAgICBcIlwiXCJSdW4gdGhlIEVFRyBNZXRyaWNzIFZpZXdlciBhcHBsaWNhdGlvbi5cIlwiXCJcbiAgICAjIENoZWNrIGRlcGVuZGVuY2llcyBmaXJzdFxuICAgIGlmIG5vdCBjaGVja19kZXBlbmRlbmNpZXMoKTpcbiAgICAgICAgc3lzLmV4aXQoMSlcblxuICAgICMgSW1wb3J0IEFwcCBvbmx5IGFmdGVyIGNoZWNraW5nIGRlcGVuZGVuY2llc1xuICAgIGZyb20gbWV0cmljc192aWV3ZXIgaW1wb3J0IEFwcFxuXG4gICAgIyBDaGVjayBpZiBhIGRhdGFiYXNlIHBhdGggaXMgcHJvdmlkZWQgYXMgYSBjb21tYW5kLWxpbmUgYXJndW1lbnRcbiAgICBpZiBsZW4oc3lzLmFyZ3YpID4gMTpcbiAgICAgICAgZGJfcGF0aCA9IHN5cy5hcmd2WzFdXG4gICAgZWxzZTpcbiAgICAgICAgIyBEZWZhdWx0IGRhdGFiYXNlIHBhdGhcbiAgICAgICAgZGJfcGF0aCA9IG9zLnBhdGguam9pbihvcy5wYXRoLmRpcm5hbWUob3MucGF0aC5kaXJuYW1lKG9zLnBhdGguYWJzcGF0aChfX2ZpbGVfXykpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZXhhbXBsZVwiLCBcIkVFR0FuYWx5emVyLnNxbGl0ZVwiKVxuXG4gICAgIyBFbnN1cmUgdGhlIGRhdGFiYXNlIGZpbGUgZXhpc3RzXG4gICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKGRiX3BhdGgpOlxuICAgICAgICBwcmludChmXCJFcnJvcjogRGF0YWJhc2UgZmlsZSBub3QgZm91bmQgYXQge2RiX3BhdGh9XCIpXG4gICAgICAgIHByaW50KFwiUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBwYXRoIHRvIHRoZSBFRUdBbmFseXplci5zcWxpdGUgZGF0YWJhc2UuXCIpXG4gICAgICAgIHN5cy5leGl0KDEpXG5cbiAgICBwcmludChmXCJTdGFydGluZyBFRUcgTWV0cmljcyBWaWV3ZXIgd2l0aCBkYXRhYmFzZToge2RiX3BhdGh9XCIpXG5cbiAgICAjIFN0YXJ0IHRoZSBhcHBsaWNhdGlvblxuICAgIGFwcCA9IEFwcChkYl9wYXRoKVxuICAgIGFwcC5tYWlubG9vcCgpXG5cbmlmIF9fbmFtZV9fID09IFwiX19tYWluX19cIjpcbiAgICBtYWluKClcbi4uLlxuUGF0aDogZ3VpL2luc3RhbGxfZGVwZW5kZW5jaWVzLnB5XG4jIS91c3IvYmluL2VudiBweXRob24zXG5cIlwiXCJcblNjcmlwdCB0byBpbnN0YWxsIHRoZSByZXF1aXJlZCBkZXBlbmRlbmNpZXMgZm9yIHRoZSBFRUcgTWV0cmljcyBWaWV3ZXIuXG5cblRoaXMgc2NyaXB0IGNoZWNrcyBpZiB0aGUgcmVxdWlyZWQgcGFja2FnZXMgYXJlIGluc3RhbGxlZCBhbmQgaW5zdGFsbHMgdGhlbSBpZiBuZWVkZWQuXG5cIlwiXCJcblxuaW1wb3J0IHN5c1xuaW1wb3J0IHN1YnByb2Nlc3NcbmltcG9ydCBpbXBvcnRsaWIudXRpbFxuXG5kZWYgY2hlY2tfcGFja2FnZShwYWNrYWdlX25hbWUpOlxuICAgIFwiXCJcIkNoZWNrIGlmIGEgcGFja2FnZSBpcyBpbnN0YWxsZWQuXCJcIlwiXG4gICAgcmV0dXJuIGltcG9ydGxpYi51dGlsLmZpbmRfc3BlYyhwYWNrYWdlX25hbWUpIGlzIG5vdCBOb25lXG5cbmRlZiBpbnN0YWxsX3BhY2thZ2UocGFja2FnZV9uYW1lKTpcbiAgICBcIlwiXCJJbnN0YWxsIGEgcGFja2FnZSB1c2luZyBwaXAuXCJcIlwiXG4gICAgcHJpbnQoZlwiSW5zdGFsbGluZyB7cGFja2FnZV9uYW1lfS4uLlwiKVxuICAgIHN1YnByb2Nlc3MuY2hlY2tfY2FsbChbc3lzLmV4ZWN1dGFibGUsIFwiLW1cIiwgXCJwaXBcIiwgXCJpbnN0YWxsXCIsIHBhY2thZ2VfbmFtZV0pXG4gICAgcHJpbnQoZlwie3BhY2thZ2VfbmFtZX0gaW5zdGFsbGVkIHN1Y2Nlc3NmdWxseS5cIilcblxuZGVmIG1haW4oKTpcbiAgICBcIlwiXCJDaGVjayBhbmQgaW5zdGFsbCByZXF1aXJlZCBwYWNrYWdlcy5cIlwiXCJcbiAgICByZXF1aXJlZF9wYWNrYWdlcyA9IFtcbiAgICAgICAgXCJjdXN0b210a2ludGVyXCIsXG4gICAgICAgIFwibWF0cGxvdGxpYlwiLFxuICAgICAgICBcIm51bXB5XCIsXG4gICAgICAgIFwicGFuZGFzXCIsXG4gICAgICAgIFwic3FsYWxjaGVteVwiLFxuICAgICAgICBcIm1uZVwiXG4gICAgXVxuXG4gICAgbWlzc2luZ19wYWNrYWdlcyA9IFtdXG5cbiAgICAjIENoZWNrIHdoaWNoIHBhY2thZ2VzIGFyZSBtaXNzaW5nXG4gICAgZm9yIHBhY2thZ2UgaW4gcmVxdWlyZWRfcGFja2FnZXM6XG4gICAgICAgIGlmIG5vdCBjaGVja19wYWNrYWdlKHBhY2thZ2UpOlxuICAgICAgICAgICAgbWlzc2luZ19wYWNrYWdlcy5hcHBlbmQocGFja2FnZSlcblxuICAgICMgSW5zdGFsbCBtaXNzaW5nIHBhY2thZ2VzXG4gICAgaWYgbWlzc2luZ19wYWNrYWdlczpcbiAgICAgICAgcHJpbnQoZlwiVGhlIGZvbGxvd2luZyBwYWNrYWdlcyBuZWVkIHRvIGJlIGluc3RhbGxlZDogeycsICcuam9pbihtaXNzaW5nX3BhY2thZ2VzKX1cIilcbiAgICAgICAgdHJ5OlxuICAgICAgICAgICAgZm9yIHBhY2thZ2UgaW4gbWlzc2luZ19wYWNrYWdlczpcbiAgICAgICAgICAgICAgICBpbnN0YWxsX3BhY2thZ2UocGFja2FnZSlcbiAgICAgICAgICAgIHByaW50KFwiQWxsIHJlcXVpcmVkIHBhY2thZ2VzIGhhdmUgYmVlbiBpbnN0YWxsZWQuXCIpXG4gICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcbiAgICAgICAgICAgIHByaW50KGZcIkVycm9yIGluc3RhbGxpbmcgcGFja2FnZXM6IHtlfVwiKVxuICAgICAgICAgICAgcHJpbnQoXCJQbGVhc2UgaW5zdGFsbCB0aGUgcmVxdWlyZWQgcGFja2FnZXMgbWFudWFsbHk6XCIpXG4gICAgICAgICAgICBmb3IgcGFja2FnZSBpbiBtaXNzaW5nX3BhY2thZ2VzOlxuICAgICAgICAgICAgICAgIHByaW50KGZcIiAgcGlwIGluc3RhbGwge3BhY2thZ2V9XCIpXG4gICAgICAgLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiYmI2MTZiNzktMWUxNS00YmU3LThmM2QtNWQwZjI1OGY2MWI0O3Rvb2x1X3ZydHhfMDE2NUxvTnd0ODIxREJqdXk4MUhaU0RkIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjBlZWY3NzllLWVlMDgtNDQyYS05Njc2LTAzNjQyMDNkYTA5Zjt0b29sdV92cnR4XzAxMkhCS0pveVdBRTlMd01TVVlSNmRRSyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIGd1aS9tZXRyaWNzX3ZpZXdlci9zZWxlY3Rpb25fZnJhbWUucHkuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgNFx0VGhpcyBtb2R1bGUgcHJvdmlkZXMgdGhlIFNlbGVjdGlvbkZyYW1lIGNsYXNzIGZvciBzZWxlY3RpbmcgZXhwZXJpbWVudHMsIEVFR3MsXG4gICAgIDVcdG1ldHJpY3MsIGNoYW5uZWxzLCBhbmQgb3RoZXIgdmlzdWFsaXphdGlvbiBvcHRpb25zLlxuICAgICA2XHRcIlwiXCJcbiAgICAgN1x0XG4gICAgIDhcdGZyb20gdHlwaW5nIGltcG9ydCBMaXN0LCBEaWN0LCBUdXBsZSwgT3B0aW9uYWwsIEFueSwgQ2FsbGFibGVcbiAgICAgOVx0aW1wb3J0IG9zXG4gICAgMTBcdGltcG9ydCBzeXNcbiAgICAxMVx0aW1wb3J0IHN1YnByb2Nlc3NcbiAgICAxMlx0aW1wb3J0IGN1c3RvbXRraW50ZXIgYXMgY3RrXG4gICAgMTNcdGltcG9ydCB0a2ludGVyIGFzIHRrXG4gICAgMTRcdGZyb20gdGtpbnRlciBpbXBvcnQgbWVzc2FnZWJveFxuICAgIDE1XHRpbXBvcnQgbW5lXG4gICAgMTZcdGltcG9ydCBudW1weSBhcyBucFxuICAgIDE3XHRcbiAgICAxOFx0ZnJvbSAuZGF0YWJhc2VfaGFuZGxlciBpbXBvcnQgRGF0YWJhc2VIYW5kbGVyXG4gICAgMTlcdGZyb20gLnBsb3RfZnJhbWUgaW1wb3J0IE1ldHJpY3NQbG90RnJhbWVcbiAgICAyMFx0ZnJvbSAudXRpbHMgaW1wb3J0IChcblxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICA1NzZcdCAgICAgICAgc2VsZi5zdGFydF90aW1lX3Zhci5zZXQoXCIwXCIpXG4gICA1NzdcdCAgICAgICAgc2VsZi5lbmRfdGltZV92YXIuc2V0KFwiXCIpXG4gICA1NzhcdCAgICAgICAgc2VsZi51cGRhdGVfcGxvdCgpXG4gICA1NzlcdFxuICAgNTgwXHQgICAgZGVmIHZpZXdfZWVnKHNlbGYpOlxuICAgNTgxXHQgICAgICAgIFwiXCJcIk9wZW4gdGhlIGN1cnJlbnQgRUVHIGZpbGUgd2l0aCBNTkUgYW5kIGRpc3BsYXkgaXQgaW4gYSBuZXcgd2luZG93IHVzaW5nIGEgc3VicHJvY2Vzcy5cIlwiXCJcbiAgIDU4Mlx0ICAgICAgICBpZiBub3QgaGFzYXR0cihzZWxmLCAnY3VycmVudF9leHBlcmltZW50X2lkJykgb3Igbm90IGhhc2F0dHIoc2VsZiwgJ2N1cnJlbnRfZWVnX2lkJyk6XG4gICA1ODNcdCAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2luZm8oXCJObyBFRUcgU2VsZWN0ZWRcIiwgXCJQbGVhc2Ugc2VsZWN0IGFuIGV4cGVyaW1lbnQgYW5kIEVFRyBmaWxlIGZpcnN0LlwiKVxuICAgNTg0XHQgICAgICAgICAgICByZXR1cm5cbiAgIDU4NVx0XG4gICA1ODZcdCAgICAgICAgIyBGaW5kIHRoZSBzZWxlY3RlZCBFRUcgdG8gZ2V0IGl0cyBmaWxlcGF0aFxuICAgNTg3XHQgICAgICAgIHNlbGVjdGVkX2VlZyA9IE5vbmVcbiAgIDU4OFx0ICAgICAgICBmb3IgZWVnIGluIHNlbGYuZWVnczpcbiAgIDU4OVx0ICAgICAgICAgICAgaWYgZWVnWydpZCddID09IHNlbGYuY3VycmVudF9lZWdfaWQ6XG4gICA1OTBcdCAgICAgICAgICAgICAgICBzZWxlY3RlZF9lZWcgPSBlZWdcbiAgIDU5MVx0ICAgICAgICAgICAgICAgIGJyZWFrXG4gICA1OTJcdFxuICAgNTkzXHQgICAgICAgIGlmIG5vdCBzZWxlY3RlZF9lZWcgb3Igbm90IHNlbGVjdGVkX2VlZy5nZXQoJ2ZpbGVwYXRoJyk6XG4gICA1OTRcdCAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKFwiRXJyb3JcIiwgXCJDb3VsZCBub3QgZmluZCB0aGUgRUVHIGZpbGUgcGF0aC5cIilcbiAgIDU5NVx0ICAgICAgICAgICAgcmV0dXJuXG4gICA1OTZcdFxuICAgNTk3XHQgICAgICAgIGVlZ19maWxlcGF0aCA9IHNlbGVjdGVkX2VlZ1snZmlsZXBhdGgnXVxuICAgNTk4XHRcbiAgIDU5OVx0ICAgICAgICAjIENoZWNrIGlmIHRoZSBmaWxlIGV4aXN0c1xuICAgNjAwXHQgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhlZWdfZmlsZXBhdGgpOlxuICAgNjAxXHQgICAgICAgICAgICBtZXNzYWdlYm94LnNob3dlcnJvcihcIkZpbGUgTm90IEZvdW5kXCIsIGZcIlRoZSBFRUcgZmlsZSB3YXMgbm90IGZvdW5kIGF0OlxcbntlZWdfZmlsZXBhdGh9XCIpXG4gICA2MDJcdCAgICAgICAgICAgIHJldHVyblxuICAgNjAzXHRcbiAgIDYwNFx0ICAgICAgICAjIEdldCB0aGUgY3VycmVudCB0aW1lIHdpbmRvd1xuICAgNjA1XHQgICAgICAgIHRyeTpcbiAgIDYwNlx0ICAgICAgICAgICAgc3RhcnRfdGltZSA9IGZsb2F0KHNlbGYuc3RhcnRfdGltZV92YXIuZ2V0KCkpIGlmIHNlbGYuc3RhcnRfdGltZV92YXIuZ2V0KCkgZWxzZSBOb25lXG4gICA2MDdcdCAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6XG4gICA2MDhcdCAgICAgICAgICAgIHN0YXJ0X3RpbWUgPSBOb25lXG4gICA2MDlcdFxuICAgNjEwXHQgICAgICAgIHRyeTpcbiAgIDYxMVx0ICAgICAgICAgICAgZW5kX3RpbWUgPSBmbG9hdChzZWxmLmVuZF90aW1lX3Zhci5nZXQoKSkgaWYgc2VsZi5lbmRfdGltZV92YXIuZ2V0KCkgZWxzZSBOb25lXG4gICA2MTJcdCAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6XG4gICA2MTNcdCAgICAgICAgICAgIGVuZF90aW1lID0gTm9uZVxuICAgNjE0XHRcbiAgIDYxNVx0ICAgICAgICAjIFNob3cgYSBsb2FkaW5nIG1lc3NhZ2VcbiAgIDYxNlx0ICAgICAgICBsb2FkaW5nX3dpbmRvdyA9IHRrLlRvcGxldmVsKHNlbGYpXG4gICA2MTdcdCAgICAgICAgbG9hZGluZ193aW5kb3cudGl0bGUoXCJMb2FkaW5nIEVFR1wiKVxuICAgNjE4XHQgICAgICAgIGxvYWRpbmdfd2luZG93Lmdlb21ldHJ5KFwiMzAweDEwMFwiKVxuICAgNjE5XHQgICAgICAgIGxvYWRpbmdfd2luZG93LnRyYW5zaWVudChzZWxmLm1hc3RlcilcbiAgIDYyMFx0ICAgICAgICBsb2FkaW5nX3dpbmRvdy5ncmFiX3NldCgpXG4gICA2MjFcdFxuICAgNjIyXHQgICAgICAgIGxvYWRpbmdfbGFiZWwgPSB0ay5MYWJlbChsb2FkaW5nX3dpbmRvdywgdGV4dD1cIlN0YXJ0aW5nIE1ORSB2aWV3ZXIuLi5cXG5UaGlzIG1heSB0YWtlIGEgbW9tZW50LlwiKVxuICAgNjIzXHQgICAgICAgIGxvYWRpbmdfbGFiZWwucGFjayhleHBhbmQ9VHJ1ZSwgZmlsbD10ay5CT1RILCBwYWR4PTIwLCBwYWR5PTIwKVxuICAgNjI0XHQgICAgICAgIGxvYWRpbmdfd2luZG93LnVwZGF0ZSgpXG4gICA2MjVcdFxuICAgNjI2XHQgICAgICAgIHRyeTpcbiAgIDYyN1x0ICAgICAgICAgICAgIyBHZXQgdGhlIHBhdGggdG8gdGhlIGhlbHBlciBzY3JpcHRcbiAgIDYyOFx0ICAgICAgICAgICAgaGVscGVyX3NjcmlwdF9wYXRoID0gb3MucGF0aC5qb2luKG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmFic3BhdGgoX19maWxlX18pKSwgXCJtbmVfcGxvdF9oZWxwZXIucHlcIilcbiAgIDYyOVx0XG4gICA2MzBcdCAgICAgICAgICAgICMgTWFrZSBzdXJlIHRoZSBoZWxwZXIgc2NyaXB0IGlzIGV4ZWN1dGFibGVcbiAgIDYzMVx0ICAgICAgICAgICAgaWYgbm90IG9zLmFjY2VzcyhoZWxwZXJfc2NyaXB0X3BhdGgsIG9zLlhfT0spIGFuZCBzeXMucGxhdGZvcm0gIT0gJ3dpbjMyJzpcbiAgIDYzMlx0ICAgICAgICAgICAgICAgIG9zLmNobW9kKGhlbHBlcl9zY3JpcHRfcGF0aCwgMG83NTUpXG4gICA2MzNcdFxuICAgNjM0XHQgICAgICAgICAgICAjIEJ1aWxkIHRoZSBjb21tYW5kIHRvIHJ1biB0aGUgaGVscGVyIHNjcmlwdFxuICAgNjM1XHQgICAgICAgICAgICBjbWQgPSBbc3lzLmV4ZWN1dGFibGUsIGhlbHBlcl9zY3JpcHRfcGF0aCwgXCItLWZpbGVwYXRoXCIsIGVlZ19maWxlcGF0aF1cbiAgIDYzNlx0XG4gICA2MzdcdCAgICAgICAgICAgICMgQWRkIHRpbWUgd2luZG93IHBhcmFtZXRlcnMgaWYgc3BlY2lmaWVkXG4gICA2MzhcdCAgICAgICAgICAgIGlmIHN0YXJ0X3RpbWUgaXMgbm90IE5vbmU6XG4gICA2MzlcdCAgICAgICAgICAgICAgICBjbWQuZXh0ZW5kKFtcIi0tc3RhcnQtdGltZVwiLCBzdHIoc3RhcnRfdGltZSldKVxuICAgNjQwXHQgICAgICAgICAgICBpZiBlbmRfdGltZSBpcyBub3QgTm9uZTpcbiAgIDY0MVx0ICAgICAgICAgICAgICAgIGNtZC5leHRlbmQoW1wiLS1lbmQtdGltZVwiLCBzdHIoZW5kX3RpbWUpXSlcbiAgIDY0Mlx0XG4gICA2NDNcdCAgICAgICAgICAgICMgQWRkIHRpdGxlXG4gICA2NDRcdCAgICAgICAgICAgIHdpbmRvd190aXRsZSA9IGZcIk1ORSBFRUcgVmlld2VyIC0ge3NlbGVjdGVkX2VlZ1snZmlsZW5hbWUnXX1cIlxuICAgNjQ1XHQgICAgICAgICAgICBjbWQuZXh0ZW5kKFtcIi0tdGl0bGVcIiwgd2luZG93X3RpdGxlXSlcbiAgIDY0Nlx0XG4gICA2NDdcdCAgICAgICAgICAgICMgTGF1bmNoIHRoZSBzdWJwcm9jZXNzXG4gICA2NDhcdCAgICAgICAgICAgIHN1YnByb2Nlc3MuUG9wZW4oY21kLCBzdGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKVxuICAgNjQ5XHRcbiAgIDY1MFx0ICAgICAgICAgICAgIyBDbG9zZSB0aGUgbG9hZGluZyB3aW5kb3cgYWZ0ZXIgYSBzaG9ydCBkZWxheVxuICAgNjUxXHQgICAgICAgICAgICBzZWxmLmFmdGVyKDEwMDAsIGxvYWRpbmdfd2luZG93LmRlc3Ryb3kpXG4gICA2NTJcdFxuICAgNjUzXHQgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcbiAgIDY1NFx0ICAgICAgICAgICAgbG9hZGluZ193aW5kb3cuZGVzdHJveSgpXG4gICA2NTVcdCAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKFwiRXJyb3JcIiwgZlwiRmFpbGVkIHRvIG9wZW4gdGhlIEVFRyBmaWxlIHdpdGggTU5FOlxcbntzdHIoZSl9XCIpXG4gICA2NTZcdFxuICAgNjU3XHQgICAgZGVmIHVwZGF0ZV9wbG90KHNlbGYpOlxuICAgNjU4XHQgICAgICAgIFwiXCJcIlVwZGF0ZSB0aGUgcGxvdCB3aXRoIHRoZSBzZWxlY3RlZCBtZXRyaWMgYW5kIGNoYW5uZWxzLlwiXCJcIlxuICAgNjU5XHQgICAgICAgIGlmIG5vdCBoYXNhdHRyKHNlbGYsICdjdXJyZW50X2V4cGVyaW1lbnRfaWQnKSBvciBub3QgaGFzYXR0cihzZWxmLCAnY3VycmVudF9lZWdfaWQnKSBvciBub3Qgc2VsZi5jdXJyZW50X21ldHJpYzpcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiOGQxZGMzNGEtY2U1MC00MTRlLThiMzctOWVhNWE1YjUyZDU2O3Rvb2x1X3ZydHhfMDFSWXdjOHZ5bTJ2cW93WmhpaXJTaE1GIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlByb2Nlc3MgbGF1bmNoZWQgd2l0aCBQSUQgMTEiLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19fSwiZHJhZnRFeGNoYW5nZSI6eyJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIn1dfSwic3RhdHVzIjoiZHJhZnQifSwicmVxdWVzdElkcyI6W10sImlzUGlubmVkIjpmYWxzZSwiaXNTaGFyZWFibGUiOnRydWUsImV4dHJhRGF0YSI6eyJpc0FnZW50Q29udmVyc2F0aW9uIjp0cnVlLCJoYXNEaXJ0eUVkaXRzIjpmYWxzZX0sInBlcnNvbmFUeXBlIjowfX0sImFnZW50RXhlY3V0aW9uTW9kZSI6Im1hbnVhbCIsImlzQWdlbnRFZGl0c0NvbGxhcHNlZCI6ZmFsc2V9" />
      </map>
    </option>
  </component>
</project>